/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{0:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return h}));var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(t[p]=b[p])})(t,b)};function o(t,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}function c(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{f(r.next(t))}catch(t){c(t)}}function h(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,h)}f((r=r.apply(t,e||[])).next())}))}function l(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}Object.create;function h(t,e){for(var i=0,n=e.length,r=t.length;i<n;i++,r++)t[r]=e[i];return t}Object.create},10:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return gc})),n.d(e,"b",(function(){return bc})),n.d(e,"c",(function(){return Ys})),n.d(e,"d",(function(){return W})),n.d(e,"e",(function(){return hc})),n.d(e,"f",(function(){return dc})),n.d(e,"g",(function(){return Xs})),n.d(e,"h",(function(){return fc})),n.d(e,"i",(function(){return mc})),n.d(e,"j",(function(){return Tc})),n.d(e,"k",(function(){return xc})),n.d(e,"l",(function(){return _c})),n.d(e,"m",(function(){return Ac})),n.d(e,"n",(function(){return vc})),n.d(e,"o",(function(){return Nc})),n.d(e,"p",(function(){return kc})),n.d(e,"q",(function(){return Sc})),n.d(e,"r",(function(){return iu}));var r=n(16),o=n(4),c=n(13),l=n(0),h=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();h.o=-1;var f=new r.b("@firebase/firestore");function d(){return f.logLevel}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=r.a.DEBUG){var i=e.map(w);f.debug.apply(f,Object(l.d)(["Firestore (8.3.1): "+t],i))}}function v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=r.a.ERROR){var i=e.map(w);f.error.apply(f,Object(l.d)(["Firestore (8.3.1): "+t],i))}}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=r.a.WARN){var i=e.map(w);f.warn.apply(f,Object(l.d)(["Firestore (8.3.1): "+t],i))}}function w(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function I(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw v(e),new Error(e)}function E(t,e){t||I()}function T(t,e){return t}function S(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var _=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=S(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function O(t,e){return t<e?-1:t>e?1:0}function k(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function A(t){return t+"\0"}function C(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function N(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function x(t){return null==t}function D(t){return 0===t&&1/t==-1/0}function P(t){return"number"==typeof t&&Number.isInteger(t)&&!D(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(l.b)(e,t),e}(Error),R=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&I(),void 0===n?n=t.length-e:n>t.length-e&&I(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new L(j.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(R),F=/^[_a-zA-Z][_a-zA-Z0-9]*$/,V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return F.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new L(j.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new L(j.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new L(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new L(j.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(R),U=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(M.fromString(e))},t.fromName=function(e){return new t(M.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===M.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return M.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new M(e.slice()))},t}(),B=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return O(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();B.EMPTY_BYTE_STRING=new B("");var K=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function G(t){if(E(!!t),"string"==typeof t){var e=0,n=K.exec(t);if(E(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:z(t.seconds),nanos:z(t.nanos)}}function z(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function H(t){return"string"==typeof t?B.fromBase64String(t):B.fromUint8Array(t)}var W=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new L(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new L(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new L(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?O(this.nanoseconds,t.nanoseconds):O(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function Q(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function X(t){var e=t.mapValue.fields.__previous_value__;return Q(e)?X(e):e}function rt(t){var e=G(t.mapValue.fields.__local_write_time__.timestampValue);return new W(e.seconds,e.nanos)}function Y(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Q(t)?4:10:I()}function J(t,e){var n=Y(t);if(n!==Y(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rt(t).isEqual(rt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=G(t.timestampValue),r=G(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return H(t.bytesValue).isEqual(H(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return z(t.geoPointValue.latitude)===z(e.geoPointValue.latitude)&&z(t.geoPointValue.longitude)===z(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return z(t.integerValue)===z(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=z(t.doubleValue),r=z(e.doubleValue);return n===r?D(n)===D(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return k(t.arrayValue.values||[],e.arrayValue.values||[],J);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(C(n)!==C(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!J(n[i],r[i])))return!1;return!0}(t,e);default:return I()}}function $(t,e){return void 0!==(t.values||[]).find((function(t){return J(t,e)}))}function Z(t,e){var n=Y(t),r=Y(e);if(n!==r)return O(n,r);switch(n){case 0:return 0;case 1:return O(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=z(t.integerValue||t.doubleValue),r=z(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return tt(t.timestampValue,e.timestampValue);case 4:return tt(rt(t),rt(e));case 5:return O(t.stringValue,e.stringValue);case 6:return function(t,e){var n=H(t),r=H(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=O(n[i],r[i]);if(0!==o)return o}return O(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=O(z(t.latitude),z(e.latitude));return 0!==n?n:O(z(t.longitude),z(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Z(n[i],r[i]);if(o)return o}return O(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=O(r[s],o[s]);if(0!==u)return u;var a=Z(n[r[s]],i[o[s]]);if(0!==a)return a}return O(r.length,o.length)}(t.mapValue,e.mapValue);default:throw I()}}function tt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return O(t,e);var n=G(t),r=G(e),i=O(n.seconds,r.seconds);return 0!==i?i:O(n.nanos,r.nanos)}function et(t){return nt(t)}function nt(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=G(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?H(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,U.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=nt(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+nt(t.fields[o])}return e+"}"}(t.mapValue):I();var e,n}function it(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ot(t){return!!t&&"integerValue"in t}function dt(t){return!!t&&"arrayValue"in t}function at(t){return!!t&&"nullValue"in t}function st(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ut(t){return!!t&&"mapValue"in t}var ct=function(t,e){this.key=t,this.version=e},lt=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(l.b)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(ct),ht=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(l.b)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ct),ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ct),pt=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function mt(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new pt(t,e,n,r,i,o,s)}function vt(t){var e=T(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+et(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),x(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ct(e.startAt)),e.endAt&&(n+="|ub:",n+=Ct(e.endAt)),e.h=n}return e.h}function gt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!xt(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!J(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pt(t.startAt,e.startAt)&&Pt(t.endAt,e.endAt)}function yt(t){return U.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var bt=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(l.b)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new wt(t,n,r):"array-contains"===n?new St(t,r):"in"===n?new _t(t,r):"not-in"===n?new Ot(t,r):"array-contains-any"===n?new kt(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new It(t,n):new Et(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(Z(e,this.value)):null!==e&&Y(this.value)===Y(e)&&this.m(Z(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return I()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),wt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=U.fromName(r.referenceValue),i}return Object(l.b)(e,t),e.prototype.matches=function(t){var e=U.comparator(t.key,this.key);return this.m(e)},e}(bt),It=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Tt("in",n),r}return Object(l.b)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(bt),Et=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Tt("not-in",n),r}return Object(l.b)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(bt);function Tt(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return U.fromName(t.referenceValue)}))}var St=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(l.b)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return dt(e)&&$(e.arrayValue,this.value)},e}(bt),_t=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(l.b)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&$(this.value.arrayValue,e)},e}(bt),Ot=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(l.b)(e,t),e.prototype.matches=function(t){if($(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!$(this.value.arrayValue,e)},e}(bt),kt=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(l.b)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!dt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return $(e.value.arrayValue,t)}))},e}(bt),At=function(t,e){this.position=t,this.before=e};function Ct(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return et(t)})).join(",")}var Nt=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function xt(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Dt(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?U.comparator(U.fromName(s.referenceValue),n.key):Z(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Pt(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!J(t.position[n],e.position[n]))return!1;return!0}var jt=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function Lt(t,e,n,r,i,o,s,u){return new jt(t,e,n,r,i,o,s,u)}function Rt(t){return new jt(t)}function Mt(t){return!x(t.limit)&&"F"===t.limitType}function Ft(t){return!x(t.limit)&&"L"===t.limitType}function Vt(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ut(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function qt(t){return null!==t.collectionGroup}function Bt(t){var e=T(t);if(null===e.p){e.p=[];var n=Ut(e),r=Vt(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Nt(n)),e.p.push(new Nt(V.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var u=s[o];e.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Nt(V.keyField(),a))}}}return e.p}function Kt(t){var e=T(t);if(!e.T)if("F"===e.limitType)e.T=mt(e.path,e.collectionGroup,Bt(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Bt(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Nt(o.field,s))}var u=e.endAt?new At(e.endAt.position,!e.endAt.before):null,a=e.startAt?new At(e.startAt.position,!e.startAt.before):null;e.T=mt(e.path,e.collectionGroup,n,e.filters,e.limit,u,a)}return e.T}function Gt(t,e,n){return new jt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zt(t,e){return gt(Kt(t),Kt(e))&&t.limitType===e.limitType}function Ht(t){return vt(Kt(t))+"|lt:"+t.limitType}function Wt(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+et(e.value);var e})).join(", ")+"]"),x(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ct(t.startAt)),t.endAt&&(e+=", endAt: "+Ct(t.endAt)),"Target("+e+")"}(Kt(t))+"; limitType="+t.limitType+")"}function Qt(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):U.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Dt(t.startAt,Bt(t),e)||t.endAt&&Dt(t.endAt,Bt(t),e))}(t,e)}function Xt(t){return function(e,n){for(var r=!1,i=0,o=Bt(t);i<o.length;i++){var s=o[i],u=Yt(s,e,n);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function Yt(t,e,n){var r=t.field.isKeyField()?U.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Z(r,i):I()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return I()}}var Jt=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new W(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),$t=function(){function t(t){this.fields=t,t.sort(V.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return k(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Zt=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!ut(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return J(this.proto,t.proto)},t}(),te=function(){function t(t){void 0===t&&(t=Zt.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Y(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(V.emptyPath(),this.A);return null!=t?new Zt(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),o=ut(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.P(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function ee(t){var e=[];return N(t.fields||{},(function(t,n){var r=new V([t]);if(ut(n)){var i=ee(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var u=s[o];e.push(r.child(u))}}else e.push(r)})),new $t(e)}function ne(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:D(e)?"-0":e}}function re(t){return{integerValue:""+t}}function ie(t,e){return P(e)?re(e):ne(t,e)}var oe=function(){this._=void 0};function ae(t,e,n){return t instanceof ce?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof le?he(t,e):t instanceof fe?de(t,e):function(t,e){var n=ue(t,e),r=me(n)+me(t.S);return ot(n)&&ot(t.S)?re(r):ne(t.D,r)}(t,e)}function se(t,e,n){return t instanceof le?he(t,e):t instanceof fe?de(t,e):n}function ue(t,e){return t instanceof pe?ot(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e}(oe),le=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(l.b)(e,t),e}(oe);function he(t,e){for(var n=ve(e),r=function(t){n.some((function(e){return J(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fe=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(l.b)(e,t),e}(oe);function de(t,e){for(var n=ve(e),r=function(t){n=n.filter((function(e){return!J(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var pe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(l.b)(e,t),e}(oe);function me(t){return z(t.integerValue||t.doubleValue)}function ve(t){return dt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ge=function(t,e){this.field=t,this.transform=e},ye=function(t,e){this.version=t,this.transformResults=e},be=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function we(t,e){return void 0!==t.updateTime?e instanceof lt&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof lt}var Ie=function(){};function Ee(t,e,n){return t instanceof ke?function(t,e,n){var r=t.value,i=Ne(t.fieldTransforms,e,n.transformResults);return r=De(t.fieldTransforms,r,i),new lt(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ae?function(t,e,n){if(!we(t.precondition,e))return new ft(t.key,n.version);var r=Ce(t,e,Ne(t.fieldTransforms,e,n.transformResults));return new lt(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ht(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Te(t,e,n){return t instanceof ke?function(t,e,n){if(!we(t.precondition,e))return e;var r=t.value,i=xe(t.fieldTransforms,n,e);r=De(t.fieldTransforms,r,i);var o=Oe(e);return new lt(t.key,o,r,{hasLocalMutations:!0})}(t,e,n):t instanceof Ae?function(t,e,n){if(!we(t.precondition,e))return e;var r=Oe(e),i=Ce(t,e,xe(t.fieldTransforms,n,e));return new lt(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return we(t.precondition,e)?new ht(t.key,Jt.min()):e}(t,e)}function Se(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof lt?e.field(o.field):void 0,u=ue(o.transform,s||null);null!=u&&(n=null==n?(new te).set(o.field,u):n.set(o.field,u))}return n?n.v():null}(t.fieldTransforms,e)}function _e(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&k(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof le&&e instanceof le||t instanceof fe&&e instanceof fe?k(t.elements,e.elements,J):t instanceof pe&&e instanceof pe?J(t.S,e.S):t instanceof ce&&e instanceof ce}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Oe(t){return t instanceof lt?t.version:Jt.min()}var ke=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(l.b)(e,t),e}(Ie),Ae=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(l.b)(e,t),e}(Ie);function Ce(t,e,n){var r;return r=function(t,e){var n=new te(e);return t.fieldMask.fields.forEach((function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.v()}(t,r=e instanceof lt?e.data():Zt.empty()),De(t.fieldTransforms,r,n)}function Ne(t,e,n){var r=[];E(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof lt&&(u=e.field(o.field)),r.push(se(s,u,n[i]))}return r}function xe(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],u=s.transform,a=null;n instanceof lt&&(a=n.field(s.field)),r.push(ae(u,a,e))}return r}function De(t,e,n){for(var r=new te(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.v()}var Pe,je,Le=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(l.b)(e,t),e}(Ie),Re=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(l.b)(e,t),e}(Ie),Me=function(t){this.count=t};function Fe(t){switch(t){case j.OK:return I();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return I()}}function Ve(t){if(void 0===t)return v("GRPC error has no .code"),j.UNKNOWN;switch(t){case Pe.OK:return j.OK;case Pe.CANCELLED:return j.CANCELLED;case Pe.UNKNOWN:return j.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return j.INTERNAL;case Pe.UNAVAILABLE:return j.UNAVAILABLE;case Pe.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Pe.NOT_FOUND:return j.NOT_FOUND;case Pe.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Pe.ABORTED:return j.ABORTED;case Pe.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Pe.DATA_LOSS:return j.DATA_LOSS;default:return I()}}(je=Pe||(Pe={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";var Ue=function(){function t(t,e){this.comparator=t,this.root=e||Be.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Be.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new qe(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new qe(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new qe(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new qe(this.root,t,this.comparator,!0)},t}(),qe=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Be=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw I();if(this.right.isRed())throw I();var t=this.left.check();if(t!==this.right.check())throw I();return t+(this.isRed()?0:1)},t}();Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1,Be.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw I()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw I()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw I()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw I()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw I()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Be(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Ke=function(){function t(t){this.comparator=t,this.data=new Ue(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ge(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ge(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ge=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ze=new Ue(U.comparator);function He(){return ze}function We(){return He()}var Qe=new Ue(U.comparator);function Xe(){return Qe}var Ye=new Ue(U.comparator);function Je(){return Ye}var $e=new Ke(U.comparator);function Ze(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=$e,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var tn=new Ke(O);function en(){return tn}var nn=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,rn.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Jt.min(),r,en(),He(),Ze())},t}(),rn=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(B.EMPTY_BYTE_STRING,n,Ze(),Ze(),Ze())},t}(),on=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},an=function(t,e){this.targetId=t,this.$=e},sn=function(t,e,n,r){void 0===n&&(n=B.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},un=function(){function t(){this.F=0,this.O=hn(),this.k=B.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=Ze(),e=Ze(),n=Ze();return this.O.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:I()}})),new rn(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=hn()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),cn=function(){function t(t){this.X=t,this.Z=new Map,this.tt=He(),this.et=ln(),this.nt=new Ke(O)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof lt?this.it(r,t.N):t.N instanceof ht&&this.rt(r,t.key,t.N)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.rt(r,t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:I()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach((function(t,r){n.at(r)&&e(r)}))},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(yt(i))if(0===n){var o=new U(i.path);this.rt(e,o,new ht(o,Jt.min()))}else E(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach((function(r,i){var o=e.lt(i);if(o){if(r.current&&yt(o.target)){var s=new U(o.target.path);null!==e.tt.get(s)||e.wt(i,s)||e.rt(i,s,new ht(s,t))}r.q&&(n.set(i,r.K()),r.W())}}));var r=Ze();this.et.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new nn(t,n,this.nt,this.tt,r);return this.tt=He(),this.et=ln(),this.nt=new Ke(O),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new un,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new Ke(O),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||m("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new un),this.X.getRemoteKeysForTarget(t).forEach((function(n){e.rt(t,n,null)}))},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function ln(){return new Ue(U.comparator)}function hn(){return new Ue(U.comparator)}var fn={asc:"ASCENDING",desc:"DESCENDING"},dn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pn=function(t,e){this.databaseId=t,this.V=e};function mn(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function vn(t,e){return t.V?e.toBase64():e.toUint8Array()}function gn(t,e){return mn(t,e.toTimestamp())}function yn(t){return E(!!t),Jt.fromTimestamp(function(t){var e=G(t);return new W(e.seconds,e.nanos)}(t))}function bn(t,e){return function(t){return new M(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function wn(t){var e=M.fromString(t);return E(Gn(e)),e}function In(t,e){return bn(t.databaseId,e.path)}function En(t,e){var n=wn(e);if(n.get(1)!==t.databaseId.projectId)throw new L(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(On(n))}function Tn(t,e){return bn(t.databaseId,e)}function Sn(t){var e=wn(t);return 4===e.length?M.emptyPath():On(e)}function _n(t){return new M(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function On(t){return E(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function kn(t,e,n){return{name:In(t,e),fields:n.proto.mapValue.fields}}function An(t,e,n){var r=En(t,e.name),i=yn(e.updateTime),o=new Zt({mapValue:{fields:e.fields}});return new lt(r,i,o,{hasCommittedMutations:!!n})}function Cn(t,e){var n;if(e instanceof ke)n={update:kn(t,e.key,e.value)};else if(e instanceof Le)n={delete:In(t,e.key)};else if(e instanceof Ae)n={update:kn(t,e.key,e.data),updateMask:Kn(e.fieldMask)};else{if(!(e instanceof Re))return I();n={verify:In(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof ce)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof le)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fe)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pe)return{fieldPath:e.field.canonicalString(),increment:n.S};throw I()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:gn(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:I()}(t,e.precondition)),n}function Nn(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?be.updateTime(yn(t.updateTime)):void 0!==t.exists?be.exists(t.exists):be.none()}(e.currentDocument):be.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)E("REQUEST_TIME"===e.setToServerValue),n=new ce;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new le(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new fe(i)}else"increment"in e?n=new pe(t,e.increment):I();var o=V.fromServerFormat(e.fieldPath);return new ge(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=En(t,e.update.name),o=new Zt({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new $t(e.map((function(t){return V.fromServerFormat(t)})))}(e.updateMask);return new Ae(i,o,s,n,r)}return new ke(i,o,n,r)}if(e.delete){var u=En(t,e.delete);return new Le(u,n)}if(e.verify){var a=En(t,e.verify);return new Re(a,n)}return I()}function xn(t,e){return{documents:[Tn(t,e.path)]}}function Dn(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Tn(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Tn(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(st(t.value))return{unaryFilter:{field:Vn(t.field),op:"IS_NAN"}};if(at(t.value))return{unaryFilter:{field:Vn(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(st(t.value))return{unaryFilter:{field:Vn(t.field),op:"IS_NOT_NAN"}};if(at(t.value))return{unaryFilter:{field:Vn(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vn(t.field),op:Fn(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Vn(t.field),direction:Mn(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.V||x(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Ln(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ln(e.endAt)),n}function Pn(t){var e=Sn(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){E(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=jn(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(t){return function(t){return new Nt(Un(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var a=null;n.limit&&(a=function(t){var e;return x(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Rn(n.startAt));var l=null;return n.endAt&&(l=Rn(n.endAt)),Lt(e,i,u,s,a,"F",c,l)}function jn(t){return t?void 0!==t.unaryFilter?[Bn(t)]:void 0!==t.fieldFilter?[qn(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return jn(t)})).reduce((function(t,e){return t.concat(e)})):I():[]}function Ln(t){return{before:t.before,values:t.position}}function Rn(t){var e=!!t.before,n=t.values||[];return new At(n,e)}function Mn(t){return fn[t]}function Fn(t){return dn[t]}function Vn(t){return{fieldPath:t.canonicalString()}}function Un(t){return V.fromServerFormat(t.fieldPath)}function qn(t){return bt.create(Un(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return I()}}(t.fieldFilter.op),t.fieldFilter.value)}function Bn(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Un(t.unaryFilter.field);return bt.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Un(t.unaryFilter.field);return bt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Un(t.unaryFilter.field);return bt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Un(t.unaryFilter.field);return bt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return I()}}function Kn(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Gn(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function zn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=tr(e)),e=Hn(t.get(n),e);return tr(e)}function Hn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function tr(t){return t+""}function Wn(t){var e=t.length;if(E(e>=2),2===e)return E(""===t.charAt(0)&&""===t.charAt(1)),M.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&I(),t.charAt(s+1)){case"":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:I()}o=s+2}return new M(r)}var Qn=function(t,e){this.seconds=t,this.nanoseconds=e},Xn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Xn.store="owner",Xn.key="owner";var Yn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Yn.store="mutationQueues",Yn.keyPath="userId";var Jn=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Jn.store="mutations",Jn.keyPath="batchId",Jn.userMutationsIndex="userMutationsIndex",Jn.userMutationsKeyPath=["userId","batchId"];var $n=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,zn(e)]},t.key=function(t,e,n){return[t,zn(e),n]},t}();$n.store="documentMutations",$n.PLACEHOLDER=new $n;var Zn=function(t,e){this.path=t,this.readTime=e},er=function(t,e){this.path=t,this.version=e},nr=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};nr.store="remoteDocuments",nr.readTimeIndex="readTimeIndex",nr.readTimeIndexPath="readTime",nr.collectionReadTimeIndex="collectionReadTimeIndex",nr.collectionReadTimeIndexPath=["parentPath","readTime"];var hr=function(t){this.byteSize=t};hr.store="remoteDocumentGlobal",hr.key="remoteDocumentGlobalKey";var rr=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};rr.store="targets",rr.keyPath="targetId",rr.queryTargetsIndexName="queryTargetsIndex",rr.queryTargetsKeyPath=["canonicalId","targetId"];var ir=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ir.store="targetDocuments",ir.keyPath=["targetId","path"],ir.documentTargetsIndex="documentTargetsIndex",ir.documentTargetsKeyPath=["path","targetId"];var or=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};or.key="targetGlobalKey",or.store="targetGlobal";var ar=function(t,e){this.collectionId=t,this.parent=e};ar.store="collectionParents",ar.keyPath=["collectionId","parent"];var sr=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};sr.store="clientMetadata",sr.keyPath="clientId";var ur=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ur.store="bundles",ur.keyPath="bundleId";var cr=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};cr.store="namedQueries",cr.keyPath="name";var lr=Object(l.d)(Object(l.d)([],Object(l.d)(Object(l.d)([],Object(l.d)(Object(l.d)([],Object(l.d)(Object(l.d)([],[Yn.store,Jn.store,$n.store,nr.store,rr.store,Xn.store,or.store,ir.store]),[sr.store])),[hr.store])),[ar.store])),[ur.store,cr.store]),fr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",br=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),dr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},pr=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&I(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),mr=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new dr,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new yr(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=Sr(e.target.error);n.gt.reject(new yr(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new yr(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(m("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ir(e)},t}(),vr=function(){function e(t,n,i){this.name=t,this.version=n,this.Tt=i,12.2===e.It(Object(o.j)())&&v("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return m("SimpleDb","Removing database:",t),Er(window.indexedDB.deleteDatabase(t)).toPromise()},e.At=function(){if("undefined"==typeof indexedDB)return!1;if(e.Rt())return!0;var t=Object(o.j)(),n=e.It(t),i=0<n&&n<10,r=e.bt(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)},e.Rt=function(){var e;return void 0!==t&&"YES"===(null===(e=t.env)||void 0===e?void 0:e.vt)},e.Pt=function(t,e){return t.store(e)},e.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Vt=function(t){return Object(l.a)(this,void 0,void 0,(function(){var e,n=this;return Object(l.c)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(m("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new yr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new L(j.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new yr(t,n))},i.onupgradeneeded=function(t){m("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Tt.St(e,i.transaction,t.oldVersion,n.version).next((function(){m("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}}))}))},e.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n,r){return Object(l.a)(this,void 0,void 0,(function(){var i,o,s,u,a;return Object(l.c)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,h;return Object(l.c)(this,(function(l){switch(l.label){case 0:++o,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,u.Vt(t)];case 2:return u.db=l.sent(),e=mr.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),pr.reject(t)})).toPromise(),a={},s.catch((function(){})),[4,e.Et];case 3:return[2,(a.value=(l.sent(),s),a)];case 4:return c=l.sent(),h="FirebaseError"!==c.name&&o<3,m("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),gr=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return Er(this.xt.delete())},t}(),yr=function(t){function e(e,n){var r=this;return(r=t.call(this,j.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(l.b)(e,t),e}(L);function wr(t){return"IndexedDbTransactionError"===t.name}var Ir=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(m("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(m("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Er(n)},t.prototype.add=function(t){return m("SimpleDb","ADD",this.store.name,t,t),Er(this.store.add(t))},t.prototype.get=function(t){var e=this;return Er(this.store.get(t)).next((function(n){return void 0===n&&(n=null),m("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return m("SimpleDb","DELETE",this.store.name,t),Er(this.store.delete(t))},t.prototype.count=function(){return m("SimpleDb","COUNT",this.store.name),Er(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Lt=function(t,e){m("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,(function(t,e,n){return n.delete()}))},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new pr((function(n,r){e.onerror=function(t){var e=Sr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Mt=function(t,e){var n=[];return new pr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new gr(i),s=e(i.primaryKey,i.value,o);if(s instanceof pr){var u=s.catch((function(t){return o.done(),pr.reject(t)}));n.push(u)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}})).next((function(){return pr.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Er(t){return new pr((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Sr(t.target.error);n(e)}}))}var Tr=!1;function Sr(t){var e=vr.It(Object(o.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new L("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Tr||(Tr=!0,setTimeout((function(){throw i}),0)),i}}return t}var _r=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(l.b)(e,t),e}(br);function Or(t,e){var n=T(t);return vr.Pt(n.Qt,e)}var kr=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Ee(o,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Te(s,e,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Te(s,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ze())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&k(this.mutations,t.mutations,(function(t,e){return _e(t,e)}))&&k(this.baseMutations,t.baseMutations,(function(t,e){return _e(t,e)}))},t}(),Ar=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){E(e.mutations.length===r.length);for(var i=Je(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Cr=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Jt.min()),void 0===o&&(o=Jt.min()),void 0===s&&(s=B.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Nr=function(t){this.Kt=t};function xr(t,e){if(e.document)return An(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=U.fromSegments(e.noDocument.path),r=Rr(e.noDocument.readTime);return new ht(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=U.fromSegments(e.unknownDocument.path);return r=Rr(e.unknownDocument.version),new ft(i,r)}return I()}function Dr(t,e,n){var r=Pr(n),i=e.key.path.popLast().toArray();if(e instanceof lt){var o=function(t,e){return{name:In(t,e.key),fields:e.toProto().mapValue.fields,updateTime:mn(t,e.version.toTimestamp())}}(t.Kt,e),s=e.hasCommittedMutations;return new nr(null,null,o,s,r,i)}if(e instanceof ht){var u=e.key.path.toArray(),a=Lr(e.version);return s=e.hasCommittedMutations,new nr(null,new Zn(u,a),null,s,r,i)}if(e instanceof ft){var c=e.key.path.toArray(),l=Lr(e.version);return new nr(new er(c,l),null,null,!0,r,i)}return I()}function Pr(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function jr(t){var e=new W(t[0],t[1]);return Jt.fromTimestamp(e)}function Lr(t){var e=t.toTimestamp();return new Qn(e.seconds,e.nanoseconds)}function Rr(t){var e=new W(t.seconds,t.nanoseconds);return Jt.fromTimestamp(e)}function Mr(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Nn(t.Kt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return Nn(t.Kt,e)})),u=W.fromMillis(e.localWriteTimeMs);return new kr(e.batchId,u,n,s)}function Fr(t){var e,n,r=Rr(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Rr(t.lastLimboFreeSnapshotVersion):Jt.min();return void 0!==t.query.documents?(E(1===(n=t.query).documents.length),e=Kt(Rt(Sn(n.documents[0])))):e=function(t){return Kt(Pn(t))}(t.query),new Cr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,B.fromBase64String(t.resumeToken))}function Vr(t,e){var n,r=Lr(e.snapshotVersion),i=Lr(e.lastLimboFreeSnapshotVersion);n=yt(e.target)?xn(t.Kt,e.target):Dn(t.Kt,e.target);var o=e.resumeToken.toBase64();return new rr(e.targetId,vt(e.target),r,o,e.sequenceNumber,i,n)}function Ur(t){var e=Pn({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Gt(e,e.limit,"L"):e}var qr=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Br(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Rr(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Br(t).put({bundleId:(n=e).id,createTime:Lr(yn(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Kr(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ur(e.bundledQuery),readTime:Rr(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Kr(t).put(function(t){return{name:t.name,readTime:Lr(yn(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Br(t){return Or(t,ur.store)}function Kr(t){return Or(t,cr.store)}var Gr=function(){function t(){this.Wt=new zr}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),pr.resolve()},t.prototype.getCollectionParents=function(t,e){return pr.resolve(this.Wt.getEntries(e))},t}(),zr=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ke(M.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ke(M.comparator)).toArray()},t}(),Hr=function(){function t(){this.jt=new zr}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.jt.add(e)}));var o={collectionId:r,parent:zn(i)};return Wr(t).put(o)}return pr.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[A(e),""],!1,!0);return Wr(t).kt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Wn(o.parent))}return n}))},t}();function Wr(t){return Or(t,ar.store)}var Qr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xr=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Yr(t,e,n){var r=t.store(Jn.store),i=t.store($n.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.qt({range:s},(function(t,e,n){return u++,n.delete()}));o.push(a.next((function(){E(1===u)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=$n.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return pr.waitFor(o).next((function(){return c}))}function Jr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw I();e=t.noDocument}return JSON.stringify(e).length}Xr.DEFAULT_COLLECTION_PERCENTILE=10,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xr.DEFAULT=new Xr(41943040,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xr.DISABLED=new Xr(-1,0,0);var $r=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return E(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ti(t).qt({index:Jn.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ei(t),s=ti(t);return s.add({}).next((function(u){E("number"==typeof u);for(var a=new kr(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Cn(t.Kt,e)})),i=n.mutations.map((function(e){return Cn(t.Kt,e)}));return new Jn(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,a),l=[],h=new Ke((function(t,e){return O(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=$n.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(m,$n.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.zt[u]=a.keys()})),pr.waitFor(l).next((function(){return a}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return ti(t).get(e).next((function(t){return t?(E(t.userId===n.userId),Mr(n.D,t)):null}))},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?pr.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ti(t).qt({index:Jn.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(E(e.batchId>=r),o=Mr(n.D,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ti(t).qt({index:Jn.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ti(t).kt(Jn.userMutationsIndex,n).next((function(t){return t.map((function(t){return Mr(e.D,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=$n.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ei(t).qt({range:i},(function(r,i,s){var u=r[0],a=r[1],c=r[2],l=Wn(a);if(u===n.userId&&e.path.isEqual(l))return ti(t).get(c).next((function(t){if(!t)throw I();E(t.userId===n.userId),o.push(Mr(n.D,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ke(O),i=[];return e.forEach((function(e){var o=$n.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=ei(t).qt({range:s},(function(t,i,o){var s=t[0],u=t[1],a=t[2],c=Wn(u);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()}));i.push(u)})),pr.waitFor(i).next((function(){return n.Yt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=$n.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Ke(O);return ei(t).qt({range:s},(function(t,e,o){var s=t[0],a=t[1],c=t[2],l=Wn(a);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(u=u.add(c)):o.done()})).next((function(){return n.Yt(t,u)}))},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(ti(t).get(e).next((function(t){if(null===t)throw I();E(t.userId===n.userId),r.push(Mr(n.D,t))})))})),pr.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Yr(t.Qt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Xt(e.batchId)})),pr.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return pr.resolve();var r=IDBKeyRange.lowerBound($n.prefixForUser(e.userId)),i=[];return ei(t).qt({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Wn(t[1]);i.push(o)}else r.done()})).next((function(){E(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Zr(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return ni(t).get(this.userId).next((function(t){return t||new Yn(e.userId,-1,"")}))},t}();function Zr(t,e,n){var r=$n.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ei(t).qt({range:o,Bt:!0},(function(t,n,r){var o=t[0],u=t[1];t[2],o===e&&u===i&&(s=!0),r.done()})).next((function(){return s}))}function ti(t){return Or(t,Jn.store)}function ei(t){return Or(t,$n.store)}function ni(t){return Or(t,Yn.store)}var ri=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),ii=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next((function(n){var r=new ri(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next((function(t){return Jt.fromTimestamp(new W(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next((function(){return n.se(t).next((function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return li(t).delete(e.targetId)})).next((function(){return n.se(t)})).next((function(e){return E(e.targetCount>0),e.targetCount-=1,n.ie(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return li(t).qt((function(s,u){var a=Fr(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.removeTargetData(t,a)))})).next((function(){return pr.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return li(t).qt((function(t,n){var r=Fr(n);e(r)}))},t.prototype.se=function(t){return oi(t).get(or.key).next((function(t){return E(null!==t),t}))},t.prototype.ie=function(t,e){return oi(t).put(or.key,e)},t.prototype.re=function(t,e){return li(t).put(Vr(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=vt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return li(t).qt({range:r,index:rr.queryTargetsIndexName},(function(t,n,r){var o=Fr(n);gt(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=ai(t);return e.forEach((function(e){var s=zn(e.path);i.push(o.put(new ir(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),pr.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ai(t);return pr.forEach(e,(function(e){var o=zn(e.path);return pr.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ai(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ai(t),i=Ze();return r.qt({range:n,Bt:!0},(function(t,e,n){var r=Wn(t[1]),o=new U(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=zn(e.path),r=IDBKeyRange.bound([n],[A(n)],!1,!0),i=0;return ai(t).qt({index:ir.documentTargetsIndex,Bt:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.yt=function(t,e){return li(t).get(e).next((function(t){return t?Fr(t):null}))},t}();function li(t){return Or(t,rr.store)}function oi(t){return Or(t,or.store)}function ai(t){return Or(t,ir.store)}function si(t){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(e){if(t.code!==j.FAILED_PRECONDITION||t.message!==fr)throw t;return m("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function ui(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=O(n,i);return 0===s?O(r,o):s}var ci=function(){function t(t){this.ce=t,this.buffer=new Ke(ui),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ui(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),hi=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;m("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(l.a)(e,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return wr(e=n.sent())?(m("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,si(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),fi=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return pr.resolve(h.o);var r=new ci(e);return this.we.forEachTarget(t,(function(t){return r.he(t.sequenceNumber)})).next((function(){return n.we.me(t,(function(t){return r.he(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector","Garbage collection skipped; disabled"),pr.resolve(Qr)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Qr):n.ye(t,e)}))},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,i,o,s,u,a,c,l=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(m("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),i=l.params.maximumSequenceNumbersToCollect):i=e,s=Date.now(),l.nthSequenceNumber(t,i)})).next((function(r){return n=r,u=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return o=e,a=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),d()<=r.a.DEBUG&&m("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+i+" in "+(u-s)+"ms\n\tRemoved "+o+" targets in "+(a-u)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-h)+"ms"),pr.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:t})}))},t}(),di=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new fi(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.ge=function(t){var e=0;return this.me(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return pi(t,n)},t.prototype.removeReference=function(t,e,n){return pi(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return pi(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return ni(t).Ut((function(r){return Zr(t,r,e).next((function(t){return t&&(n=!0),pr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(t,(function(s,u){if(u<=e){var a=n.Ee(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),ai(t).delete([0,zn(s.path)])}))}));i.push(a)}})).next((function(){return pr.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return pi(t,e)},t.prototype.pe=function(t,e){var n,r=ai(t),i=h.o;return r.qt({index:ir.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),u=r.sequenceNumber;0===o?(i!==h.o&&e(new U(Wn(n)),i),i=u,n=s):i=h.o})).next((function(){i!==h.o&&e(new U(Wn(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function pi(t,e){return ai(t).put(function(t,e){return new ir(0,zn(t.path),e)}(e,t.currentSequenceNumber))}var mi=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],u=o[1];if(this.equalsFn(s,t))return u}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){N(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],u=o[1];t(s,u)}}))},t.prototype.isEmpty=function(){return q(this.inner)},t}(),vi=function(){function t(){this.changes=new mi((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Jt.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?pr.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),gi=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return wi(t).put(Ii(e),n)},t.prototype.removeEntry=function(t,e){var n=wi(t),r=Ii(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Te(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return wi(t).get(Ii(e)).next((function(t){return n.Ie(t)}))},t.prototype.Ae=function(t,e){var n=this;return wi(t).get(Ii(e)).next((function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:Jr(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=We();return this.Re(t,e,(function(t,e){var i=n.Ie(e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.be=function(t,e){var n=this,r=We(),i=new Ue(U.comparator);return this.Re(t,e,(function(t,e){var o=n.Ie(e);o?(r=r.insert(t,o),i=i.insert(t,Jr(e))):(r=r.insert(t,null),i=i.insert(t,0))})).next((function(){return{ve:r,Pe:i}}))},t.prototype.Re=function(t,e,n){if(e.isEmpty())return pr.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return wi(t).qt({range:r},(function(t,e,r){for(var s=U.fromSegments(t);o&&U.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Xe(),o=e.path.length+1,s={};if(n.isEqual(Jt.min())){var u=e.path.toArray();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.toArray(),c=Pr(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=nr.collectionReadTimeIndex}return wi(t).qt(s,(function(t,n,s){if(t.length===o){var u=xr(r.D,n);e.path.isPrefixOf(u.key.path)?u instanceof lt&&Qt(e,u)&&(i=i.insert(u.key,u)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new yi(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return bi(t).get(hr.key).next((function(t){return E(!!t),t}))},t.prototype.Te=function(t,e){return bi(t).put(hr.key,e)},t.prototype.Ie=function(t){if(t){var e=xr(this.D,t);return e instanceof ht&&e.version.isEqual(Jt.min())?null:e}return null},t}(),yi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new mi((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(l.b)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Ke((function(t,e){return O(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var u=e.Se.get(o);if(s.maybeDocument){var a=Dr(e.Ve.D,s.maybeDocument,e.getReadTime(o));i=i.add(o.path.popLast());var c=Jr(a);r+=c-u,n.push(e.Ve.addEntry(t,o,a))}else if(r-=u,e.trackRemovals){var l=Dr(e.Ve.D,new ht(o,Jt.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))})),n.push(this.Ve.updateMetadata(t,r)),pr.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next((function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next((function(t){var e=t.ve;return t.Pe.forEach((function(t,e){n.Se.set(t,e)})),e}))},e}(vi);function bi(t){return Or(t,hr.store)}function wi(t){return Or(t,nr.store)}function Ii(t){return t.path.toArray()}var Ei=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;E(n<r&&n>=0&&r<=11);var o=new mr("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Xn.store)}(t),function(t){t.createObjectStore(Yn.store,{keyPath:Yn.keyPath}),t.createObjectStore(Jn.store,{keyPath:Jn.keyPath,autoIncrement:!0}).createIndex(Jn.userMutationsIndex,Jn.userMutationsKeyPath,{unique:!0}),t.createObjectStore($n.store)}(t),Ti(t),function(t){t.createObjectStore(nr.store)}(t));var s=pr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ir.store),t.deleteObjectStore(rr.store),t.deleteObjectStore(or.store)}(t),Ti(t)),s=s.next((function(){return function(t){var e=t.store(or.store),n=new or(0,0,Jt.min().toTimestamp(),0);return e.put(or.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Jn.store).kt().next((function(n){t.deleteObjectStore(Jn.store),t.createObjectStore(Jn.store,{keyPath:Jn.keyPath,autoIncrement:!0}).createIndex(Jn.userMutationsIndex,Jn.userMutationsKeyPath,{unique:!0});var r=e.store(Jn.store),i=n.map((function(t){return r.put(t)}));return pr.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(sr.store,{keyPath:sr.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.De(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(hr.store)}(t),i.Ce(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.xe(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Ne(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(nr.store);e.createIndex(nr.readTimeIndex,nr.readTimeIndexPath,{unique:!1}),e.createIndex(nr.collectionReadTimeIndex,nr.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.$e(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(ur.store,{keyPath:ur.keyPath})}(t),function(t){t.createObjectStore(cr.store,{keyPath:cr.keyPath})}(t)}))),s},t.prototype.Ce=function(t){var e=0;return t.store(nr.store).qt((function(t,n){e+=Jr(n)})).next((function(){var n=new hr(e);return t.store(hr.store).put(hr.key,n)}))},t.prototype.De=function(t){var e=this,n=t.store(Yn.store),r=t.store(Jn.store);return n.kt().next((function(n){return pr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(Jn.userMutationsIndex,i).next((function(r){return pr.forEach(r,(function(r){E(r.userId===n.userId);var i=Mr(e.D,r);return Yr(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.xe=function(t){var e=t.store(ir.store),n=t.store(nr.store);return t.store(or.store).get(or.key).next((function(t){var r=[];return n.qt((function(n,i){var o=new M(n),s=function(t){return[0,zn(t)]}(o);r.push(e.get(s).next((function(n){return n?pr.resolve():function(n){return e.put(new ir(0,zn(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return pr.waitFor(r)}))}))},t.prototype.Ne=function(t,e){t.createObjectStore(ar.store,{keyPath:ar.keyPath});var n=e.store(ar.store),r=new zr,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:zn(i)})}};return e.store(nr.store).qt({Bt:!0},(function(t,e){var n=new M(t);return i(n.popLast())})).next((function(){return e.store($n.store).qt({Bt:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Wn(n));return i(r.popLast())}))}))},t.prototype.$e=function(t){var e=this,n=t.store(rr.store);return n.qt((function(t,r){var i=Fr(r),o=Vr(e.D,i);return n.put(o)}))},t}();function Ti(t){t.createObjectStore(ir.store,{keyPath:ir.keyPath}).createIndex(ir.documentTargetsIndex,ir.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(rr.store,{keyPath:rr.keyPath}).createIndex(rr.queryTargetsIndexName,rr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(or.store)}var Si="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_i=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=s,this.document=u,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new L(j.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new di(this,i),this.We=n+"main",this.D=new Nr(a),this.je=new vr(this.We,11,new Ei(this.D)),this.Ge=new ii(this.referenceDelegate,this.D),this.Gt=new Hr,this.ze=function(t,e){return new gi(t,e)}(this.D,this.Gt),this.He=new qr,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&v("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new L(j.FAILED_PRECONDITION,Si);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ge.getHighestSequenceNumber(e)}))})).then((function(e){t.Me=new h(e,t.Oe)})).then((function(){t.Le=!0})).catch((function(e){return t.je&&t.je.close(),Promise.reject(e)}))},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(l.a)(e,void 0,void 0,(function(){return Object(l.c)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct((function(n){return Object(l.a)(e,void 0,void 0,(function(){return Object(l.c)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget((function(){return Object(l.a)(e,void 0,void 0,(function(){return Object(l.c)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return ki(e).put(new sr(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.nn(e).next((function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable((function(){return t.Ke(!1)})))}))})).next((function(){return t.sn(e)})).next((function(n){return t.isPrimary&&!n?t.rn(e).next((function(){return!1})):!!n&&t.on(e).next((function(){return!0}))}))})).catch((function(e){if(wr(e))return m("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return m("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable((function(){return t.Ke(e)})),t.isPrimary=e}))},t.prototype.nn=function(t){var e=this;return Oi(t).get(Xn.key).next((function(t){return pr.resolve(e.cn(t))}))},t.prototype.an=function(t){return ki(t).delete(this.clientId)},t.prototype.un=function(){return Object(l.a)(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Object(l.c)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Or(t,sr.store);return e.kt().next((function(t){var n=i.ln(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return pr.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Je)for(e=0,n=t;e<n.length;e++)r=n[e],this.Je.removeItem(this.fn(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.Ye().then((function(){return t.un()})).then((function(){return t.tn()}))}))},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?pr.resolve(!0):Oi(t).get(Xn.key).next((function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new L(j.FAILED_PRECONDITION,Si);return!1}}return!(!e.networkEnabled||!e.inForeground)||ki(t).kt().next((function(t){return void 0===e.ln(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&m("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(l.a)(this,void 0,void 0,(function(){var t=this;return Object(l.c)(this,(function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Xn.store,sr.store],(function(e){var n=new _r(e,h.o);return t.rn(n).next((function(){return t.an(n)}))}))];case 1:return e.sent(),this.je.close(),this.yn(),[2]}}))}))},t.prototype.ln=function(t,e){var n=this;return t.filter((function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)}))},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return ki(e).kt().next((function(e){return t.ln(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return $r.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;m("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.je.runTransaction(t,o,lr,(function(o){return i=new _r(o,r.Me?r.Me.next():h.o),"readwrite-primary"===e?r.nn(i).next((function(t){return!!t||r.sn(i)})).next((function(e){if(!e)throw v("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Fe.enqueueRetryable((function(){return r.Ke(!1)})),new L(j.FAILED_PRECONDITION,fr);return n(i)})).next((function(t){return r.on(i).next((function(){return t}))})):r.pn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.pn=function(t){var e=this;return Oi(t).get(Xn.key).next((function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new L(j.FAILED_PRECONDITION,Si)}))},t.prototype.on=function(t){var e=new Xn(this.clientId,this.allowTabSynchronization,Date.now());return Oi(t).put(Xn.key,e)},t.At=function(){return vr.At()},t.prototype.rn=function(t){var e=this,n=Oi(t);return n.get(Xn.key).next((function(t){return e.cn(t)?(m("IndexedDbPersistence","Releasing primary lease."),n.delete(Xn.key)):pr.resolve()}))},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(v("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return m("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return v("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){v("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Oi(t){return Or(t,Xn.store)}function ki(t){return Or(t,sr.store)}function Ai(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ci=function(t,e){this.progress=t,this.En=e},Ni=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.An(t,e,r)}))},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t}))},t.prototype.Rn=function(t,e,n){var r=We();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)})),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next((function(e){return n.vn(t,e)}))},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(r){var i=n.Rn(t,e,r),o=He();return i.forEach((function(t,e){e||(e=new ht(t,Jt.min())),o=o.insert(t,e)})),o}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return U.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):qt(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new U(e)).next((function(t){var e=Xe();return t instanceof lt&&(e=e.insert(t.key,t)),e}))},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,o=Xe();return this.Gt.getCollectionParents(t,i).next((function(s){return pr.forEach(s,(function(s){var u=function(t,e){return new jt(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Sn(t,u,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Sn=function(t,e,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Dn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=Te(a,r.get(c),o.localWriteTime);r=l instanceof lt?r.insert(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Qt(e,n)||(r=r.remove(t))})),r}))},t.prototype.Dn=function(t,e,n){for(var r=Ze(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof Ae&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.ze.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof lt&&(c=c.insert(t,e))})),c}))},t}(),xi=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=Ze(),i=Ze(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Di=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,i){var o=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Jt.min())?this.On(t,e):this.Fn.bn(t,i).next((function(s){var u=o.kn(e,s);return(Mt(e)||Ft(e))&&o.Mn(e.limitType,u,i,n)?o.On(t,e):(d()<=r.a.DEBUG&&m("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Wt(e)),o.Fn.getDocumentsMatchingQuery(t,e,n).next((function(t){return u.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.kn=function(t,e){var n=new Ke(Xt(t));return e.forEach((function(e,r){r instanceof lt&&Qt(t,r)&&(n=n.add(r))})),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return d()<=r.a.DEBUG&&m("QueryEngine","Using full collection scan to execute query:",Wt(e)),this.Fn.getDocumentsMatchingQuery(t,e,Jt.min())},t}(),Pi=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new Ue(O),this.qn=new mi((function(t){return vt(t)}),gt),this.Un=Jt.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new Ni(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Bn)}))},t}();function ji(t,e,n,r){return new Pi(t,e,n,r)}function Li(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i,o;return Object(l.c)(this,(function(s){switch(s.label){case 0:return n=T(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Tn.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Ni(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=Ze(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var v=0,y=m.mutations;v<y.length;v++){var g=y[v];s=s.add(g.key)}}return i.bn(t,s).next((function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}}))}))}function Ri(t,e){var n=T(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=pr.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=e,s=n.docVersions.get(t);E(null!==s),(!o||o.version.compareTo(s)<0)&&(o=i.applyToRemoteDocument(t,o,n))&&r.addEntry(o,n.commitVersion)}))})),s.next((function(){return t.Tn.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Tn.performConsistencyCheck(t)})).next((function(){return n.Kn.bn(t,r)}))}))}function Mi(t){var e=T(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ge.getLastRemoteSnapshotVersion(t)}))}function Fi(t,e){var n=T(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var s=[];e.targetChanges.forEach((function(e,o){var u=i.get(o);if(u){s.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)})));var a=e.resumeToken;if(a.approximateByteSize()>0){var c=u.withResumeToken(a,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return E(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,e)&&s.push(n.Ge.updateTargetData(t,c))}}}));var u=He();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(Vi(t,o,e.documentUpdates,r,void 0).next((function(t){u=t}))),!r.isEqual(Jt.min())){var a=n.Ge.getLastRemoteSnapshotVersion(t).next((function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(a)}return pr.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Kn.vn(t,u)}))})).then((function(t){return n.Bn=i,t}))}function Vi(t,e,n,r,i){var o=Ze();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=He();return n.forEach((function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof ht&&s.version.isEqual(Jt.min())?(e.removeEntry(n,a),o=o.insert(n,s)):null==u||s.version.compareTo(u.version)>0||0===s.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(s,a),o=o.insert(n,s)):m("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)})),o}))}function Ui(t,e){var n=T(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)}))}function qi(t,e){var n=T(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ge.getTargetData(t,e).next((function(i){return i?(r=i,pr.resolve(r)):n.Ge.allocateTargetId(t).next((function(i){return r=new Cr(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t}))}function Bi(t,e,n){return Object(l.a)(this,void 0,void 0,(function(){var r,i,o,s;return Object(l.c)(this,(function(u){switch(u.label){case 0:r=T(t),i=r.Bn.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!wr(s=u.sent()))throw s;return m("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}}))}))}function Ki(t,e,n){var r=T(t),i=Jt.min(),o=Ze();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=T(t),i=r.qn.get(n);return void 0!==i?pr.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,Kt(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:Jt.min(),n?o:Ze())})).next((function(t){return{documents:t,jn:o}}))}))}function Gi(t,e){var n=T(t),r=T(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.yt(t,e).next((function(t){return t?t.target:null}))}))}function zi(t){var e=T(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=T(t),i=He(),o=Pr(n),s=wi(e),u=IDBKeyRange.lowerBound(o,!0);return s.qt({index:nr.readTimeIndex,range:u},(function(t,e){var n=xr(r.D,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{En:i,readTime:jr(o)}}))}(e.Qn,t,e.Un)})).then((function(t){var n=t.En,r=t.readTime;return e.Un=r,n}))}function Hi(t){return Object(l.a)(this,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(n){return[2,(e=T(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=wi(t),n=Jt.min();return e.qt({index:nr.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=jr(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Un=t}))]}))}))}function Wi(t,e,n,r){return Object(l.a)(this,void 0,void 0,(function(){var i,o,s,u,a,c,h,f,d,m;return Object(l.c)(this,(function(p){switch(p.label){case 0:for(i=T(t),o=Ze(),s=He(),u=Je(),a=0,c=n;a<c.length;a++)h=c[a],f=e.Gn(h.metadata.name),h.document&&(o=o.add(f)),s=s.insert(f,e.zn(h)),u=u.insert(f,e.Hn(h.metadata.readTime));return d=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,qi(i,function(t){return Kt(Rt(M.fromString("__bundle__/docs/"+t)))}(r))];case 1:return m=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Vi(t,d,s,Jt.min(),u).next((function(e){return d.apply(t),e})).next((function(e){return i.Ge.removeMatchingKeysForTargetId(t,m.targetId).next((function(){return i.Ge.addMatchingKeys(t,o,m.targetId)})).next((function(){return i.Kn.vn(t,e)}))}))}))]}}))}))}function Qi(t,e,n){return void 0===n&&(n=Ze()),Object(l.a)(this,void 0,void 0,(function(){var r,i;return Object(l.c)(this,(function(o){switch(o.label){case 0:return[4,qi(t,Kt(Ur(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=T(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=yn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(t,e);var s=r.withResumeToken(B.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(s.targetId,s),i.Ge.updateTargetData(t,s).next((function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.Ge.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.He.saveNamedQuery(t,e)}))}))]}}))}))}var Xi=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return pr.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:yn(n.createTime)}),pr.resolve()},t.prototype.getNamedQuery=function(t,e){return pr.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:Ur(t.bundledQuery),readTime:yn(t.readTime)}}(e)),pr.resolve()},t}(),Yi=function(){function t(){this.Xn=new Ke(Ji.Zn),this.ts=new Ke(Ji.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ji(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.ss(new Ji(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.os=function(t){var e=this,n=new U(new M([])),r=new Ji(n,t),i=new Ji(n,t+1),o=[];return this.ts.forEachInRange([r,i],(function(t){e.ss(t),o.push(t.key)})),o},t.prototype.cs=function(){var t=this;this.Xn.forEach((function(e){return t.ss(e)}))},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new U(new M([])),n=new Ji(e,t),r=new Ji(e,t+1),i=Ze();return this.ts.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Ji(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ji=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return U.comparator(t.key,e.key)||O(t.hs,e.hs)},t.es=function(t,e){return O(t.hs,e.hs)||U.comparator(t.key,e.key)},t}(),$i=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new Ke(Ji.Zn)}return t.prototype.checkEmpty=function(t){return pr.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++,this.Tn.length>0&&this.Tn[this.Tn.length-1];var o=new kr(i,e,n,r);this.Tn.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.fs=this.fs.add(new Ji(a.key,i)),this.Gt.addToCollectionParentIndex(t,a.key.path.popLast())}return pr.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return pr.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.ws(n),i=r<0?0:r;return pr.resolve(this.Tn.length>i?this.Tn[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return pr.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return pr.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ji(e,0),i=new Ji(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],(function(t){var e=n.ds(t.hs);o.push(e)})),pr.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ke(O);return e.forEach((function(t){var e=new Ji(t,0),i=new Ji(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],(function(t){r=r.add(t.hs)}))})),pr.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;U.isDocumentKey(i)||(i=i.child(""));var o=new Ji(new U(i),0),s=new Ke(O);return this.fs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.hs)),!0)}),o),pr.resolve(this._s(s))},t.prototype._s=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.ds(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;E(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return pr.forEach(e.mutations,(function(i){var o=new Ji(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.fs=r}))},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new Ji(e,0),r=this.fs.firstAfterOrEqual(n);return pr.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this.Tn.length,pr.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),Zi=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new Ue(U.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:s,readTime:n}),this.size+=s-o,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return pr.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=We();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)})),pr.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Xe(),i=new U(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),u=s.key,a=s.value,c=a.maybeDocument,l=a.readTime;if(!e.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||c instanceof lt&&Qt(e,c)&&(r=r.insert(c.key,c))}return pr.resolve(r)},t.prototype.ps=function(t,e){return pr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new to(this)},t.prototype.getSize=function(t){return pr.resolve(this.size)},t}(),to=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(l.b)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)})),pr.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(vi),eo=function(){function t(t){this.persistence=t,this.Es=new mi((function(t){return vt(t)}),gt),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.Ts=0,this.Is=new Yi,this.targetCount=0,this.As=ri.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach((function(t,n){return e(n)})),pr.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return pr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return pr.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),pr.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),pr.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new ri(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,pr.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),pr.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,pr.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.Es.forEach((function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.Es.delete(s),o.push(r.removeMatchingKeysForTargetId(t,u.targetId)),i++)})),pr.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return pr.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return pr.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),pr.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),pr.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),pr.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return pr.resolve(n)},t.prototype.containsKey=function(t,e){return pr.resolve(this.Is.containsKey(e))},t}(),no=function(){function t(t,e){var n=this;this.Rs={},this.Me=new h(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new eo(this),this.Gt=new Gr,this.ze=function(t,e){return new Zi(t,(function(t){return n.referenceDelegate.bs(t)}))}(this.Gt),this.D=new Nr(e),this.He=new Xi(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new $i(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;m("MemoryPersistence","Starting transaction:",t);var i=new ro(this.Me.next());return this.referenceDelegate.vs(),n(i).next((function(t){return r.referenceDelegate.Ps(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Vs=function(t,e){return pr.or(Object.values(this.Rs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),ro=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(l.b)(e,t),e}(br),io=function(){function t(t){this.persistence=t,this.Ss=new Yi,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw I()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),pr.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),pr.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),pr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach((function(t){return n.xs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.xs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pr.forEach(this.xs,(function(r){var i=U.fromPath(r);return e.Ns(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Ds=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next((function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())}))},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return pr.or([function(){return pr.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),oo=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function ao(t,e){return"firestore_clients_"+t+"_"+e}function so(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function uo(t,e){return"firestore_targets_"+t+"_"+e}oo.UNAUTHENTICATED=new oo(null),oo.GOOGLE_CREDENTIALS=new oo("google-credentials-uid"),oo.FIRST_PARTY=new oo("first-party-uid");var co=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new L(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(v("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),lo=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new L(i.error.code,i.error.message)),o?new t(e,i.state,r):(v("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ho=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=en(),s=0;i&&s<r.activeTargetIds.length;++s)i=P(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(v("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),fo=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(v("SharedClientState","Failed to parse online state: "+e),null)},t}(),po=function(){function t(){this.activeTargetIds=en()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),mo=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new Ue(O),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=ao(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new po),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(l.a)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,u,a,c,h,f=this;return Object(l.c)(this,(function(l){switch(l.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=l.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(ao(this.persistenceKey,r)))&&(o=ho.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(s=this.storage.getItem(this.zs))&&(u=this.Ys(s))&&this.Xs(u),a=0,c=this.Us;a<c.length;a++)h=c[a],this.Bs(h);return this.Us=[],this.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(uo(this.persistenceKey,t));if(n){var r=lo.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(uo(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.ei(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return m("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){m("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){m("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(m("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void v("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((function(){return Object(l.a)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(l.c)(this,(function(u){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(s=function(t){var e=h.o;if(null!=t)try{var n=JSON.parse(t);E("number"==typeof n),e=n}catch(t){v("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==h.o&&this.sequenceNumberHandler(s);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new co(this.currentUser,t,e,n),i=so(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=so(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){var e={clientId:this.Ms,onlineState:t};this.storage.setItem(this.zs,JSON.stringify(e))},t.prototype.si=function(t,e,n){var r=uo(this.persistenceKey,t),i=new lo(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return ho.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return co.$s(new oo(i),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return lo.$s(r,e)},t.prototype.Ys=function(t){return fo.$s(t)},t.prototype.hi=function(t){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(m("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),o=this.Zs(r),s=[],u=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||u.push(t)})),this.syncEngine.mi(s,u).then((function(){n.qs=r}))},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=en();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),vo=function(){function t(){this.yi=new po,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new po,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),go=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),yo=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){m("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){m("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),bo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},wo=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),Io=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(l.b)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise((function(i,o){var s=new c.f;s.listenOnce(c.c.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case c.a.NO_ERROR:var e=s.getResponseJson();m("Connection","XHR received:",JSON.stringify(e)),i(e);break;case c.a.TIMEOUT:m("Connection",'RPC "'+t+'" timed out'),o(new L(j.DEADLINE_EXCEEDED,"Request time out"));break;case c.a.HTTP_ERROR:var n=s.getStatus();if(m("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(e)>=0?e:j.UNKNOWN}(r.status);o(new L(u,r.message))}else o(new L(j.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new L(j.UNAVAILABLE,"Connection failed."));break;default:I()}}finally{m("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Object(c.g)(),l=Object(c.h)(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(h.initMessageHeaders,e),Object(o.p)()||Object(o.r)()||Object(o.m)()||Object(o.n)()||Object(o.s)()||Object(o.l)()||(h.httpHeadersOverwriteParam="$httpHeaders");var f=n.join("");m("Connection","Creating WebChannel: "+f,h);var g=r.createWebChannel(f,h),d=!1,b=!1,v=new wo({vi:function(t){b?m("Connection","Not sending because WebChannel is closed:",t):(d||(m("Connection","Opening WebChannel transport."),g.open(),d=!0),m("Connection","WebChannel sending:",t),g.send(t))},Pi:function(){return g.close()}}),w=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return w(g,c.e.EventType.OPEN,(function(){b||m("Connection","WebChannel transport opened.")})),w(g,c.e.EventType.CLOSE,(function(){b||(b=!0,m("Connection","WebChannel transport closed"),v.$i())})),w(g,c.e.EventType.ERROR,(function(t){b||(b=!0,y("Connection","WebChannel transport errored:",t),v.$i(new L(j.UNAVAILABLE,"The operation could not be completed")))})),w(g,c.e.EventType.MESSAGE,(function(t){var e;if(!b){var n=t.data[0];E(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){m("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=Pe[t];if(void 0!==e)return Ve(e)}(o),u=i.message;void 0===s&&(s=j.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),b=!0,v.$i(new L(s,u)),g.close()}else m("Connection","WebChannel received:",n),v.Fi(n)}})),w(l,c.b.STAT_EVENT,(function(t){t.stat===c.d.PROXY?m("Connection","Detected buffering proxy"):t.stat===c.d.NOPROXY&&m("Connection","Detected no buffering proxy")})),setTimeout((function(){v.Ni()}),0),v},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Oi=e+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);m("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(t,i,o,n).then((function(t){return m("RestConnection","Received: ",t),t}),(function(e){throw y("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){var n=bo[t];return this.Oi+"/v1/"+e+":"+n},t}());function Eo(){return"undefined"!=typeof window?window:null}function To(){return"undefined"!=typeof document?document:null}function So(t){return new pn(t,!0)}var _o=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&m("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,(function(){return e.Hi=Date.now(),t()})),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),Oo=function(){function t(t,e,n,r,i,o){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new _o(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,(function(){return t.dr()})))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(t){return this.ar()?[2,this.close(0)]:[2]}))}))},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===j.RESOURCE_EXHAUSTED?(v(e.toString()),v("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===j.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then((function(e){t.sr===n&&t.gr(e)}),(function(n){e((function(){var e=new L(j.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)}))}))},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi((function(){n((function(){return e.state=2,e.listener.Vi()}))})),this.stream.Di((function(t){n((function(){return e.pr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi((function(){return Object(l.a)(t,void 0,void 0,(function(){return Object(l.c)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.pr=function(t){return m("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget((function(){return e.sr===t?n():(m("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ko=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,s}return Object(l.b)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:I()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.V?(E(void 0===e||"string"==typeof e),B.fromBase64String(e||"")):(E(void 0===e||e instanceof Uint8Array),B.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?j.UNKNOWN:Ve(t.code);return new L(e,t.message||"")}(u);n=new sn(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=En(t,r.document.name),o=yn(r.document.updateTime);var u=new Zt({mapValue:{fields:r.document.fields}}),a=(s=new lt(i,o,u,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new on(a,c,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=En(t,r.document),o=r.readTime?yn(r.readTime):Jt.min(),u=new ht(i,o),s=r.removedTargetIds||[],n=new on([],s,u.key,u);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=En(t,r.document),o=r.removedTargetIds||[],n=new on([],o,i,null);else{if(!("filter"in e))return I();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new Me(r),o=l.targetId,n=new an(o,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return Jt.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Jt.min():e.readTime?yn(e.readTime):Jt.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=_n(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=yt(r)?{documents:xn(t,r)}:{query:Dn(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=vn(t,e.resumeToken):e.snapshotVersion.compareTo(Jt.min())>0&&(n.readTime=mn(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return I()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.D,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=_n(this.D),e.removeTarget=t,this.wr(e)},e}(Oo),Ao=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,s.Rr=!1,s}return Object(l.b)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(E(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(E(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?yn(t.updateTime):yn(e);return n.isEqual(Jt.min())&&(n=yn(e)),new ye(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=yn(t.commitTime);return this.listener.Pr(n,e)}return E(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=_n(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Cn(e.D,t)}))};this.wr(n)},e}(Oo),Co=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(l.b)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new L(j.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Mi(t,e,n,i)})).catch((function(t){throw t.code===j.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Ui(t,e,n,i)})).catch((function(t){throw t.code===j.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.terminate=function(){this.Dr=!1},e}((function(){})),No=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()})))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(v(e),this.Fr=!1):m("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),xo=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi((function(t){n.enqueueAndForget((function(){return Object(l.a)(o,void 0,void 0,(function(){return Object(l.c)(this,(function(t){switch(t.label){case 0:return Uo(this)?(m("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(l.a)(this,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(n){switch(n.label){case 0:return(e=T(t)).Qr.add(4),[4,Po(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,Do(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.jr=new No(n,r)};function Do(t){return Object(l.a)(this,void 0,void 0,(function(){var e,n;return Object(l.c)(this,(function(r){switch(r.label){case 0:if(!Uo(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Po(t){return Object(l.a)(this,void 0,void 0,(function(){var e,n;return Object(l.c)(this,(function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function jo(t,e){var n=T(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),Vo(n)?Fo(n):ea(n).ar()&&Ro(n,e))}function Lo(t,e){var n=T(t),r=ea(n);n.Ur.delete(e),r.ar()&&Mo(n,e),0===n.Ur.size&&(r.ar()?r.lr():Uo(n)&&n.jr.set("Unknown"))}function Ro(t,e){t.Gr.H(e.targetId),ea(t).Ir(e)}function Mo(t,e){t.Gr.H(e),ea(t).Ar(e)}function Fo(t){t.Gr=new cn({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),ea(t).start(),t.jr.Or()}function Vo(t){return Uo(t)&&!ea(t).cr()&&t.Ur.size>0}function Uo(t){return 0===T(t).Qr.size}function qo(t){t.Gr=void 0}function Bo(t){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(e){return t.Ur.forEach((function(e,n){Ro(t,e)})),[2]}))}))}function Ko(t,e){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(n){return qo(t),Vo(t)?(t.jr.Lr(e),Fo(t)):t.jr.set("Unknown"),[2]}))}))}function Go(t,e,n){return Object(l.a)(this,void 0,void 0,(function(){var r,i,o;return Object(l.c)(this,(function(s){switch(s.label){case 0:if(t.jr.set("Online"),!(e instanceof sn&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i,o;return Object(l.c)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Ur.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),m("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,zo(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof on?t.Gr.st(e):e instanceof an?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(Jt.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Mi(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(B.EMPTY_BYTE_STRING,n.snapshotVersion)),Mo(t,e);var r=new Cr(n.target,e,1,n.sequenceNumber);Ro(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return m("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,zo(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function zo(t,e,n){return Object(l.a)(this,void 0,void 0,(function(){var r=this;return Object(l.c)(this,(function(i){switch(i.label){case 0:if(!wr(e))throw e;return t.Qr.add(1),[4,Po(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return Mi(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(l.a)(r,void 0,void 0,(function(){return Object(l.c)(this,(function(e){switch(e.label){case 0:return m("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,Do(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Ho(t,e){return e().catch((function(n){return zo(t,n,e)}))}function Wo(t){return Object(l.a)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(l.c)(this,(function(s){switch(s.label){case 0:e=T(t),n=na(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Uo(t)&&t.qr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Ui(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=na(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,zo(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Qo(e)&&Xo(e),[2]}}))}))}function Qo(t){return Uo(t)&&!na(t).cr()&&t.qr.length>0}function Xo(t){na(t).start()}function Yo(t){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(e){return na(t).Sr(),[2]}))}))}function Jo(t){return Object(l.a)(this,void 0,void 0,(function(){var e,n,r,i;return Object(l.c)(this,(function(o){for(e=na(t),n=0,r=t.qr;n<r.length;n++)i=r[n],e.vr(i.mutations);return[2]}))}))}function $o(t,e,n){return Object(l.a)(this,void 0,void 0,(function(){var r,i;return Object(l.c)(this,(function(o){switch(o.label){case 0:return r=t.qr.shift(),i=Ar.from(r,e,n),[4,Ho(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Wo(t)];case 2:return o.sent(),[2]}}))}))}function Zo(t,e){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(n){switch(n.label){case 0:return e&&na(t).br?[4,function(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r;return Object(l.c)(this,(function(i){switch(i.label){case 0:return Fe(r=e.code)&&r!==j.ABORTED?(n=t.qr.shift(),na(t).hr(),[4,Ho(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Wo(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Qo(t)&&Xo(t),[2]}}))}))}function ta(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n;return Object(l.c)(this,(function(i){switch(i.label){case 0:return n=T(t),e?(n.Qr.delete(2),[4,Do(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,Po(n)]);case 3:i.sent(),n.jr.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}}))}))}function ea(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=T(t);return r.Cr(),new ko(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Bo.bind(null,t),Di:Ko.bind(null,t),Tr:Go.bind(null,t)}),t.Kr.push((function(n){return Object(l.a)(e,void 0,void 0,(function(){return Object(l.c)(this,(function(e){switch(e.label){case 0:return n?(t.zr.hr(),Vo(t)?Fo(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),qo(t),e.label=3;case 3:return[2]}}))}))}))),t.zr}function na(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=T(t);return r.Cr(),new Ao(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Yo.bind(null,t),Di:Zo.bind(null,t),Vr:Jo.bind(null,t),Pr:$o.bind(null,t)}),t.Kr.push((function(n){return Object(l.a)(e,void 0,void 0,(function(){return Object(l.c)(this,(function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,Wo(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(m("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Hr}var ra=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(j.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function ia(t,e){if(v("AsyncQueue",e+": "+t),wr(t))return new L(j.UNAVAILABLE,e+": "+t);throw t}var oa=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||U.comparator(e.key,n.key)}:function(t,e){return U.comparator(t.key,e.key)},this.keyedMap=Xe(),this.sortedSet=new Ue(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),aa=function(){function t(){this.Jr=new Ue(U.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):I():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),sa=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,oa.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zt(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ua=function(){this.Xr=void 0,this.listeners=[]},ca=function(){this.queries=new mi((function(t){return Ht(t)}),zt),this.onlineState="Unknown",this.Zr=new Set};function la(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a;return Object(l.c)(this,(function(c){switch(c.label){case 0:if(n=T(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new ua),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Xr=c.sent(),[3,4];case 3:return u=c.sent(),a=ia(u,"Initialization of query '"+Wt(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&pa(n),[2]}}))}))}function ha(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(l.c)(this,(function(u){return n=T(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function fa(t,e){for(var n=T(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=s.query,a=n.queries.get(u);if(a){for(var c=0,l=a.listeners;c<l.length;c++)l[c].no(s)&&(r=!0);a.Xr=s}}r&&pa(n)}function da(t,e,n){var r=T(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function pa(t){t.Zr.forEach((function(t){t.next()}))}var ma=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new sa(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.uo&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){if(t.docChanges.length>0)return!0;var e=this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=sa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),va=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),ga=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return En(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?An(this.D,t.document,!1):new ht(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return yn(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=ya(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new ga(this.D),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Gn(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||Ze()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(l.a)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(l.c)(this,(function(o){switch(o.label){case 0:return[4,Wi(this.localStore,new ga(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Qi(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ci(Object.assign({},this.progress),t))]}}))}))}}();function ya(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var ba=function(t){this.key=t},wa=function(t){this.key=t},Ia=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=Ze(),this.mutatedKeys=Ze(),this.po=Xt(t),this.Eo=new oa(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new aa,i=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,u=!1,a=Mt(this.query)&&i.size===this.query.limit?i.last():null,c=Ft(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=e instanceof lt?e:null;h&&(h=Qt(n.query,h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.po(h,a)>0||c&&n.po(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Mt(this.query)||Ft(this.query))for(;s.size>this.query.limit;){var l=Mt(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:s,Ao:r,Mn:u,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return I()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)})),this.bo(n);var s=e?this.vo():[],u=0===this.yo.size&&this.current?1:0,a=u!==this.mo;return this.mo=u,0!==o.length||a?{snapshot:new sa(this.query,t.Eo,i,o,t.mutatedKeys,0===u,a,!1),Po:s}:{Po:s}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new aa,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e._o=e._o.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e._o=e._o.delete(t)})),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=Ze(),this.Eo.forEach((function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))}));var n=[];return e.forEach((function(e){t.yo.has(e)||n.push(new wa(e))})),this.yo.forEach((function(t){e.has(t)||n.push(new ba(t))})),n},t.prototype.So=function(t){this._o=t.jn,this.yo=Ze();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return sa.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),Ea=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ta=function(t){this.key=t,this.Co=!1},Sa=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new mi((function(t){return Ht(t)}),zt),this.$o=new Map,this.Fo=new Set,this.Oo=new Ue(U.comparator),this.ko=new Map,this.Mo=new Yi,this.Lo={},this.Bo=new Map,this.qo=ri.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function _a(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(l.c)(this,(function(a){switch(a.label){case 0:return n=ts(t),(o=n.No.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Do(),[3,4]):[3,1];case 1:return[4,qi(n.localStore,Kt(e))];case 2:return s=a.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,Oa(n,e,r,"current"===u)];case 3:i=a.sent(),n.isPrimaryClient&&jo(n.remoteStore,s),a.label=4;case 4:return[2,i]}}))}))}function Oa(t,e,n,r){return Object(l.a)(this,void 0,void 0,(function(){var i,o,s,u,a,c;return Object(l.c)(this,(function(h){switch(h.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(l.a)(this,void 0,void 0,(function(){var i,o,s;return Object(l.c)(this,(function(u){switch(u.label){case 0:return(i=e.view.Io(n)).Mn?[4,Ki(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view.Io(n,i)}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Va(t,e.targetId,s.Po),s.snapshot)]}}))}))}(t,e,n,r)},[4,Ki(t.localStore,e,!0)];case 1:return i=h.sent(),o=new Ia(e,i.jn),s=o.Io(i.documents),u=rn.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),a=o.applyChanges(s,t.isPrimaryClient,u),Va(t,n,a.Po),c=new Ea(e,n,o),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),a.snapshot)]}}))}))}function ka(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i;return Object(l.c)(this,(function(o){switch(o.label){case 0:return n=T(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter((function(t){return!zt(t,e)}))),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Bi(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Lo(n.remoteStore,r.targetId),Ma(n,r.targetId)})).catch(si)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ma(n,r.targetId),[4,Bi(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Aa(t,e,n){return Object(l.a)(this,void 0,void 0,(function(){var r,i,o,s;return Object(l.c)(this,(function(u){switch(u.label){case 0:r=es(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=T(t),i=W.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Ze());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Kn.bn(t,o).next((function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=Se(c,n.get(c.key));null!=l&&s.push(new Ae(c.key,l,ee(l.proto.mapValue),be.exists(!0)))}return r.Tn.addMutationBatch(t,i,s,e)}))})).then((function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}}))}(r.localStore,e)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new Ue(O)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ba(r,i.changes)];case 3:return u.sent(),[4,Wo(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=ia(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Ca(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r;return Object(l.c)(this,(function(i){switch(i.label){case 0:n=T(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Fi(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.ko.get(e);r&&(E(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?E(r.Co):t.removedDocuments.size>0&&(E(r.Co),r.Co=!1))})),[4,Ba(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,si(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Na(t,e,n){var r=T(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach((function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=T(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(e)&&(r=!0)})),r&&pa(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xa(t,e,n){return Object(l.a)(this,void 0,void 0,(function(){var r,i,o,s,u,a;return Object(l.c)(this,(function(c){switch(c.label){case 0:return(r=T(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(o=i&&i.key)?(s=(s=new Ue(U.comparator)).insert(o,new ht(o,Jt.min())),u=Ze().add(o),a=new nn(Jt.min(),new Map,new Ke(O),s,u),[4,Ca(r,a)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(e),qa(r),[3,4];case 2:return[4,Bi(r.localStore,e,!1).then((function(){return Ma(r,e,n)})).catch(si)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Da(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i;return Object(l.c)(this,(function(o){switch(o.label){case 0:n=T(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ri(n.localStore,e)];case 2:return i=o.sent(),Ra(n,r,null),La(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ba(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,si(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Pa(t,e,n){return Object(l.a)(this,void 0,void 0,(function(){var r,i;return Object(l.c)(this,(function(o){switch(o.label){case 0:r=T(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=T(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Tn.lookupMutationBatch(t,e).next((function(e){return E(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)})).next((function(){return n.Tn.performConsistencyCheck(t)})).next((function(){return n.Kn.bn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Ra(r,e,n),La(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ba(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,si(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ja(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(l.c)(this,(function(u){switch(u.label){case 0:Uo((n=T(t)).remoteStore)||m("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=T(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return o=u.sent(),s=ia(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function La(t,e){(t.Bo.get(e)||[]).forEach((function(t){t.resolve()})),t.Bo.delete(e)}function Ra(t,e,n){var r=T(t),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function Ma(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var o=i[r];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach((function(e){t.Mo.containsKey(e)||Fa(t,e)}))}function Fa(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(Lo(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),qa(t))}function Va(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ba?(t.Mo.addReference(o.key,e),Ua(t,o)):o instanceof wa?(m("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||Fa(t,o.key)):I()}}function Ua(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(m("SyncEngine","New document in limbo: "+n),t.Fo.add(r),qa(t))}function qa(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new U(M.fromString(e)),r=t.qo.next();t.ko.set(r,new Ta(n)),t.Oo=t.Oo.insert(n,r),jo(t.remoteStore,new Cr(Kt(Rt(n.path)),r,2,h.o))}}function Ba(t,e,n){return Object(l.a)(this,void 0,void 0,(function(){var r,i,o,s;return Object(l.c)(this,(function(u){switch(u.label){case 0:return r=T(t),i=[],o=[],s=[],r.No.isEmpty()?[3,3]:(r.No.forEach((function(t,u){s.push(r.Qo(u,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=xi.Nn(u.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.xo.Tr(i),[4,function(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c,h;return Object(l.c)(this,(function(l){switch(l.label){case 0:n=T(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return pr.forEach(e,(function(e){return pr.forEach(e.Cn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return pr.forEach(e.xn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!wr(r=l.sent()))throw r;return m("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],u=s.targetId,s.fromCache||(a=n.Bn.get(u),c=a.snapshotVersion,h=a.withLastLimboFreeSnapshotVersion(c),n.Bn=n.Bn.insert(u,h));return[2]}}))}))}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Ka(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r;return Object(l.c)(this,(function(i){switch(i.label){case 0:return(n=T(t)).currentUser.isEqual(e)?[3,3]:(m("SyncEngine","User change. New user:",e.toKey()),[4,Li(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach((function(t){t.forEach((function(t){t.reject(new L(j.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ba(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ga(t,e){var n=T(t),r=n.ko.get(e);if(r&&r.Co)return Ze().add(r.key);var i=Ze(),o=n.$o.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=u[s],c=n.No.get(a);i=i.unionWith(c.view.To)}return i}function za(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i;return Object(l.c)(this,(function(o){switch(o.label){case 0:return[4,Ki((n=T(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&Va(n,e.targetId,i.Po),i)]}}))}))}function Ha(t){return Object(l.a)(this,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(n){return[2,zi((e=T(t)).localStore).then((function(t){return Ba(e,t)}))]}))}))}function Wa(t,e,n,r){return Object(l.a)(this,void 0,void 0,(function(){var i,o;return Object(l.c)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=T(t),r=T(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Jt(t,e).next((function(e){return e?n.Kn.bn(t,e):pr.resolve(null)}))}))}((i=T(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Wo(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ra(i,e,r||null),La(i,e),function(t,e){T(T(t).Tn).Xt(e)}(i.localStore,e)):I(),s.label=4;case 4:return[4,Ba(i,o)];case 5:return s.sent(),[3,7];case 6:m("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Qa(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c;return Object(l.c)(this,(function(l){switch(l.label){case 0:return ts(n=T(t)),es(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Xa(n,r.toArray())]);case 1:return i=l.sent(),n.Uo=!0,[4,ta(n.remoteStore,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)u=s[o],jo(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(a=[],c=Promise.resolve(),n.$o.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then((function(){return Ma(n,e),Bi(n.localStore,e,!0)})),Lo(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,Xa(n,a)];case 5:return l.sent(),function(t){var e=T(t);e.ko.forEach((function(t,n){Lo(e.remoteStore,n)})),e.Mo.cs(),e.ko=new Map,e.Oo=new Ue(U.comparator)}(n),n.Uo=!1,[4,ta(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Xa(t,e,n){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c,h,f,d,m,p,v;return Object(l.c)(this,(function(l){switch(l.label){case 0:n=T(t),r=[],i=[],o=0,s=e,l.label=1;case 1:return o<s.length?(u=s[o],a=void 0,(c=n.$o.get(u))&&0!==c.length?[4,qi(n.localStore,Kt(c[0]))]:[3,7]):[3,13];case 2:a=l.sent(),h=0,f=c,l.label=3;case 3:return h<f.length?(d=f[h],m=n.No.get(d),[4,za(n,m)]):[3,6];case 4:(p=l.sent()).snapshot&&i.push(p.snapshot),l.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Gi(n.localStore,u)];case 8:return v=l.sent(),[4,qi(n.localStore,v)];case 9:return a=l.sent(),[4,Oa(n,Ya(v),u,!1)];case 10:l.sent(),l.label=11;case 11:r.push(a),l.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}}))}))}function Ya(t){return Lt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ja(t){var e=T(t);return T(T(e.localStore).persistence).gn()}function $a(t,e,n,r){return Object(l.a)(this,void 0,void 0,(function(){var i,o,s;return Object(l.c)(this,(function(u){switch(u.label){case 0:return(i=T(t)).Uo?(m("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,zi(i.localStore)];case 3:return o=u.sent(),s=nn.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ba(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,Bi(i.localStore,e,!0)];case 6:return u.sent(),Ma(i,e,r),[3,8];case 7:I(),u.label=8;case 8:return[2]}}))}))}function Za(t,e,n){return Object(l.a)(this,void 0,void 0,(function(){var r,i,o,s,u,a,c,h,f,d;return Object(l.c)(this,(function(v){switch(v.label){case 0:if(!(r=ts(t)).Uo)return[3,10];i=0,o=e,v.label=1;case 1:return i<o.length?(s=o[i],r.$o.has(s)?(m("SyncEngine","Adding an already active target "+s),[3,5]):[4,Gi(r.localStore,s)]):[3,6];case 2:return u=v.sent(),[4,qi(r.localStore,u)];case 3:return a=v.sent(),[4,Oa(r,Ya(u),a.targetId,!1)];case 4:v.sent(),jo(r.remoteStore,a),v.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(l.c)(this,(function(e){switch(e.label){case 0:return r.$o.has(t)?[4,Bi(r.localStore,t,!1).then((function(){Lo(r.remoteStore,t),Ma(r,t)})).catch(si)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,v.label=7;case 7:return h<f.length?(d=f[h],[5,c(d)]):[3,10];case 8:v.sent(),v.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function ts(t){var e=T(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ca.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ga.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xa.bind(null,e),e.xo.Tr=fa.bind(null,e.eventManager),e.xo.Ko=da.bind(null,e.eventManager),e}function es(t){var e=T(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Da.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pa.bind(null,e),e}var ns=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(e){switch(e.label){case 0:return this.D=So(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}}))}))},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return ji(this.persistence,new Di,t.initialUser,this.D)},t.prototype.Go=function(t){return new no(io.Cs,this.D)},t.prototype.jo=function(t){return new vo},t.prototype.terminate=function(){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),rs=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(l.b)(e,t),e.prototype.initialize=function(e){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Hi(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,es(this.Jo.syncEngine)];case 4:return n.sent(),[4,Wo(this.Jo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ho=function(t){return ji(this.persistence,new Di,t.initialUser,this.D)},e.prototype.zo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new hi(e,t.asyncQueue)},e.prototype.Go=function(t){var e=Ai(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xr.withCacheSize(this.cacheSizeBytes):Xr.DEFAULT;return new _i(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Eo(),To(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new vo},e}(ns),is=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(l.b)(e,t),e.prototype.initialize=function(e){return Object(l.a)(this,void 0,void 0,(function(){var n,r=this;return Object(l.c)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof mo?(this.sharedClientState.syncEngine={wi:Wa.bind(null,n),_i:$a.bind(null,n),mi:Za.bind(null,n),gn:Ja.bind(null,n),di:Ha.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en((function(t){return Object(l.a)(r,void 0,void 0,(function(){return Object(l.c)(this,(function(e){switch(e.label){case 0:return[4,Qa(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jo=function(t){var e=Eo();if(!mo.At(e))throw new L(j.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ai(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new mo(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(rs),os=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n=this;return Object(l.c)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Na(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ka.bind(null,this.syncEngine),[4,ta(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new ca},t.prototype.createDatastore=function(t){var e,n=So(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Io(e));return function(t,e,n){return new Co(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Na(s.syncEngine,t,0)},o=yo.At()?new yo:new go,new xo(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var u=new Sa(t,e,n,r,i,o);return s&&(u.Uo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(l.a)(this,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(n){switch(n.label){case 0:return e=T(t),m("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,Po(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();var as=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ss=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new dr,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then((function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Wo=function(){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}}))}))},t.prototype.ec=function(){return Object(l.a)(this,void 0,void 0,(function(){var t,e,n,r;return Object(l.c)(this,(function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new va(JSON.parse(r),t.length+n)]}}))}))},t.prototype.rc=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.nc=function(){return Object(l.a)(this,void 0,void 0,(function(){var t,e;return Object(l.c)(this,(function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.ic=function(t){return Object(l.a)(this,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(l.a)(this,void 0,void 0,(function(){var t,e;return Object(l.c)(this,(function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(l.a)(this,void 0,void 0,(function(){var e,n=this;return Object(l.c)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new L(j.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(l.c)(this,(function(a){switch(a.label){case 0:return n=T(t),r=_n(n.D)+"/documents",i={documents:e.map((function(t){return In(n.D,t)}))},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){E(!!e.found),e.found.name,e.found.updateTime;var n=En(t,e.found.name),r=yn(e.found.updateTime),i=new Zt({mapValue:{fields:e.found.fields}});return new lt(n,r,i,{})}(t,e):"missing"in e?function(t,e){E(!!e.missing),E(!!e.readTime);var n=En(t,e.missing),r=yn(e.readTime);return new ht(n,r)}(t,e):I()}(n.D,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());E(!!e),u.push(e)})),u)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof ht||t instanceof lt?n.recordVersion(t):I()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Le(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(l.a)(this,void 0,void 0,(function(){var t,e=this;return Object(l.c)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=U.fromPath(n);e.mutations.push(new Re(r,e.precondition(r)))})),[4,function(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i;return Object(l.c)(this,(function(o){switch(o.label){case 0:return n=T(t),r=_n(n.D)+"/documents",i={writes:e.map((function(t){return Cn(n.D,t)}))},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t instanceof lt)e=t.version;else{if(!(t instanceof ht))throw I();e=Jt.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new L(j.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?be.updateTime(e):be.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Jt.min()))throw new L(j.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return be.updateTime(e)}return be.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),us=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new _o(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi((function(){return Object(l.a)(t,void 0,void 0,(function(){var t,e,n=this;return Object(l.c)(this,(function(r){return t=new ss(this.datastore),(e=this.uc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.hc(t)}))}))})).catch((function(t){n.hc(t)})),[2]}))}))}))},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!x(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget((function(){return e.ac(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Fe(e)}return!1},t}(),cs=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=oo.UNAUTHENTICATED,this.clientId=_.u(),this.credentialListener=function(){},this.receivedInitialUser=new dr,this.credentials.setChangeListener((function(t){m("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new L(j.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(l.a)(t,void 0,void 0,(function(){var t,n;return Object(l.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=ia(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function ls(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r,i=this;return Object(l.c)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),m("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Object(l.a)(i,void 0,void 0,(function(){return Object(l.c)(this,(function(t){switch(t.label){case 0:return[4,Li(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function hs(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r;return Object(l.c)(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,fs(t)];case 1:return n=i.sent(),m("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Object(l.a)(this,void 0,void 0,(function(){var n,r;return Object(l.c)(this,(function(i){switch(i.label){case 0:return(n=T(t)).asyncQueue.verifyOperationInProgress(),m("RemoteStore","RemoteStore received new credentials"),r=Uo(n),n.Qr.add(3),[4,Po(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,Do(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function fs(t){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(m("FirestoreClient","Using default OfflineComponentProvider"),[4,ls(t,new ns)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function ds(t){return Object(l.a)(this,void 0,void 0,(function(){return Object(l.c)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(m("FirestoreClient","Using default OnlineComponentProvider"),[4,hs(t,new os)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function ps(t){return fs(t).then((function(t){return t.persistence}))}function ms(t){return fs(t).then((function(t){return t.localStore}))}function vs(t){return ds(t).then((function(t){return t.remoteStore}))}function gs(t){return ds(t).then((function(t){return t.syncEngine}))}function ys(t){return Object(l.a)(this,void 0,void 0,(function(){var e,n;return Object(l.c)(this,(function(r){switch(r.label){case 0:return[4,ds(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=_a.bind(null,e.syncEngine),n.onUnlisten=ka.bind(null,e.syncEngine),n)]}}))}))}function bs(t,e,n){var r=this;void 0===n&&(n={});var i=new dr;return t.asyncQueue.enqueueAndForget((function(){return Object(l.a)(r,void 0,void 0,(function(){var r;return Object(l.c)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new as({next:function(o){e.enqueueAndForget((function(){return ha(t,s)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new L(j.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new L(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new ma(Rt(n.path),o,{includeMetadataChanges:!0,uo:!0});return la(t,s)},[4,ys(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function ws(t,e,n){var r=this;void 0===n&&(n={});var i=new dr;return t.asyncQueue.enqueueAndForget((function(){return Object(l.a)(r,void 0,void 0,(function(){var r;return Object(l.c)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new as({next:function(n){e.enqueueAndForget((function(){return ha(t,s)})),n.fromCache&&"server"===r.source?i.reject(new L(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new ma(n,o,{includeMetadataChanges:!0,uo:!0});return la(t,s)},[4,ys(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Is=function(t,e,n,r,i,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},Es=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ts=new Map,Ss=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},_s=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(oo.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Os=function(){function t(t){var e=this;this.fc=null,this.currentUser=oo.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then((function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.dc!==e?(m("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(E("string"==typeof n.accessToken),new Ss(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return E(null===t||"string"==typeof t),new oo(t)},t}(),ks=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=oo.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),As=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new ks(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(oo.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Cs(t,e,n){if(!n)throw new L(j.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ns(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new L(j.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function xs(t,e,n,r){if(!0===e&&!0===r)throw new L(j.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ds(t){if(!U.isDocumentKey(t))throw new L(j.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ps(t){if(U.isDocumentKey(t))throw new L(j.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function js(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":I()}function Ls(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=js(t);throw new L(j.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Rs(t,e){if(e<=0)throw new L(j.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ms=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new L(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new L(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,xs("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Fs=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Ms({}),this._settingsFrozen=!1,t instanceof Es?(this._databaseId=t,this._credentials=new _s):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new L(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Es(t.options.projectId)}(t),this._credentials=new Os(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new L(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new L(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ms(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new _s;switch(t.type){case"gapi":var e=t.client;return E(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new As(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new L(j.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=Ts.get(this))&&(m("ComponentProvider","Removing Datastore"),Ts.delete(this),t.terminate()),Promise.resolve();var t},t}(),Vs=function(t){this._delegate=t},Us=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Bs(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),qs=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Bs=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Rt(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(l.b)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Us(this.firestore,null,new U(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(qs);function Ks(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Vs&&(t=t._delegate),Cs("collection","path",e),t instanceof Fs)return Ps(n=M.fromString.apply(M,Object(l.d)([e],r))),new Bs(t,null,n);if(!(t instanceof Us||t instanceof Bs))throw new L(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ps(n=M.fromString.apply(M,Object(l.d)([t.path],r)).child(M.fromString(e))),new Bs(t.firestore,null,n)}function Gs(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Vs&&(t=t._delegate),1===arguments.length&&(e=_.u()),Cs("doc","path",e),t instanceof Fs)return Ds(n=M.fromString.apply(M,Object(l.d)([e],r))),new Us(t,null,new U(n));if(!(t instanceof Us||t instanceof Bs))throw new L(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ds(n=t._path.child(M.fromString.apply(M,Object(l.d)([e],r)))),new Us(t.firestore,t instanceof Bs?t._converter:null,new U(n))}function zs(t,e){return t instanceof Vs&&(t=t._delegate),e instanceof Vs&&(e=e._delegate),(t instanceof Us||t instanceof Bs)&&(e instanceof Us||e instanceof Bs)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Hs(t,e){return t instanceof Vs&&(t=t._delegate),e instanceof Vs&&(e=e._delegate),t instanceof qs&&e instanceof qs&&t.firestore===e.firestore&&zt(t._query,e._query)&&t._converter===e._converter}var Ws=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new _o(this,"async_queue_retry"),this.bc=function(){var e=To();e&&m("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=To();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=To();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise((function(t){})):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.gc.push(t),e.Vc()}))},t.prototype.Vc=function(){return Object(l.a)(this,void 0,void 0,(function(){var t,e=this;return Object(l.c)(this,(function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!wr(t=n.sent()))throw t;return m("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi((function(){return e.Vc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Pc=function(t){var e=this,n=this.yc.then((function(){return e.Ac=!0,t().catch((function(t){throw e.Ic=t,e.Ac=!1,v("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Ac=!1,t}))}));return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=ra.createAndSchedule(this,t,e,n,(function(t){return r.Sc(t)}));return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&I()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(l.a)(this,void 0,void 0,(function(){var t;return Object(l.c)(this,(function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then((function(){e.Tc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()}))},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function Qs(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new dr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Xs=-1,Ys=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Ws,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(l.b)(e,t),e.prototype._terminate=function(){return this._firestoreClient||$s(this),this._firestoreClient.terminate()},e}(Fs);function Js(t){return t._firestoreClient||$s(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $s(t){var e=t._freezeSettings(),n=function(t,e,n){return new Is(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new cs(t._credentials,t._queue,n)}function Zs(t,e,n){var r=this,i=new dr;return t.asyncQueue.enqueue((function(){return Object(l.a)(r,void 0,void 0,(function(){var r;return Object(l.c)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ls(t,n)];case 1:return o.sent(),[4,hs(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function tu(t){if(t._initialized||t._terminated)throw new L(j.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var eu=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new L(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new V(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),nu=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(B.fromBase64String(e))}catch(e){throw new L(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(B.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),ru=function(t){this._methodName=t},iu=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new L(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new L(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return O(this._lat,t._lat)||O(this._long,t._long)},t}(),ou=/^__.*__$/,au=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Ae(t,this.data,this.fieldMask,e,this.fieldTransforms):new ke(t,this.data,e,this.fieldTransforms)},t}(),su=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Ae(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function uu(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw I()}}var cu=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return Cu(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(uu(this.Fc)&&ou.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),lu=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||So(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new cu({Fc:t,methodName:e,Kc:n,path:V.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function hu(t){var e=t._freezeSettings(),n=So(t._databaseId);return new lu(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fu(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Wc(o.merge||o.mergeFields?2:0,e,n,i);_u("Data must be an object, but it was:",s,r);var u,a,c=Tu(r,s);if(o.merge)u=new $t(s.fieldMask),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Ou(e,f[h],n);if(!s.contains(d))throw new L(j.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Nu(l,d)||l.push(d)}u=new $t(l),a=s.fieldTransforms.filter((function(t){return u.covers(t.field)}))}else u=null,a=s.fieldTransforms;return new au(new Zt(c),u,a)}var du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw 1===t.Fc?t.Uc(this._methodName+"() can only appear at the top level of your update data"):t.Uc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ru);function pu(t,e,n){return new cu({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var mu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype._toFieldTransform=function(t){return new ge(t.path,new ce)},e.prototype.isEqual=function(t){return t instanceof e},e}(ru),vu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(l.b)(e,t),e.prototype._toFieldTransform=function(t){var e=pu(this,t,!0),n=this.jc.map((function(t){return Eu(t,e)})),r=new le(n);return new ge(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ru),gu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(l.b)(e,t),e.prototype._toFieldTransform=function(t){var e=pu(this,t,!0),n=this.jc.map((function(t){return Eu(t,e)})),r=new fe(n);return new ge(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ru),yu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(l.b)(e,t),e.prototype._toFieldTransform=function(t){var e=new pe(t.D,ie(t.D,this.Gc));return new ge(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ru);function bu(t,e,n,r){var i=t.Wc(1,e,n);_u("Data must be an object, but it was:",i,r);var o=[],s=new te;N(r,(function(t,r){var u=Au(e,t,n);r instanceof Vs&&(r=r._delegate);var a=i.Bc(u);if(r instanceof du)o.push(u);else{var c=Eu(r,a);null!=c&&(o.push(u),s.set(u,c))}}));var u=new $t(o);return new su(s.v(),u,i.fieldTransforms)}function wu(t,e,n,r,i,o){var s=t.Wc(1,e,n),u=[Ou(e,r,n)],a=[i];if(o.length%2!=0)throw new L(j.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Ou(e,o[c])),a.push(o[c+1]);for(var l=[],h=new te,f=u.length-1;f>=0;--f)if(!Nu(l,u[f])){var d=u[f],p=a[f];p instanceof Vs&&(p=p._delegate);var m=s.Bc(d);if(p instanceof du)l.push(d);else{var v=Eu(p,m);null!=v&&(l.push(d),h.set(d,v))}}var y=new $t(l);return new su(h.v(),y,s.fieldTransforms)}function Iu(t,e,n,r){return void 0===r&&(r=!1),Eu(n,t.Wc(r?4:3,e))}function Eu(t,e){if(t instanceof Vs&&(t=t._delegate),Su(t))return _u("Unsupported field value:",e,t),Tu(t,e);if(t instanceof ru)return function(t,e){if(!uu(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Eu(o[i],e.qc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Vs&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ie(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=W.fromDate(t);return{timestampValue:mn(e.D,n)}}if(t instanceof W)return n=new W(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:mn(e.D,n)};if(t instanceof iu)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nu)return{bytesValue:vn(e.D,t._byteString)};if(t instanceof Us){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:bn(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+js(t))}(t,e)}function Tu(t,e){var n={};return q(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):N(t,(function(t,r){var i=Eu(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Su(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof W||t instanceof iu||t instanceof nu||t instanceof Us||t instanceof ru)}function _u(t,e,n){if(!Su(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=js(n);throw"an object"===r?e.Uc(t+" a custom object"):e.Uc(t+" "+r)}}function Ou(t,e,n){if(e instanceof Vs&&(e=e._delegate),e instanceof eu)return e._internalPath;if("string"==typeof e)return Au(t,e);throw Cu("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ku=new RegExp("[~\\*/\\[\\]]");function Au(t,e,n){if(e.search(ku)>=0)throw Cu("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(eu.bind.apply(eu,Object(l.d)([void 0],e.split(".")))))._internalPath}catch(r){throw Cu("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Cu(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new L(j.INVALID_ARGUMENT,(u+=". ")+t+a)}function Nu(t,e){return t.some((function(t){return t.isEqual(e)}))}var xu=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Us(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Du(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(Pu("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(xu);function Pu(t,e){return"string"==typeof e?Au(t,e):e instanceof Vs?e._delegate._internalPath:e._internalPath}var ju=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Lu=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this)._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Object(l.b)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Ru(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(Pu("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(xu),Ru=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Lu),Mu=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ju(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Ru(n._firestore,n._userDataWriter,r.key,r,new ju(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var r=new Ru(t._firestore,t._userDataWriter,e.doc.key,e.doc,new ju(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Ru(t._firestore,t._userDataWriter,e.doc.key,e.doc,new ju(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Fu(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Fu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return I()}}function Vu(t,e){return t instanceof Lu&&e instanceof Lu?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Mu&&e instanceof Mu&&t._firestore===e._firestore&&Hs(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Uu(t){if(Ft(t)&&0===t.explicitOrderBy.length)throw new L(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qu=function(){};function Bu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Ku=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(l.b)(e,t),e.prototype._apply=function(t){var e=hu(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new L(j.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Yu(s,o);for(var a=[],c=0,l=s;c<l.length;c++){var h=l[c];a.push(Xu(r,t,h))}u={arrayValue:{values:a}}}else u=Xu(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Yu(s,o),u=Iu(n,"where",s,"in"===o||"not-in"===o);var f=bt.create(i,o,u);return function(t,e){if(e.g()){var n=Ut(t);if(null!==n&&!n.isEqual(e.field))throw new L(j.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Vt(t);null!==r&&Ju(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new L(j.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new L(j.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new qs(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new jt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(qu),Gu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(l.b)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new L(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new L(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Nt(e,n);return function(t,e){if(null===Vt(t)){var n=Ut(t);null!==n&&Ju(t,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new qs(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new jt(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(qu),zu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(l.b)(e,t),e.prototype._apply=function(t){return new qs(t.firestore,t._converter,Gt(t._query,this.Xc,this.Zc))},e}(qu),Hu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(l.b)(e,t),e.prototype._apply=function(t){var e=Qu(t,this.type,this.ta,this.ea);return new qs(t.firestore,t._converter,function(t,e){return new jt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(qu),Wu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(l.b)(e,t),e.prototype._apply=function(t){var e=Qu(t,this.type,this.ta,this.ea);return new qs(t.firestore,t._converter,function(t,e){return new jt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(qu);function Qu(t,e,n,r){if(n[0]instanceof Vs&&(n[0]=n[0]._delegate),n[0]instanceof xu)return function(t,e,n,r,i){if(!r)throw new L(j.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=Bt(t);s<u.length;s++){var a=u[s];if(a.field.isKeyField())o.push(it(e,r.key));else{var c=r.field(a.field);if(Q(c))throw new L(j.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.canonicalString();throw new L(j.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new At(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=hu(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new L(j.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.isKeyField()){if("string"!=typeof c)throw new L(j.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!qt(t)&&-1!==c.indexOf("/"))throw new L(j.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(M.fromString(c));if(!U.isDocumentKey(l))throw new L(j.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new U(l);u.push(it(e,h))}else{var f=Iu(n,r,c);u.push(f)}}return new At(u,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Xu(t,e,n){if(n instanceof Vs&&(n=n._delegate),"string"==typeof n){if(""===n)throw new L(j.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qt(e)&&-1!==n.indexOf("/"))throw new L(j.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(M.fromString(n));if(!U.isDocumentKey(r))throw new L(j.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return it(t,new U(r))}if(n instanceof Us)return it(t,n._key);throw new L(j.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+js(n)+".")}function Yu(t,e){if(!Array.isArray(t)||0===t.length)throw new L(j.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new L(j.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ju(t,e,n){if(!n.isEqual(e))throw new L(j.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var $u=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Y(t)){case 0:return null;case 1:return t.booleanValue;case 2:return z(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(H(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw I()}},t.prototype.convertObject=function(t,e){var n=this,r={};return N(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new iu(z(t.latitude),z(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=X(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(rt(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=G(t);return new W(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=M.fromString(t);E(Gn(n));var r=new Es(n.get(1),n.get(3)),i=new U(n.popFirst(5));return r.isEqual(e)||v("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Zu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var tc=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(l.b)(e,t),e.prototype.convertBytes=function(t){return new nu(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Us(this.firestore,null,e)},e}($u),ec=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=hu(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=nc(t,this._firestore),i=Zu(r._converter,e,n),o=fu(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,be.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=nc(t,this._firestore);return e instanceof Vs&&(e=e._delegate),o="string"==typeof e||e instanceof eu?wu(this._dataReader,"WriteBatch.update",s._key,e,n,r):bu(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,be.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=nc(t,this._firestore);return this._mutations=this._mutations.concat(new Le(e._key,be.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new L(j.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function nc(t,e){if(t instanceof Vs&&(t=t._delegate),t.firestore!==e)throw new L(j.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var rc=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(l.b)(e,t),e.prototype.convertBytes=function(t){return new nu(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Us(this.firestore,null,e)},e}($u);function ic(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ls(t,Us);var o=Ls(t.firestore,Ys),s=hu(o);return e instanceof Vs&&(e=e._delegate),ac(o,[("string"==typeof e||e instanceof eu?wu(s,"updateDoc",t._key,e,n,r):bu(s,"updateDoc",t._key,e)).toMutation(t._key,be.exists(!0))])}function oc(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Vs&&(t=t._delegate);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||Qs(i[u])||(s=i[u],u++);var a,c,h,f={includeMetadataChanges:s.includeMetadataChanges};if(Qs(i[u])){var d=i[u];i[u]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Us)c=Ls(t.firestore,Ys),h=Rt(t._key.path),a={next:function(e){i[u]&&i[u](sc(c,t,e))},error:i[u+1],complete:i[u+2]};else{var m=Ls(t,qs);c=Ls(m.firestore,Ys),h=m._query;var p=new rc(c);a={next:function(t){i[u]&&i[u](new Mu(c,p,m,t))},error:i[u+1],complete:i[u+2]},Uu(t._query)}return function(t,e,n,r){var i=this,o=new as(r),s=new ma(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Object(l.a)(i,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(n){switch(n.label){case 0:return e=la,[4,ys(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Xo(),t.asyncQueue.enqueueAndForget((function(){return Object(l.a)(i,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(n){switch(n.label){case 0:return e=ha,[4,ys(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Js(c),h,f,a)}function ac(t,e){return function(t,e){var n=this,r=new dr;return t.asyncQueue.enqueueAndForget((function(){return Object(l.a)(n,void 0,void 0,(function(){var n;return Object(l.c)(this,(function(i){switch(i.label){case 0:return n=Aa,[4,gs(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Js(t),e)}function sc(t,e,n){var r=n.docs.get(e._key),i=new rc(t);return new Lu(t,i,e._key,r,new ju(n.hasPendingWrites,n.fromCache),e._converter)}var uc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(l.b)(e,t),e.prototype.get=function(e){var n=this,r=nc(e,this._firestore),i=new rc(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Lu(n._firestore,i,r._key,t._document,new ju(!1,!1),r._converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=hu(t)}return t.prototype.get=function(t){var e=this,n=nc(t,this._firestore),r=new tc(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return I();var i=t[0];if(i instanceof ht)return new xu(e._firestore,r,n._key,null,n._converter);if(i instanceof lt)return new xu(e._firestore,r,i.key,i,n._converter);throw I()}))},t.prototype.set=function(t,e,n){var r=nc(t,this._firestore),i=Zu(r._converter,e,n),o=fu(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=nc(t,this._firestore);return e instanceof Vs&&(e=e._delegate),o="string"==typeof e||e instanceof eu?wu(this._dataReader,"Transaction.update",s._key,e,n,r):bu(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=nc(t,this._firestore);return this._transaction.delete(e._key),this},t}());function cc(){if("undefined"==typeof Uint8Array)throw new L(j.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function lc(){if("undefined"==typeof atob)throw new L(j.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var hc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.fromBase64String=function(t){return lc(),new e(nu.fromBase64String(t))},e.fromUint8Array=function(t){return cc(),new e(nu.fromUint8Array(t))},e.prototype.toBase64=function(){return lc(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return cc(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Vs),fc=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){tu(t=Ls(t,Ys));var n=Js(t),r=t._freezeSettings(),i=new os;return Zs(n,i,new rs(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){tu(t=Ls(t,Ys));var e=Js(t),n=t._freezeSettings(),r=new os;return Zs(e,r,new is(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new L(j.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new dr;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(l.a)(e,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(l.a)(this,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(n){switch(n.label){case 0:return vr.At()?(e=t+"main",[4,vr.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Ai(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),dc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Es||(i.sa=e),i}return Object(l.b)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Ls(t,Fs))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&y("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(l.a)(e,void 0,void 0,(function(){var e,n;return Object(l.c)(this,(function(r){switch(r.label){case 0:return[4,ps(t)];case 1:return e=r.sent(),[4,vs(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=T(t);return e.Qr.delete(0),Do(e)}(n))]}}))}))}))}(Js(Ls(this._delegate,Ys)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(l.a)(e,void 0,void 0,(function(){var e,n;return Object(l.c)(this,(function(r){switch(r.label){case 0:return[4,ps(t)];case 1:return e=r.sent(),[4,vs(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(l.a)(this,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(n){switch(n.label){case 0:return(e=T(t)).Qr.add(0),[4,Po(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Js(Ls(this._delegate,Ys)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&xs("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new dr;return t.asyncQueue.enqueueAndForget((function(){return Object(l.a)(e,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(r){switch(r.label){case 0:return e=ja,[4,gs(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Js(Ls(this._delegate,Ys)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new as(e);return t.asyncQueue.enqueueAndForget((function(){return Object(l.a)(n,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(n){switch(n.label){case 0:return e=function(t,e){T(t).Zr.add(e),e.next()},[4,ys(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Xo(),t.asyncQueue.enqueueAndForget((function(){return Object(l.a)(n,void 0,void 0,(function(){var e;return Object(l.c)(this,(function(n){switch(n.label){case 0:return e=function(t,e){T(t).Zr.delete(e)},[4,ys(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Js(t=Ls(t,Ys)),Qs(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new L(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ac(this,Ks(this._delegate,t))}catch(t){throw wc(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new bc(this,Gs(this._delegate,t))}catch(t){throw wc(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new _c(this,function(t,e){if(t=Ls(t,Fs),Cs("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new L(j.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qs(t,null,function(t){return new jt(M.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw wc(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new dr;return t.asyncQueue.enqueueAndForget((function(){return Object(l.a)(n,void 0,void 0,(function(){var n;return Object(l.c)(this,(function(i){switch(i.label){case 0:return[4,function(t){return ds(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new us(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Js(t),(function(n){return e(new uc(t,n))}))}(this._delegate,(function(n){return t(new vc(e,n))}))},e.prototype.batch=function(){var t=this;return Js(this._delegate),new gc(new ec(this._delegate,(function(e){return ac(t._delegate,e)})))},e.prototype.loadBundle=function(t){throw new L(j.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new L(j.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Vs),pc=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(l.b)(e,t),e.prototype.convertBytes=function(t){return new hc(new nu(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return bc.ia(e,this.firestore,null)},e}($u);function mc(t){var e;e=t,f.setLogLevel(e)}var vc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new pc(e),r}return Object(l.b)(e,t),e.prototype.get=function(t){var e=this,n=Cc(t);return this._delegate.get(n).then((function(t){return new Tc(e._firestore,new Lu(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))}))},e.prototype.set=function(t,e,n){var r=Cc(t);return n?(Ns("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Cc(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(l.d)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Cc(t);return this._delegate.delete(e),this},e}(Vs),gc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.set=function(t,e,n){var r=Cc(t);return n?(Ns("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Cc(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(l.d)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Cc(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(Vs),yc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(l.b)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Ru(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Sc(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new pc(t),n),i.set(n,o)),o},e}(Vs);yc.oa=new WeakMap;var bc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new pc(e),r}return Object(l.b)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new L(j.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Us(n._delegate,r,new U(t)))},e.ia=function(t,n,r){return new e(n,new Us(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ac(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ac(this.firestore,Ks(this._delegate,t))}catch(t){throw wc(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Vs&&(t=t._delegate),t instanceof Us&&zs(this._delegate,t)},e.prototype.set=function(t,e){e=Ns("DocumentReference.set",e);try{return function(t,e,n){t=Ls(t,Us);var r=Ls(t.firestore,Ys),i=Zu(t._converter,e,n);return ac(r,[fu(hu(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,be.none())])}(this._delegate,t,e)}catch(t){throw wc(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ic(this._delegate,t):ic.apply(void 0,Object(l.d)([this._delegate,t,e],n))}catch(t){throw wc(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ac(Ls((t=this._delegate).firestore,Ys),[new Le(t._key,be.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ic(e),i=Ec(e,(function(e){return new Tc(t.firestore,new Lu(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}));return oc(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ls(t,Us);var e=Ls(t.firestore,Ys),n=Js(e),r=new rc(e);return function(t,e){var n=this,r=new dr;return t.asyncQueue.enqueueAndForget((function(){return Object(l.a)(n,void 0,void 0,(function(){var n;return Object(l.c)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(l.a)(this,void 0,void 0,(function(){var r,i;return Object(l.c)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=T(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Kn.In(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof lt?n.resolve(i):i instanceof ht?n.resolve(null):n.reject(new L(j.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=ia(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,ms(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Lu(e,r,t._key,n,new ju(n instanceof lt&&n.hasLocalMutations,!0),t._converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ls(t,Us);var e=Ls(t.firestore,Ys);return bs(Js(e),t._key,{source:"server"}).then((function(n){return sc(e,t,n)}))}(this._delegate):function(t){t=Ls(t,Us);var e=Ls(t.firestore,Ys);return bs(Js(e),t._key).then((function(n){return sc(e,t,n)}))}(this._delegate)).then((function(t){return new Tc(e.firestore,new Lu(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(yc.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(Vs);function wc(t,e,n){return t.message=t.message.replace(e,n),t}function Ic(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Qs(r))return r}return{}}function Ec(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Qs(t[0])?t[0]:Qs(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Tc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(l.b)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new bc(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return Vu(this._delegate,t._delegate)},e}(Vs),Sc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Tc),_c=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new pc(e),r}return Object(l.b)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Bu(this._delegate,function(t,e,n){var r=e,i=Pu("where",t);return new Ku(i,r,n)}(t,n,r)))}catch(t){throw wc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Bu(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Pu("orderBy",t);return new Gu(r,n)}(t,n)))}catch(t){throw wc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Bu(this._delegate,function(t){return Rs("limit",t),new zu("limit",t,"F")}(t)))}catch(t){throw wc(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Bu(this._delegate,function(t){return Rs("limitToLast",t),new zu("limitToLast",t,"L")}(t)))}catch(t){throw wc(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hu("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw wc(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hu("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw wc(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wu("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw wc(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wu("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw wc(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Hs(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ls(t,qs);var e=Ls(t.firestore,Ys),n=Js(e),r=new rc(e);return function(t,e){var n=this,r=new dr;return t.asyncQueue.enqueueAndForget((function(){return Object(l.a)(n,void 0,void 0,(function(){var n;return Object(l.c)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(l.a)(this,void 0,void 0,(function(){var r,i,o,s,u;return Object(l.c)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Ki(t,e,!0)];case 1:return u=a.sent(),r=new Ia(e,u.jn),i=r.Io(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=ia(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,ms(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Mu(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ls(t,qs);var e=Ls(t.firestore,Ys),n=Js(e),r=new rc(e);return ws(n,t._query,{source:"server"}).then((function(n){return new Mu(e,r,t,n)}))}(this._delegate):function(t){t=Ls(t,qs);var e=Ls(t.firestore,Ys),n=Js(e),r=new rc(e);return Uu(t._query),ws(n,t._query).then((function(n){return new Mu(e,r,t,n)}))}(this._delegate)).then((function(t){return new kc(e.firestore,new Mu(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Ic(e),i=Ec(e,(function(e){return new kc(t.firestore,new Mu(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return oc(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(yc.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(Vs),Oc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(l.b)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Sc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(Vs),kc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(l.b)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new _c(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Sc(t._firestore,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Oc(e._firestore,t)}))},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Sc(n._firestore,r))}))},e.prototype.isEqual=function(t){return Vu(this._delegate,t._delegate)},e}(Vs),Ac=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(l.b)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new bc(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new bc(this.firestore,void 0===t?Gs(this._delegate):Gs(this._delegate,t))}catch(t){throw wc(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ls(t.firestore,Ys),r=Gs(t),i=Zu(t._converter,e);return ac(n,[fu(hu(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,be.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new bc(e.firestore,t)}))},e.prototype.isEqual=function(t){return zs(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(yc.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(_c);function Cc(t){return t instanceof Vs&&(t=t._delegate),Ls(t,Us)}var Nc=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(eu.bind.apply(eu,Object(l.d)([void 0],e))))||this}return Object(l.b)(e,t),e.documentId=function(){return new e(V.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof Vs&&(t=t._delegate),t instanceof eu&&this._delegate._internalPath.isEqual(t._internalPath)},e}(Vs),xc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l.b)(e,t),e.serverTimestamp=function(){var t=new mu("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new du("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new vu("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gu("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new yu("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(Vs)}).call(this,n(119))},115:function(t,e,n){"use strict";var r={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?t(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return t(!1)})):t(!1))}};t.exports=r},13:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return fr})),n.d(e,"b",(function(){return pr})),n.d(e,"c",(function(){return dr})),n.d(e,"d",(function(){return mr})),n.d(e,"e",(function(){return vr})),n.d(e,"f",(function(){return gr})),n.d(e,"g",(function(){return cr})),n.d(e,"h",(function(){return lr}));var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(t[p]=b[p])})(t,b)};function o(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},h=h||{},f=l||self;function d(){}function m(a){var b=typeof a;return"array"==(b="object"!=b?b:a?Array.isArray(a)?"array":b:"null")||"object"==b&&"number"==typeof a.length}function v(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var y="closure_uid_"+(1e9*Math.random()>>>0),w=0;function I(a,b,t){return a.call.apply(a.bind,arguments)}function E(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function p(a,b,t){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?I:E).apply(null,arguments)}function T(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),a.apply(this,e)}}function q(){return Date.now()}function S(a,b){function t(){}t.prototype=b.prototype,a.X=b.prototype,a.prototype=new t,a.prototype.constructor=a,a.Kb=function(t,e,n){for(var g=Array(arguments.length-2),r=2;r<arguments.length;r++)g[r-2]=arguments[r];return b.prototype[e].apply(t,g)}}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(a){Object.prototype.hasOwnProperty.call(a,y)&&a[y]||(a[y]=++w)})(this)},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var O=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"==typeof a)return"string"!=typeof b||1!=b.length?-1:a.indexOf(b,0);for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},k=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,n="string"==typeof a?a.split(""):a,r=0;r<e;r++)r in n&&b.call(t,n[r],r,a)};function A(a){return Array.prototype.concat.apply([],arguments)}function C(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}function N(a){return/^[\s\xa0]*$/.test(a)}var x,D=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function P(a,b){return-1!=a.indexOf(b)}function j(a,b){return a<b?-1:a>b?1:0}t:{var L=f.navigator;if(L){var R=L.userAgent;if(R){x=R;break t}}x=""}function M(a,b,t){for(var e in a)b.call(t,a[e],e,a)}function F(a){var b={};for(var t in a)b[t]=a[t];return b}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var r=0;r<V.length;r++)t=V[r],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function B(a){return B[" "](a),a}B[" "]=d;var K,a,G=P(x,"Opera"),z=P(x,"Trident")||P(x,"MSIE"),H=P(x,"Edge"),W=H||z,Q=P(x,"Gecko")&&!(P(x.toLowerCase(),"webkit")&&!P(x,"Edge"))&&!(P(x,"Trident")||P(x,"MSIE"))&&!P(x,"Edge"),X=P(x.toLowerCase(),"webkit")&&!P(x,"Edge");function Y(){var a=f.document;return a?a.documentMode:void 0}t:{var J="",$=(a=x,Q?/rv:([^\);]+)(\)|;)/.exec(a):H?/Edge\/([\d\.]+)/.exec(a):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):X?/WebKit\/(\S+)/.exec(a):G?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if($&&(J=$?$[1]:""),z){var Z=Y();if(null!=Z&&Z>parseFloat(J)){K=String(Z);break t}}K=J}var tt,et={};function nt(a){return function(a,b){var t=et;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,(function(){for(var b=0,t=D(String(K)).split("."),e=D(String(a)).split("."),g=Math.max(t.length,e.length),n=0;0==b&&n<g;n++){var r=t[n]||"",o=e[n]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;b=j(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||j(0==r[2].length,0==o[2].length)||j(r[2],o[2]),r=r[3],o=o[3]}while(0==b)}return 0<=b}))}if(f.document&&z){var it=Y();tt=it||(parseInt(K,10)||void 0)}else tt=void 0;var ot=tt,at=!z||9<=Number(ot),st=z&&!nt("9"),ut=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{f.addEventListener("test",d,b),f.removeEventListener("test",d,b)}catch(t){}return a}();function ct(a,b){this.type=a,this.a=this.target=b,this.defaultPrevented=!1}function lt(a,b){if(ct.call(this,a?a.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,a){var t=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.a=b,b=a.relatedTarget){if(Q){t:{try{B(b.nodeName);var n=!0;break t}catch(t){}n=!1}n||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:ht[a.pointerType]||"",this.c=a,a.defaultPrevented&&this.b()}}ct.prototype.b=function(){this.defaultPrevented=!0},S(lt,ct);var ht={2:"touch",3:"pen",4:"mouse"};lt.prototype.b=function(){lt.X.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,st)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}};var ft="closure_listenable_"+(1e6*Math.random()|0),pt=0;function mt(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.ca=n,this.key=++pt,this.Y=this.Z=!1}function vt(a){a.Y=!0,a.listener=null,a.proxy=null,a.src=null,a.ca=null}function gt(a){this.src=a,this.a={},this.b=0}function yt(a,b){var t=b.type;if(t in a.a){var e,n=a.a[t],r=O(n,b);(e=0<=r)&&Array.prototype.splice.call(n,r,1),e&&(vt(b),0==a.a[t].length&&(delete a.a[t],a.b--))}}function bt(a,b,t,e){for(var n=0;n<a.length;++n){var r=a[n];if(!r.Y&&r.listener==b&&r.capture==!!t&&r.ca==e)return n}return-1}gt.prototype.add=function(a,b,t,e,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var g=bt(a,b,e,n);return-1<g?(b=a[g],t||(b.Z=!1)):((b=new mt(b,this.src,r,!!e,n)).Z=t,a.push(b)),b};var wt="closure_lm_"+(1e6*Math.random()|0),It={};function Et(a,b,t,e,n){if(e&&e.once)return St(a,b,t,e,n);if(Array.isArray(b)){for(var r=0;r<b.length;r++)Et(a,b[r],t,e,n);return null}return t=Dt(t),a&&a[ft]?a.va(b,t,v(e)?!!e.capture:!!e,n):Tt(a,b,t,!1,e,n)}function Tt(a,b,t,e,n,r){if(!b)throw Error("Invalid event type");var g=v(n)?!!n.capture:!!n;if(g&&!at)return null;var o=Nt(a);if(o||(a[wt]=o=new gt(a)),(t=o.add(b,t,e,g,r)).proxy)return t;if(e=function(){var a=Ct,b=at?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)ut||(n=g),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(kt(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}return t}function St(a,b,t,e,n){if(Array.isArray(b)){for(var r=0;r<b.length;r++)St(a,b[r],t,e,n);return null}return t=Dt(t),a&&a[ft]?a.wa(b,t,v(e)?!!e.capture:!!e,n):Tt(a,b,t,!0,e,n)}function _t(a,b,t,e,n){if(Array.isArray(b))for(var r=0;r<b.length;r++)_t(a,b[r],t,e,n);else e=v(e)?!!e.capture:!!e,t=Dt(t),a&&a[ft]?(a=a.c,(b=String(b).toString())in a.a&&(-1<(t=bt(r=a.a[b],t,e,n))&&(vt(r[t]),Array.prototype.splice.call(r,t,1),0==r.length&&(delete a.a[b],a.b--)))):a&&(a=Nt(a))&&(b=a.a[b.toString()],a=-1,b&&(a=bt(b,t,e,n)),(t=-1<a?b[a]:null)&&Ot(t))}function Ot(a){if("number"!=typeof a&&a&&!a.Y){var b=a.src;if(b&&b[ft])yt(b.c,a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(kt(t),e):b.addListener&&b.removeListener&&b.removeListener(e),(t=Nt(b))?(yt(t,a),0==t.b&&(t.src=null,b[wt]=null)):vt(a)}}}function kt(a){return a in It?It[a]:It[a]="on"+a}function At(a,b){var t=a.listener,e=a.ca||a.src;return a.Z&&Ot(a),t.call(e,b)}function Ct(a,b){if(a.Y)return!0;if(!at){if(!b)t:{b=["window","event"];for(var t=f,e=0;e<b.length;e++)if(null==(t=t[b[e]])){b=null;break t}b=t}return At(a,b=new lt(b,this))}return At(a,new lt(b,this))}function Nt(a){return(a=a[wt])instanceof gt?a:null}var xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dt(a){return"function"==typeof a?a:(a[xt]||(a[xt]=function(b){return a.handleEvent(b)}),a[xt])}function Pt(){_.call(this),this.c=new gt(this),this.J=this,this.C=null}function jt(a,b){var t,e=a.C;if(e)for(t=[];e;e=e.C)t.push(e);if(a=a.J,e=b.type||b,"string"==typeof b)b=new ct(b,a);else if(b instanceof ct)b.target=b.target||a;else{var n=b;U(b=new ct(e,a),n)}if(n=!0,t)for(var r=t.length-1;0<=r;r--){var g=b.a=t[r];n=Lt(g,e,!0,b)&&n}if(n=Lt(g=b.a=a,e,!0,b)&&n,n=Lt(g,e,!1,b)&&n,t)for(r=0;r<t.length;r++)n=Lt(g=b.a=t[r],e,!1,b)&&n}function Lt(a,b,t,e){if(!(b=a.c.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var g=b[r];if(g&&!g.Y&&g.capture==t){var o=g.listener,c=g.ca||g.src;g.Z&&yt(a.c,g),n=!1!==o.call(c,e)&&n}}return n&&!e.defaultPrevented}S(Pt,_),Pt.prototype[ft]=!0,(c=Pt.prototype).addEventListener=function(a,b,t,e){Et(this,a,b,t,e)},c.removeEventListener=function(a,b,t,e){_t(this,a,b,t,e)},c.G=function(){if(Pt.X.G.call(this),this.c){var t,a=this.c;for(t in a.a){for(var e=a.a[t],n=0;n<e.length;n++)vt(e[n]);delete a.a[t],a.b--}}this.C=null},c.va=function(a,b,t,e){return this.c.add(String(a),b,!1,t,e)},c.wa=function(a,b,t,e){return this.c.add(String(a),b,!0,t,e)};var Rt=f.JSON.stringify;function Mt(){this.b=this.a=null}var Ft,Vt=new(function(){function t(a,b){this.c=a,this.f=b,this.b=0,this.a=null}return t.prototype.get=function(){var a;return 0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c(),a},t}())((function(){return new qt}),(function(a){a.reset()}));function Ut(){var a=zt,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function qt(){this.next=this.b=this.a=null}function Bt(a){f.setTimeout((function(){throw a}),0)}function Kt(a,b){Ft||function(){var a=f.Promise.resolve(void 0);Ft=function(){a.then(Ht)}}(),Gt||(Ft(),Gt=!0),zt.add(a,b)}Mt.prototype.add=function(a,b){var t=Vt.get();t.set(a,b),this.b?this.b.next=t:this.a=t,this.b=t},qt.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},qt.prototype.reset=function(){this.next=this.b=this.a=null};var Gt=!1,zt=new Mt;function Ht(){for(var a;a=Ut();){try{a.a.call(a.b)}catch(t){Bt(t)}var b=Vt;b.f(a),100>b.b&&(b.b++,a.next=b.a,b.a=a)}Gt=!1}function Wt(a,b){Pt.call(this),this.b=a||1,this.a=b||f,this.f=p(this.Za,this),this.g=q()}function Qt(a){a.aa=!1,a.M&&(a.a.clearTimeout(a.M),a.M=null)}function Xt(a,b,t){if("function"==typeof a)t&&(a=p(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=p(a.handleEvent,a)}return 2147483647<Number(b)?-1:f.setTimeout(a,b||0)}function Yt(a){a.a=Xt((function(){a.a=null,a.c&&(a.c=!1,Yt(a))}),a.h);var b=a.b;a.b=null,a.g.apply(null,b)}S(Wt,Pt),(c=Wt.prototype).aa=!1,c.M=null,c.Za=function(){if(this.aa){var a=q()-this.g;0<a&&a<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-a):(this.M&&(this.a.clearTimeout(this.M),this.M=null),jt(this,"tick"),this.aa&&(Qt(this),this.start()))}},c.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=q())},c.G=function(){Wt.X.G.call(this),Qt(this),delete this.a};var Jt=function(t){function e(a,b){var e=t.call(this)||this;return e.g=a,e.h=b,e.b=null,e.c=!1,e.a=null,e}return function(t,b){function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}(e,t),e.prototype.f=function(a){this.b=arguments,this.a?this.c=!0:Yt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(f.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(_);function $t(a){_.call(this),this.b=a,this.a={}}S($t,_);var Zt=[];function te(a,b,t,e){Array.isArray(t)||(t&&(Zt[0]=t.toString()),t=Zt);for(var n=0;n<t.length;n++){var r=Et(b,t[n],e||a.handleEvent,!1,a.b||a);if(!r)break;a.a[r.key]=r}}function ee(a){M(a.a,(function(b,t){this.a.hasOwnProperty(t)&&Ot(b)}),a),a.a={}}function ne(){this.a=!0}function re(a,b,t,e){a.info((function(){return"XMLHTTP TEXT ("+b+"): "+function(a,b){if(!a.a)return b;if(!b)return null;try{var t=JSON.parse(b);if(t)for(a=0;a<t.length;a++)if(Array.isArray(t[a])){var e=t[a];if(!(2>e.length)){var n=e[1];if(Array.isArray(n)&&!(1>n.length)){var r=n[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(var g=1;g<n.length;g++)n[g]=""}}}return Rt(t)}catch(t){return b}}(a,t)+(e?" "+e:"")}))}$t.prototype.G=function(){$t.X.G.call(this),ee(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ne.prototype.info=function(){};var ie={},oe=null;function ae(){return oe=oe||new Pt}function se(a){ct.call(this,ie.Fa,a)}function ue(a){var b=ae();jt(b,new se(b,a))}function ce(a,b){ct.call(this,ie.STAT_EVENT,a),this.stat=b}function le(a){var b=ae();jt(b,new ce(b,a))}function he(a){ct.call(this,ie.Ga,a)}function fe(a,b){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return f.setTimeout((function(){a()}),b)}ie.Fa="serverreachability",S(se,ct),ie.STAT_EVENT="statevent",S(ce,ct),ie.Ga="timingevent",S(he,ct);var de={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},pe={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function me(){}function ve(a){var b;return(b=a.a)||(b=a.a={}),b}function ge(){}me.prototype.a=null;var ye,be={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function we(){ct.call(this,"d")}function Ie(){ct.call(this,"c")}function Ee(){}function Te(a,b,t,e){this.g=a,this.c=b,this.f=t,this.S=e||1,this.J=new $t(this),this.P=Se,a=W?125:void 0,this.R=new Wt(a),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}S(we,ct),S(Ie,ct),S(Ee,me),ye=new Ee;var Se=45e3,_e={},Oe={};function ke(a,b,t){a.H=1,a.i=Xe(Ke(b)),a.j=t,a.I=!0,Ae(a,null)}function Ae(a,b){a.u=q(),xe(a),a.l=Ke(a.i);var t=a.l,e=a.S;Array.isArray(e)||(e=[String(e)]),un(t.b,"t",e),a.D=0,a.a=nr(a.g,a.g.C?b:null),0<a.O&&(a.F=new Jt(p(a.Ca,a,a.a),a.O)),te(a.J,a.a,"readystatechange",a.Xa),b=a.B?F(a.B):{},a.j?(a.m||(a.m="POST"),b["Content-Type"]="application/x-www-form-urlencoded",a.a.ba(a.l,a.m,a.j,b)):(a.m="GET",a.a.ba(a.l,a.m,null,b)),ue(1),function(a,b,t,e,n,r){a.info((function(){if(a.a)if(r)for(var g="",o=r.split("&"),c=0;c<o.length;c++){var u=o[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");g=2<=h.length&&"type"==h[1]?g+(l+"=")+u+"&":g+(l+"=redacted&")}}else g=null;else g=r;return"XMLHTTP REQ ("+e+") [attempt "+n+"]: "+b+"\n"+t+"\n"+g}))}(a.c,a.m,a.l,a.f,a.S,a.j)}function Ce(a,b,t){for(var e=!0;!a.A&&a.D<t.length;){var n=Ne(a,t);if(n==Oe){4==b&&(a.h=4,le(14),e=!1),re(a.c,a.f,null,"[Incomplete Response]");break}if(n==_e){a.h=4,le(15),re(a.c,a.f,t,"[Invalid Chunk]"),e=!1;break}re(a.c,a.f,n,null),Re(a,n)}4==b&&0==t.length&&(a.h=1,le(16),e=!1),a.b=a.b&&e,e?0<t.length&&!a.V&&(a.V=!0,(b=a.g).a==a&&b.U&&!b.F&&(b.c.info("Great, no buffering proxy detected. Bytes received: "+t.length),Wn(b),b.F=!0,le(11))):(re(a.c,a.f,t,"[Invalid Chunked Response]"),Le(a),je(a))}function Ne(a,b){var t=a.D,e=b.indexOf("\n",t);return-1==e?Oe:(t=Number(b.substring(t,e)),isNaN(t)?_e:(e+=1)+t>b.length?Oe:(b=b.substr(e,t),a.D=e+t,b))}function xe(a){a.T=q()+a.P,De(a,a.P)}function De(a,b){if(null!=a.o)throw Error("WatchDog timer not null");a.o=fe(p(a.Va,a),b)}function Pe(a){a.o&&(f.clearTimeout(a.o),a.o=null)}function je(a){0==a.g.v||a.A||Yn(a.g,a)}function Le(a){Pe(a);var b=a.F;b&&"function"==typeof b.ja&&b.ja(),a.F=null,Qt(a.R),ee(a.J),a.a&&(b=a.a,a.a=null,b.abort(),b.ja())}function Re(a,b){try{var t=a.g;if(0!=t.v&&(t.a==a||mn(t.b,a)))if(t.I=a.N,!a.C&&mn(t.b,a)&&3==t.v){try{var e=t.ka.a.parse(b)}catch(t){e=null}if(Array.isArray(e)&&3==e.length){var n=e;if(0==n[0]){t:if(!t.j){if(t.a){if(!(t.a.u+3e3<a.u))break t;Xn(t),Fn(t)}Hn(t),le(18)}}else t.oa=n[1],0<t.oa-t.P&&37500>n[2]&&t.H&&0==t.o&&!t.m&&(t.m=fe(p(t.Sa,t),6e3));if(1>=pn(t.b)&&t.ea){try{t.ea()}catch(t){}t.ea=void 0}}else $n(t,11)}else if((a.C||t.a==a)&&Xn(t),!N(b))for(b=e=t.ka.a.parse(b),e=0;e<b.length;e++)if(n=b[e],t.P=n[0],n=n[1],2==t.v)if("c"==n[0]){t.J=n[1],t.ga=n[2];var r=n[3];null!=r&&(t.ha=r,t.c.info("VER="+t.ha));var g=n[4];null!=g&&(t.pa=g,t.c.info("SVER="+t.pa));var o=n[5];if(null!=o&&"number"==typeof o&&0<o){var c=1.5*o;t.D=c,t.c.info("backChannelRequestTimeoutMs_="+c)}c=t;var u=a.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(P(l,"spdy")||P(l,"quic")||P(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(vn(h,h.b),h.b=null))}if(c.A){var f=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(c.na=f,Qe(c.B,c.A,f))}}t.v=3,t.f&&t.f.ta(),t.U&&(t.N=q()-a.u,t.c.info("Handshake RTT: "+t.N+"ms"));var d=a;if((c=t).la=er(c,c.C?c.ga:null,c.fa),d.C){gn(c.b,d);var m=d,v=c.D;v&&m.setTimeout(v),m.o&&(Pe(m),xe(m)),c.a=d}else zn(c);0<t.g.length&&qn(t)}else"stop"!=n[0]&&"close"!=n[0]||$n(t,7);else 3==t.v&&("stop"==n[0]||"close"==n[0]?"stop"==n[0]?$n(t,7):Mn(t):"noop"!=n[0]&&t.f&&t.f.sa(n),t.o=0);ue(4)}catch(t){}}function Me(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(m(a)||"string"==typeof a)k(a,b,void 0);else{if(a.L&&"function"==typeof a.L)var t=a.L();else if(a.K&&"function"==typeof a.K)t=void 0;else if(m(a)||"string"==typeof a){t=[];for(var e=a.length,n=0;n<e;n++)t.push(n)}else for(n in t=[],e=0,a)t[e++]=n;n=(e=function(a){if(a.K&&"function"==typeof a.K)return a.K();if("string"==typeof a)return a.split("");if(m(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}for(e in b=[],t=0,a)b[t++]=a[e];return b}(a)).length;for(var r=0;r<n;r++)b.call(void 0,e[r],t&&t[r],a)}}function Fe(a,b){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else if(a)if(a instanceof Fe)for(t=a.L(),e=0;e<t.length;e++)this.set(t[e],a.get(t[e]));else for(e in a)this.set(e,a[e])}function Ve(a){if(a.c!=a.a.length){for(var b=0,t=0;b<a.a.length;){var e=a.a[b];Ue(a.b,e)&&(a.a[t++]=e),b++}a.a.length=t}if(a.c!=a.a.length){var n={};for(t=b=0;b<a.a.length;)Ue(n,e=a.a[b])||(a.a[t++]=e,n[e]=1),b++;a.a.length=t}}function Ue(a,b){return Object.prototype.hasOwnProperty.call(a,b)}(c=Te.prototype).setTimeout=function(a){this.P=a},c.Xa=function(a){a=a.target;var b=this.F;b&&3==Pn(a)?b.f():this.Ca(a)},c.Ca=function(a){try{if(a==this.a)t:{var b=Pn(this.a),t=this.a.ua(),e=this.a.W();if(!(3>b||3==b&&!W&&!this.a.$())){this.A||4!=b||7==t||ue(8==t||0>=e?3:2),Pe(this);var n=this.a.W();this.N=n;var r=this.a.$();if(this.b=200==n,function(a,b,t,e,n,r,g){a.info((function(){return"XMLHTTP RESP ("+e+") [ attempt "+n+"]: "+b+"\n"+t+"\n"+r+" "+g}))}(this.c,this.m,this.l,this.f,this.S,b,n),this.b){if(this.U&&!this.C){e:{if(this.a){var g,o=this.a;if((g=o.a?o.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(g)){var c=g;break e}}c=null}if(!c){this.b=!1,this.h=3,le(12),Le(this),je(this);break t}re(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Re(this,c)}this.I?(Ce(this,b,r),W&&this.b&&3==b&&(te(this.J,this.R,"tick",this.Wa),this.R.start())):(re(this.c,this.f,r,null),Re(this,r)),4==b&&Le(this),this.b&&!this.A&&(4==b?Yn(this.g,this):(this.b=!1,xe(this)))}else 400==n&&0<r.indexOf("Unknown SID")?(this.h=3,le(12)):(this.h=0,le(13)),Le(this),je(this)}}}catch(t){}},c.Wa=function(){if(this.a){var a=Pn(this.a),b=this.a.$();this.D<b.length&&(Pe(this),Ce(this,a,b),this.b&&4!=a&&xe(this))}},c.cancel=function(){this.A=!0,Le(this)},c.Va=function(){this.o=null;var a=q();0<=a-this.T?(function(a,b){a.info((function(){return"TIMEOUT: "+b}))}(this.c,this.l),2!=this.H&&(ue(3),le(17)),Le(this),this.h=2,je(this)):De(this,this.T-a)},(c=Fe.prototype).K=function(){Ve(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},c.L=function(){return Ve(this),this.a.concat()},c.get=function(a,b){return Ue(this.b,a)?this.b[a]:b},c.set=function(a,b){Ue(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},c.forEach=function(a,b){for(var t=this.L(),e=0;e<t.length;e++){var n=t[e],r=this.get(n);a.call(b,r,n,this)}};var qe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Be(a,b){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,a instanceof Be){this.a=void 0!==b?b:a.a,Ge(this,a.f),this.j=a.j,ze(this,a.c),He(this,a.h),this.g=a.g,b=a.b;var t=new rn;t.c=b.c,b.a&&(t.a=new Fe(b.a),t.b=b.b),We(this,t),this.i=a.i}else a&&(t=String(a).match(qe))?(this.a=!!b,Ge(this,t[1]||"",!0),this.j=Ye(t[2]||""),ze(this,t[3]||"",!0),He(this,t[4]),this.g=Ye(t[5]||"",!0),We(this,t[6]||"",!0),this.i=Ye(t[7]||"")):(this.a=!!b,this.b=new rn(null,this.a))}function Ke(a){return new Be(a)}function Ge(a,b,t){a.f=t?Ye(b,!0):b,a.f&&(a.f=a.f.replace(/:$/,""))}function ze(a,b,t){a.c=t?Ye(b,!0):b}function He(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.h=b}else a.h=null}function We(a,b,t){b instanceof rn?(a.b=b,function(a,b){b&&!a.f&&(on(a),a.c=null,a.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(an(this,e),un(this,n,t))}),a)),a.f=b}(a.b,a.a)):(t||(b=Je(b,en)),a.b=new rn(b,a.a))}function Qe(a,b,t){a.b.set(b,t)}function Xe(a){return Qe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^q()).toString(36)),a}function Ye(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Je(a,b,t){return"string"==typeof a?(a=encodeURI(a).replace(b,dd),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function dd(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Be.prototype.toString=function(){var a=[],b=this.f;b&&a.push(Je(b,$e,!0),":");var t=this.c;return(t||"file"==b)&&(a.push("//"),(b=this.j)&&a.push(Je(b,$e,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.h)&&a.push(":",String(t))),(t=this.g)&&(this.c&&"/"!=t.charAt(0)&&a.push("/"),a.push(Je(t,"/"==t.charAt(0)?tn:Ze,!0))),(t=this.b.toString())&&a.push("?",t),(t=this.i)&&a.push("#",Je(t,nn)),a.join("")};var $e=/[#\/\?@]/g,Ze=/[#\?:]/g,tn=/[#\?]/g,en=/[#\?@]/g,nn=/#/g;function rn(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function on(a){a.a||(a.a=new Fe,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var r=a[t].substring(0,e);n=a[t].substring(e+1)}else r=a[t];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,(function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)})))}function an(a,b){on(a),b=cn(a,b),Ue(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,Ue((a=a.a).b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Ve(a)))}function sn(a,b){return on(a),b=cn(a,b),Ue(a.a.b,b)}function un(a,b,t){an(a,b),0<t.length&&(a.c=null,a.a.set(cn(a,b),C(t)),a.b+=t.length)}function cn(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}(c=rn.prototype).add=function(a,b){on(this),this.c=null,a=cn(this,a);var t=this.a.get(a);return t||this.a.set(a,t=[]),t.push(b),this.b+=1,this},c.forEach=function(a,b){on(this),this.a.forEach((function(t,e){k(t,(function(t){a.call(b,t,e,this)}),this)}),this)},c.L=function(){on(this);for(var a=this.a.K(),b=this.a.L(),t=[],e=0;e<b.length;e++)for(var n=a[e],r=0;r<n.length;r++)t.push(b[e]);return t},c.K=function(a){on(this);var b=[];if("string"==typeof a)sn(this,a)&&(b=A(b,this.a.get(cn(this,a))));else{a=this.a.K();for(var t=0;t<a.length;t++)b=A(b,a[t])}return b},c.set=function(a,b){return on(this),this.c=null,sn(this,a=cn(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},c.get=function(a,b){return a&&0<(a=this.K(a)).length?String(a[0]):b},c.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.L(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.K(e);for(var r=0;r<e.length;r++){var g=n;""!==e[r]&&(g+="="+encodeURIComponent(String(e[r]))),a.push(g)}}return this.c=a.join("&")};var ln=function(a,b){this.b=a,this.a=b};function hn(a){this.g=a||fn,f.PerformanceNavigationTiming?a=0<(a=f.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):a=!!(f.ia&&f.ia.ya&&f.ia.ya()&&f.ia.ya().Lb),this.f=a?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var fn=10;function dn(a){return!!a.b||!!a.a&&a.a.size>=a.f}function pn(a){return a.b?1:a.a?a.a.size:0}function mn(a,b){return a.b?a.b==b:!!a.a&&a.a.has(b)}function vn(a,b){a.a?a.a.add(b):a.b=b}function gn(a,b){a.b&&a.b==b?a.b=null:a.a&&a.a.has(b)&&a.a.delete(b)}function yn(a){var t,e;if(null!=a.b)return a.c.concat(a.b.s);if(null!=a.a&&0!==a.a.size){var b=a.c;try{for(var n=o(a.a.values()),r=n.next();!r.done;r=n.next()){var c=r.value;b=b.concat(c.s)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return b}return C(a.c)}function bn(){}function wn(){this.a=new bn}function In(a,b,t){var e=t||"";try{Me(a,(function(t,n){var g=t;v(t)&&(g=Rt(t)),b.push(e+n+"="+encodeURIComponent(g))}))}catch(t){throw b.push(e+"type="+encodeURIComponent("_badmap")),t}}function En(a,b,t,e,n){try{b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null,n(e)}catch(t){}}hn.prototype.cancel=function(){var t,e;if(this.c=yn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=o(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},bn.prototype.stringify=function(a){return f.JSON.stringify(a,void 0)},bn.prototype.parse=function(a){return f.JSON.parse(a,void 0)};var Tn=f.JSON.parse;function Sn(a){Pt.call(this),this.headers=new Fe,this.H=a||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=_n,this.D=this.F=!1}S(Sn,Pt);var _n="",On=/^https?$/i,td=["POST","PUT"];function kn(a){return"content-type"==a.toLowerCase()}function An(a,b){a.b=!1,a.a&&(a.g=!0,a.a.abort(),a.g=!1),a.f=b,a.h=5,Cn(a),xn(a)}function Cn(a){a.u||(a.u=!0,jt(a,"complete"),jt(a,"error"))}function Nn(a){if(a.b&&void 0!==h&&(!a.s[1]||4!=Pn(a)||2!=a.W()))if(a.l&&4==Pn(a))Xt(a.za,0,a);else if(jt(a,"readystatechange"),4==Pn(a)){a.b=!1;try{var t,e=a.W();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}if(!(t=b)){var n;if(n=0===e){var r=String(a.B).match(qe)[1]||null;if(!r&&f.self&&f.self.location){var o=f.self.location.protocol;r=o.substr(0,o.length-1)}n=!On.test(r?r.toLowerCase():"")}t=n}if(t)jt(a,"complete"),jt(a,"success");else{a.h=6;try{var c=2<Pn(a)?a.a.statusText:""}catch(e){c=""}a.f=c+" ["+a.W()+"]",Cn(a)}}finally{xn(a)}}}function xn(a,b){if(a.a){Dn(a);var t=a.a,e=a.s[0]?d:null;a.a=null,a.s=null,b||jt(a,"ready");try{t.onreadystatechange=e}catch(t){}}}function Dn(a){a.a&&a.D&&(a.a.ontimeout=null),a.m&&(f.clearTimeout(a.m),a.m=null)}function Pn(a){return a.a?a.a.readyState:0}function jn(a,b,t){t:{for(e in t){var e=!1;break t}e=!0}e||(t=function(a){var b="";return M(a,(function(t,e){b+=e,b+=":",b+=t,b+="\r\n"})),b}(t),"string"==typeof a?null!=t&&encodeURIComponent(String(t)):Qe(a,b,t))}function Ln(a,b,t){return t&&t.internalChannelParams&&t.internalChannelParams[a]||b}function Rn(a){this.pa=0,this.g=[],this.c=new ne,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ln("failFast",!1,a),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ln("baseRetryDelayMs",5e3,a),this.Ra=Ln("retryDelaySeedMs",1e4,a),this.Ma=Ln("forwardChannelMaxRetries",2,a),this.ma=Ln("forwardChannelRequestTimeoutMs",2e4,a),this.Na=a&&a.g||void 0,this.D=void 0,this.C=a&&a.supportsCrossDomainXhr||!1,this.J="",this.b=new hn(a&&a.concurrentRequestLimit),this.ka=new wn,this.da=a&&a.fastHandshake||!1,this.Ia=a&&a.b||!1,a&&a.f&&(this.c.a=!1),a&&a.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&a&&a.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=a&&a.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Mn(a){if(Vn(a),3==a.v){var b=a.R++,t=Ke(a.B);Qe(t,"SID",a.J),Qe(t,"RID",b),Qe(t,"TYPE","terminate"),Kn(a,t),(b=new Te(a,a.c,b,void 0)).H=2,b.i=Xe(Ke(t)),t=!1,f.navigator&&f.navigator.sendBeacon&&(t=f.navigator.sendBeacon(b.i.toString(),"")),!t&&f.Image&&((new Image).src=b.i,t=!0),t||(b.a=nr(b.g,null),b.a.ba(b.i)),b.u=q(),xe(b)}Zn(a)}function Fn(a){a.a&&(Wn(a),a.a.cancel(),a.a=null)}function Vn(a){Fn(a),a.j&&(f.clearTimeout(a.j),a.j=null),Xn(a),a.b.cancel(),a.h&&("number"==typeof a.h&&f.clearTimeout(a.h),a.h=null)}function Un(a,b){a.g.push(new ln(a.Oa++,b)),3==a.v&&qn(a)}function qn(a){dn(a.b)||a.h||(a.h=!0,Kt(a.Ba,a),a.u=0)}function Bn(a,b){var t;t=b?b.f:a.R++;var e=Ke(a.B);Qe(e,"SID",a.J),Qe(e,"RID",t),Qe(e,"AID",a.P),Kn(a,e),a.i&&a.l&&jn(e,a.i,a.l),t=new Te(a,a.c,t,a.u+1),null===a.i&&(t.B=a.l),b&&(a.g=b.s.concat(a.g)),b=Gn(a,t,1e3),t.setTimeout(Math.round(.5*a.ma)+Math.round(.5*a.ma*Math.random())),vn(a.b,t),ke(t,e,b)}function Kn(a,b){a.f&&Me({},(function(t,e){Qe(b,e,t)}))}function Gn(a,b,t){t=Math.min(a.g.length,t);var e=a.f?p(a.f.Ja,a.f,a):null;t:for(var n=a.g,r=-1;;){var g=["count="+t];-1==r?0<t?(r=n[0].b,g.push("ofs="+r)):r=0:g.push("ofs="+r);for(var o=!0,c=0;c<t;c++){var u=n[c].b,l=n[c].a;if(0>(u-=r))r=Math.max(0,n[c].b-100),o=!1;else try{In(l,g,"req"+u+"_")}catch(t){e&&e(l)}}if(o){e=g.join("&");break t}}return a=a.g.splice(0,t),b.s=a,e}function zn(a){a.a||a.j||(a.T=1,Kt(a.Aa,a),a.o=0)}function Hn(a){return!(a.a||a.j||3<=a.o)&&(a.T++,a.j=fe(p(a.Aa,a),Jn(a,a.o)),a.o++,!0)}function Wn(a){null!=a.s&&(f.clearTimeout(a.s),a.s=null)}function Qn(a){a.a=new Te(a,a.c,"rpc",a.T),null===a.i&&(a.a.B=a.l),a.a.O=0;var b=Ke(a.la);Qe(b,"RID","rpc"),Qe(b,"SID",a.J),Qe(b,"CI",a.H?"0":"1"),Qe(b,"AID",a.P),Kn(a,b),Qe(b,"TYPE","xmlhttp"),a.i&&a.l&&jn(b,a.i,a.l),a.D&&a.a.setTimeout(a.D);var t=a.a;a=a.ga,t.H=1,t.i=Xe(Ke(b)),t.j=null,t.I=!0,Ae(t,a)}function Xn(a){null!=a.m&&(f.clearTimeout(a.m),a.m=null)}function Yn(a,b){var t=null;if(a.a==b){Xn(a),Wn(a),a.a=null;var e=2}else{if(!mn(a.b,b))return;t=b.s,gn(a.b,b),e=1}if(a.I=b.N,0!=a.v)if(b.b)if(1==e){t=b.j?b.j.length:0,b=q()-b.u;var n=a.u;jt(e=ae(),new he(e,t,b,n)),qn(a)}else zn(a);else if(3==(n=b.h)||0==n&&0<a.I||!(1==e&&function(a,b){return!(pn(a.b)>=a.b.f-(a.h?1:0)||(a.h?(a.g=b.s.concat(a.g),0):1==a.v||2==a.v||a.u>=(a.La?0:a.Ma)||(a.h=fe(p(a.Ba,a,b),Jn(a,a.u)),a.u++,0)))}(a,b)||2==e&&Hn(a)))switch(t&&0<t.length&&(b=a.b,b.c=b.c.concat(t)),n){case 1:$n(a,5);break;case 4:$n(a,10);break;case 3:$n(a,6);break;default:$n(a,2)}}function Jn(a,b){var t=a.Ha+Math.floor(Math.random()*a.Ra);return a.f||(t*=2),t*b}function $n(a,b){if(a.c.info("Error code "+b),2==b){var t=null;a.f&&(t=null);var e=p(a.Ya,a);t||(t=new Be("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||Ge(t,"https"),Xe(t)),function(a,b){var t=new ne;if(f.Image){var e=new Image;e.onload=T(En,t,e,"TestLoadImage: loaded",!0,b),e.onerror=T(En,t,e,"TestLoadImage: error",!1,b),e.onabort=T(En,t,e,"TestLoadImage: abort",!1,b),e.ontimeout=T(En,t,e,"TestLoadImage: timeout",!1,b),f.setTimeout((function(){e.ontimeout&&e.ontimeout()}),1e4),e.src=a}else b(!1)}(t.toString(),e)}else le(2);a.v=0,a.f&&a.f.ra(b),Zn(a),Vn(a)}function Zn(a){a.v=0,a.I=-1,a.f&&(0==yn(a.b).length&&0==a.g.length||(a.b.c.length=0,C(a.g),a.g.length=0),a.f.qa())}function er(a,b,t){var e=function(a){return a instanceof Be?Ke(a):new Be(a,void 0)}(t);if(""!=e.c)b&&ze(e,b+"."+e.c),He(e,e.h);else{var n=f.location;e=function(a,b,t,e){var n=new Be(null,void 0);return a&&Ge(n,a),b&&ze(n,b),t&&He(n,t),e&&(n.g=e),n}(n.protocol,b?b+"."+n.hostname:n.hostname,+n.port,t)}return a.V&&M(a.V,(function(t,g){Qe(e,g,t)})),b=a.A,t=a.na,b&&t&&Qe(e,b,t),Qe(e,"VER",a.ha),Kn(a,e),e}function nr(a,b){if(b&&!a.C)throw Error("Can't create secondary domain capable XhrIo object.");return(b=new Sn(a.Na)).F=a.C,b}function rr(){}function ir(){if(z&&!(10<=Number(ot)))throw Error("Environmental error: no available transport.")}function or(a,b){Pt.call(this),this.a=new Rn(b),this.o=a,this.b=b&&b.messageUrlParams||null,a=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.a.l=a,a=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(a?a["X-WebChannel-Content-Type"]=b.messageContentType:a={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.a&&(a?a["X-WebChannel-Client-Profile"]=b.a:a={"X-WebChannel-Client-Profile":b.a}),this.a.O=a,(a=b&&b.httpHeadersOverwriteParam)&&!N(a)&&(this.a.i=a),this.m=b&&b.supportsCrossDomainXhr||!1,this.l=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.a.A=b,null!==(a=this.b)&&b in a&&(b in(a=this.b)&&delete a[b])),this.f=new ur(this)}function ar(a){we.call(this);var b=a.__sm__;if(b){t:{for(var t in b){a=t;break t}a=void 0}(this.c=a)?(a=this.c,this.data=null!==b&&a in b?b[a]:void 0):this.data=b}else this.data=a}function sr(){Ie.call(this),this.status=1}function ur(a){this.a=a}(c=Sn.prototype).ba=function(a,b,t,e){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+a);b=b?b.toUpperCase():"GET",this.B=a,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ve(this.H):ve(ye),this.a.onreadystatechange=p(this.za,this);try{this.A=!0,this.a.open(b,String(a),!0),this.A=!1}catch(t){return void An(this,t)}a=t||"";var n=new Fe(this.headers);e&&Me(e,(function(t,g){n.set(g,t)})),e=function(a){t:{for(var b=kn,t=a.length,e="string"==typeof a?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a)){b=n;break t}b=-1}return 0>b?null:"string"==typeof a?a.charAt(b):a[b]}(n.L()),t=f.FormData&&a instanceof f.FormData,!(0<=O(td,b))||e||t||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n.forEach((function(t,g){this.a.setRequestHeader(g,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Dn(this),0<this.o&&((this.D=function(a){return z&&nt(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=p(this.xa,this)):this.m=Xt(this.xa,this.o,this)),this.l=!0,this.a.send(a),this.l=!1}catch(t){An(this,t)}},c.xa=function(){void 0!==h&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,jt(this,"timeout"),this.abort(8))},c.abort=function(a){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=a||7,jt(this,"complete"),jt(this,"abort"),xn(this))},c.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),xn(this,!0)),Sn.X.G.call(this)},c.za=function(){this.j||(this.A||this.l||this.g?Nn(this):this.Ua())},c.Ua=function(){Nn(this)},c.W=function(){try{return 2<Pn(this)?this.a.status:-1}catch(t){return-1}},c.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},c.Pa=function(a){if(this.a){var b=this.a.responseText;return a&&0==b.indexOf(a)&&(b=b.substring(a.length)),Tn(b)}},c.ua=function(){return this.h},c.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(c=Rn.prototype).ha=8,c.v=1,c.Ba=function(a){if(this.h)if(this.h=null,1==this.v){if(!a){this.R=Math.floor(1e5*Math.random()),a=this.R++;var t,b=new Te(this,this.c,a,void 0),e=this.l;if(this.O&&(e?U(e=F(e),this.O):e=this.O),null===this.i&&(b.B=e),this.da)t:{for(var n=t=0;n<this.g.length;n++){var r=this.g[n];if(void 0===(r="__data__"in r.a&&"string"==typeof(r=r.a.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break t}if(4096===t||n===this.g.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=Gn(this,b,t),Qe(n=Ke(this.B),"RID",a),Qe(n,"CVER",22),this.A&&Qe(n,"X-HTTP-Session-Id",this.A),Kn(this,n),this.i&&e&&jn(n,this.i,e),vn(this.b,b),this.Ia&&Qe(n,"TYPE","init"),this.da?(Qe(n,"$req",t),Qe(n,"SID","null"),b.U=!0,ke(b,n,null)):ke(b,n,t),this.v=2}}else 3==this.v&&(a?Bn(this,a):0==this.g.length||dn(this.b)||Bn(this))},c.Aa=function(){if(this.j=null,Qn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var a=2*this.N;this.c.info("BP detection timer enabled: "+a),this.s=fe(p(this.Ta,this),a)}},c.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,le(10),Fn(this),Qn(this))},c.Sa=function(){null!=this.m&&(this.m=null,Fn(this),Hn(this),le(19))},c.Ya=function(a){a?(this.c.info("Successfully pinged google.com"),le(2)):(this.c.info("Failed to ping google.com"),le(1))},(c=rr.prototype).ta=function(){},c.sa=function(){},c.ra=function(){},c.qa=function(){},c.Ja=function(){},ir.prototype.a=function(a,b){return new or(a,b)},S(or,Pt),or.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var a=this.a,b=this.o,t=this.b||void 0;le(0),a.fa=b,a.V=t||{},a.H=a.S,a.B=er(a,null,a.fa),qn(a)},or.prototype.close=function(){Mn(this.a)},or.prototype.h=function(a){if("string"==typeof a){var b={};b.__data__=a,Un(this.a,b)}else this.l?((b={}).__data__=Rt(a),Un(this.a,b)):Un(this.a,a)},or.prototype.G=function(){this.a.f=null,delete this.f,Mn(this.a),delete this.a,or.X.G.call(this)},S(ar,we),S(sr,Ie),S(ur,rr),ur.prototype.ta=function(){jt(this.a,"a")},ur.prototype.sa=function(a){jt(this.a,new ar(a))},ur.prototype.ra=function(a){jt(this.a,new sr(a))},ur.prototype.qa=function(){jt(this.a,"b")},ir.prototype.createWebChannel=ir.prototype.a,or.prototype.send=or.prototype.h,or.prototype.open=or.prototype.g,or.prototype.close=or.prototype.close,de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,pe.COMPLETE="complete",ge.EventType=be,be.OPEN="a",be.CLOSE="b",be.ERROR="c",be.MESSAGE="d",Pt.prototype.listen=Pt.prototype.va,Sn.prototype.listenOnce=Sn.prototype.wa,Sn.prototype.getLastError=Sn.prototype.Qa,Sn.prototype.getLastErrorCode=Sn.prototype.ua,Sn.prototype.getStatus=Sn.prototype.W,Sn.prototype.getResponseJson=Sn.prototype.Pa,Sn.prototype.getResponseText=Sn.prototype.$,Sn.prototype.send=Sn.prototype.ba;var cr=function(){return new ir},lr=function(){return ae()},fr=de,dr=pe,pr=ie,mr={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},vr=ge,gr=Sn}).call(this,n(29))},16:function(t,e,n){"use strict";function r(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}var o;n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return w}));var c,l=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(c||(c={}));var h={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},f=c.INFO,d=((o={})[c.DEBUG]="log",o[c.VERBOSE]="log",o[c.INFO]="info",o[c.WARN]="warn",o[c.ERROR]="error",o),m=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(e<t.logLevel)){var c=(new Date).toISOString(),l=d[e];if(!l)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[l].apply(console,r(["["+c+"]  "+t.name+":"],n))}},v=function(){function t(t){this.name=t,this._logLevel=f,this._logHandler=m,this._userLogHandler=null,l.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in c))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?h[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.DEBUG],t)),this._logHandler.apply(this,r([this,c.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.VERBOSE],t)),this._logHandler.apply(this,r([this,c.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.INFO],t)),this._logHandler.apply(this,r([this,c.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.WARN],t)),this._logHandler.apply(this,r([this,c.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,c.ERROR],t)),this._logHandler.apply(this,r([this,c.ERROR],t))},t}();function y(t){l.forEach((function(e){e.setLogLevel(t)}))}function w(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=h[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var o=[],l=2;l<arguments.length;l++)o[l-2]=arguments[l];var h=o.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:c[n].toLowerCase(),message:h,args:o,type:e.name})}},r=0,o=l;r<o.length;r++){n(o[r])}}},161:function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},165:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{f(r.next(t))}catch(t){c(t)}}function h(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,h)}f((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}};Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e,n){this.siteKey=t,this.recaptchaID=e,this.recaptcha=n,this.styleContainer=null}return t.prototype.execute=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,this.recaptcha.execute(this.recaptchaID,{action:t})]}))}))},t.prototype.getSiteKey=function(){return this.siteKey},t.prototype.hideBadge=function(){null===this.styleContainer&&(this.styleContainer=document.createElement("style"),this.styleContainer.innerHTML=".grecaptcha-badge{display:none !important;}",document.head.appendChild(this.styleContainer))},t.prototype.showBadge=function(){null!==this.styleContainer&&(document.head.removeChild(this.styleContainer),this.styleContainer=null)},t}();e.ReCaptchaInstance=c},166:function(t,e,n){"use strict";e.a=function(t,e){return e=e||{},new Promise((function(n,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(t){return i[t.toLowerCase()]},has:function(t){return t.toLowerCase()in i}}}};for(var c in s.open(e.method||"get",t,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),u.push([e,n]),i[e]=i[e]?i[e]+","+n:n})),n(a())},s.onerror=r,s.withCredentials="include"==e.credentials,e.headers)s.setRequestHeader(c,e.headers[c]);s.send(e.body||null)}))}},168:function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function c(t,e){return!1!==e.clone&&e.isMergeableObject(t)?m((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function l(t,source,e){return t.concat(source).map((function(element){return c(element,e)}))}function h(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(symbol){return t.propertyIsEnumerable(symbol)})):[]}(t))}function f(object,t){try{return t in object}catch(t){return!1}}function d(t,source,e){var n={};return e.isMergeableObject(t)&&h(t).forEach((function(r){n[r]=c(t[r],e)})),h(source).forEach((function(r){(function(t,e){return f(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,r)||(f(t,r)&&e.isMergeableObject(source[r])?n[r]=function(t,e){if(!e.customMerge)return m;var n=e.customMerge(t);return"function"==typeof n?n:m}(r,e)(t[r],source[r],e):n[r]=c(source[r],e))})),n}function m(t,source,e){(e=e||{}).arrayMerge=e.arrayMerge||l,e.isMergeableObject=e.isMergeableObject||r,e.cloneUnlessOtherwiseSpecified=c;var n=Array.isArray(source);return n===Array.isArray(t)?n?e.arrayMerge(t,source,e):d(t,source,e):c(source,e)}m.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return m(t,n,e)}),{})};var v=m;t.exports=v},169:function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function i(t,e,n){return(i=o()?Reflect.construct:function(t,e,n){var o=[null];return o.push.apply(o,e),o=new(Function.bind.apply(t,o)),n&&r(o,n.prototype),o}).apply(null,arguments)}function p(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){if(t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t}(t,e))return(e=Object.getOwnPropertyDescriptor(t,e)).get?e.get.call(r):e.value})(t,e,r||t)}function l(t){return t.charAt(0).toUpperCase()+t.slice(1)}function h(t){return Object.keys(t).map((function(e){return t[e]}))}function g(t){return Array.prototype.slice.call(t)}function f(t,e){e='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'),-1===W.indexOf(e)&&(W.push(e),z(e))}function b(t){return t&&"function"==typeof t.toPromise}function d(t){return b(t)?t.toPromise():Promise.resolve(t)}function m(t){return t&&Promise.resolve(t)===t}function v(e){return e instanceof Element||"object"===t(e=e)&&e.jquery}function y(){return document.body.querySelector(".".concat(Y.container))}function w(t){var e=y();return e?e.querySelector(t):null}function I(t){return w(".".concat(t))}function E(){return I(Y.popup)}function T(){return I(Y.icon)}function S(){return I(Y.title)}function _(){return I(Y.content)}function O(){return I(Y["html-container"])}function k(){return I(Y.image)}function A(){return I(Y["progress-steps"])}function C(){return I(Y["validation-message"])}function N(){return w(".".concat(Y.actions," .").concat(Y.confirm))}function x(){return w(".".concat(Y.actions," .").concat(Y.deny))}function D(){return w(".".concat(Y.loader))}function q(){return w(".".concat(Y.actions," .").concat(Y.cancel))}function P(){return I(Y.actions)}function j(){return I(Y.header)}function L(){return I(Y.footer)}function R(){return I(Y["timer-progress-bar"])}function M(){return I(Y.close)}function F(){var t=g(E().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(t,e){return t=parseInt(t.getAttribute("tabindex")),(e=parseInt(e.getAttribute("tabindex")))<t?1:t<e?-1:0})),e=g(E().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(t){return"-1"!==t.getAttribute("tabindex")}));return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e)).filter((function(t){return bt(t)}))}function V(){return!$()&&!document.body.classList.contains(Y["no-backdrop"])}function U(t,e){t.textContent="",e&&(g((e=(new DOMParser).parseFromString(e,"text/html")).querySelector("head").childNodes).forEach((function(e){t.appendChild(e)})),g(e.querySelector("body").childNodes).forEach((function(e){t.appendChild(e)})))}function B(t,e){if(e){for(var n=e.split(/\s+/),r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return;return 1}}function K(e,n,r){var o,i;if(i=n,g((o=e).classList).forEach((function(t){-1===h(Y).indexOf(t)&&-1===h(J).indexOf(t)&&-1===h(i.showClass).indexOf(t)&&o.classList.remove(t)})),n.customClass&&n.customClass[r]){if("string"!=typeof n.customClass[r]&&!n.customClass[r].forEach)return z("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(t(n.customClass[r]),'"'));vt(e,n.customClass[r])}}var G="SweetAlert2:",z=function(e){console.warn("".concat(G," ").concat("object"===t(e)?e.join(" "):e))},H=function(t){console.error("".concat(G," ").concat(t))},W=[],Q=function(t){return"function"==typeof t?t():t},X=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Y=(Pn=function(t){var e,n={};for(e in t)n[t[e]]="swal2-"+t[e];return n})(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),J=Pn(["success","warning","info","question","error"]),$=function(){return document.body.classList.contains(Y["toast-shown"])},Z={previousBodyPadding:null};function tt(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return yt(t,Y[e]);case"checkbox":return t.querySelector(".".concat(Y.checkbox," input"));case"radio":return t.querySelector(".".concat(Y.radio," input:checked"))||t.querySelector(".".concat(Y.radio," input:first-child"));case"range":return t.querySelector(".".concat(Y.range," input"));default:return yt(t,Y.input)}}function et(t){var e;t.focus(),"file"!==t.type&&(e=t.value,t.value="",t.value=e)}function nt(t,e,n){t&&e&&(e="string"==typeof e?e.split(/\s+/).filter(Boolean):e).forEach((function(e){t.forEach?t.forEach((function(t){n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)}))}function it(t,e,n){(n=n==="".concat(parseInt(n))?parseInt(n):n)||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)}function rt(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"flex";t.style.display=e}function ot(t){t.style.display="none"}function at(t,e,n,r){(e=t.querySelector(e))&&(e.style[n]=r)}function st(t,e,n){e?rt(t,n):ot(t)}function ut(t){return!!(t.scrollHeight>t.clientHeight)}function ct(t){var e=window.getComputedStyle(t);return t=parseFloat(e.getPropertyValue("animation-duration")||"0"),e=parseFloat(e.getPropertyValue("transition-duration")||"0"),0<t||0<e}function dt(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=R();bt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"}),10))}function lt(){return"undefined"==typeof window||"undefined"==typeof document}function ht(t){Ln.isVisible()&&mt!==t.target.value&&Ln.resetValidationMessage(),mt=t.target.value}function ft(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?Et(e,n):e&&U(n,e)}function pt(t,e){var n=P(),r=D(),i=N(),o=x(),a=q();e.showConfirmButton||e.showDenyButton||e.showCancelButton||ot(n),K(n,e,"actions"),_t(i,"confirm",e),_t(o,"deny",e),_t(a,"cancel",e),function(t,e,n,r){if(!r.buttonsStyling)return gt([t,e,n],Y.styled);vt([t,e,n],Y.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor)}(i,o,a,e),e.reverseButtons&&(n.insertBefore(a,r),n.insertBefore(o,r),n.insertBefore(i,r)),U(r,e.loaderHtml),K(r,e,"loader")}var mt,vt=function(t,e){nt(t,e,!0)},gt=function(t,e){nt(t,e,!1)},yt=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(B(t.childNodes[n],e))return t.childNodes[n]},bt=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},wt='\n <div aria-labelledby="'.concat(Y.title,'" aria-describedby="').concat(Y.content,'" class="').concat(Y.popup,'" tabindex="-1">\n   <div class="').concat(Y.header,'">\n     <ul class="').concat(Y["progress-steps"],'"></ul>\n     <div class="').concat(Y.icon,'"></div>\n     <img class="').concat(Y.image,'" />\n     <h2 class="').concat(Y.title,'" id="').concat(Y.title,'"></h2>\n     <button type="button" class="').concat(Y.close,'"></button>\n   </div>\n   <div class="').concat(Y.content,'">\n     <div id="').concat(Y.content,'" class="').concat(Y["html-container"],'"></div>\n     <input class="').concat(Y.input,'" />\n     <input type="file" class="').concat(Y.file,'" />\n     <div class="').concat(Y.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(Y.select,'"></select>\n     <div class="').concat(Y.radio,'"></div>\n     <label for="').concat(Y.checkbox,'" class="').concat(Y.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(Y.label,'"></span>\n     </label>\n     <textarea class="').concat(Y.textarea,'"></textarea>\n     <div class="').concat(Y["validation-message"],'" id="').concat(Y["validation-message"],'"></div>\n   </div>\n   <div class="').concat(Y.actions,'">\n     <div class="').concat(Y.loader,'"></div>\n     <button type="button" class="').concat(Y.confirm,'"></button>\n     <button type="button" class="').concat(Y.deny,'"></button>\n     <button type="button" class="').concat(Y.cancel,'"></button>\n   </div>\n   <div class="').concat(Y.footer,'"></div>\n   <div class="').concat(Y["timer-progress-bar-container"],'">\n     <div class="').concat(Y["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),It=function(t){var e,n,r,i,o,a=!!(i=y())&&(i.parentNode.removeChild(i),gt([document.documentElement,document.body],[Y["no-backdrop"],Y["toast-shown"],Y["has-column"]]),!0);lt()?H("SweetAlert2 requires document to initialize"):((o=document.createElement("div")).className=Y.container,a&&vt(o,Y["no-transition"]),U(o,wt),(i="string"==typeof(e=t.target)?document.querySelector(e):e).appendChild(o),a=t,(e=E()).setAttribute("role",a.toast?"alert":"dialog"),e.setAttribute("aria-live",a.toast?"polite":"assertive"),a.toast||e.setAttribute("aria-modal","true"),o=i,"rtl"===window.getComputedStyle(o).direction&&vt(y(),Y.rtl),t=_(),a=yt(t,Y.input),e=yt(t,Y.file),n=t.querySelector(".".concat(Y.range," input")),r=t.querySelector(".".concat(Y.range," output")),i=yt(t,Y.select),o=t.querySelector(".".concat(Y.checkbox," input")),t=yt(t,Y.textarea),a.oninput=ht,e.onchange=ht,i.onchange=ht,o.onchange=ht,t.oninput=ht,n.oninput=function(t){ht(t),r.value=n.value},n.onchange=function(t){ht(t),n.nextSibling.value=n.value})},Et=function(t,e){t.jquery?Tt(e,t):U(e,t.toString())},Tt=function(t,e){if(t.textContent="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},St=function(){if(lt())return!1;var t,e=document.createElement("div"),n={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&void 0!==e.style[t])return n[t];return!1}();function _t(t,e,n){st(t,n["show".concat(l(e),"Button")],"inline-block"),U(t,n["".concat(e,"ButtonText")]),t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]),t.className=Y[e],K(t,n,"".concat(e,"Button")),vt(t,n["".concat(e,"ButtonClass")])}function Ot(t,e){var n,r,i=y();i&&(r=i,"string"==typeof(n=e.backdrop)?r.style.background=n:n||vt([document.documentElement,document.body],Y["no-backdrop"]),!e.backdrop&&e.allowOutsideClick&&z('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),r=i,(n=e.position)in Y?vt(r,Y[n]):(z('The "position" parameter is not valid, defaulting to "center"'),vt(r,Y.center)),n=i,!(r=e.grow)||"string"!=typeof r||(r="grow-".concat(r))in Y&&vt(n,Y[r]),K(i,e,"container"),(e=document.body.getAttribute("data-swal2-queue-step"))&&(i.setAttribute("data-queue-step",e),document.body.removeAttribute("data-swal2-queue-step")))}function kt(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)}function At(t,e,n){var r,i;n.inputLabel&&(t.id=Y.input,r=document.createElement("label"),i=Y["input-label"],r.setAttribute("for",t.id),r.className=i,vt(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r))}var Ct={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},Nt=["input","file","range","select","radio","checkbox","textarea"],xt=function(t){if(!Lt[t.input])return H('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=jt(t.input),n=Lt[t.input](e,t);rt(n),setTimeout((function(){et(n)}))},Dt=function(t,e){var n=tt(_(),t);if(n)for(var r in function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}}(n),e)"range"===t&&"placeholder"===r||n.setAttribute(r,e[r])},Pt=function(t){var e=jt(t.input);t.customClass&&vt(e,t.customClass.input)},jt=function(t){return t=Y[t]||Y.input,yt(_(),t)},Lt={};function Rt(t,e){var n,i,r,o=O();K(o,e,"htmlContainer"),e.html?(ft(e.html,o),rt(o,"block")):e.text?(o.textContent=e.text,rt(o,"block")):ot(o),t=t,n=e,i=_(),t=Ct.innerParams.get(t),r=!t||n.input!==t.input,Nt.forEach((function(t){var e=Y[t],o=yt(i,e);Dt(t,n.inputAttributes),o.className=e,r&&ot(o)})),n.input&&(r&&xt(n),Pt(n)),K(_(),e,"content")}function Mt(){return y()&&y().getAttribute("data-queue-step")}function Ft(t,e){var i=A();if(!e.progressSteps||0===e.progressSteps.length)return ot(i),0;rt(i),i.textContent="";var n=parseInt(void 0===e.currentProgressStep?Mt():e.currentProgressStep);n>=e.progressSteps.length&&z("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((function(t,r){var o;o=t,t=document.createElement("li"),vt(t,Y["progress-step"]),U(t,o),t=t,i.appendChild(t),r===n&&vt(t,Y["active-progress-step"]),r!==e.progressSteps.length-1&&(t=e,r=document.createElement("li"),vt(r,Y["progress-step-line"]),t.progressStepsDistance&&(r.style.width=t.progressStepsDistance),r=r,i.appendChild(r))}))}function Vt(t,e){var n,r=j();K(r,e,"header"),Ft(0,e),n=t,r=e,t=Ct.innerParams.get(n),n=T(),t&&r.icon===t.icon?(Gt(n,r),Bt(n,r)):r.icon||r.iconHtml?r.icon&&-1===Object.keys(J).indexOf(r.icon)?(H('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(r.icon,'"')),ot(n)):(rt(n),Gt(n,r),Bt(n,r),vt(n,r.showClass.icon)):ot(n),function(t){var e=k();if(!t.imageUrl)return ot(e);rt(e,""),e.setAttribute("src",t.imageUrl),e.setAttribute("alt",t.imageAlt),it(e,"width",t.imageWidth),it(e,"height",t.imageHeight),e.className=Y.image,K(e,t,"image")}(e),r=e,st(n=S(),r.title||r.titleText),r.title&&ft(r.title,n),r.titleText&&(n.innerText=r.titleText),K(n,r,"title"),r=e,U(e=M(),r.closeButtonHtml),K(e,r,"closeButton"),st(e,r.showCloseButton),e.setAttribute("aria-label",r.closeButtonAriaLabel)}function Ut(t,e){var n,r,i;i=e,n=y(),r=E(),i.toast?(it(n,"width",i.width),r.style.width="100%"):it(r,"width",i.width),it(r,"padding",i.padding),i.background&&(r.style.background=i.background),ot(C()),Qt(r,i),Ot(0,e),Vt(t,e),Rt(t,e),pt(0,e),i=e,st(t=L(),i.footer),i.footer&&ft(i.footer,t),K(t,i,"footer"),"function"==typeof e.didRender?e.didRender(E()):"function"==typeof e.onRender&&e.onRender(E())}function qt(){return N()&&N().click()}Lt.text=Lt.email=Lt.password=Lt.number=Lt.tel=Lt.url=function(e,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?e.value=n.inputValue:m(n.inputValue)||z('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(n.inputValue),'"')),At(e,e,n),kt(e,n),e.type=n.input,e},Lt.file=function(t,e){return At(t,t,e),kt(t,e),t},Lt.range=function(t,e){var n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,At(n,t,e),t},Lt.select=function(t,e){var n;return t.textContent="",e.inputPlaceholder&&(U(n=document.createElement("option"),e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)),At(t,t,e),t},Lt.radio=function(t){return t.textContent="",t},Lt.checkbox=function(t,e){var n=tt(_(),"checkbox");return n.value=1,n.id=Y.checkbox,n.checked=Boolean(e.inputValue),U(n=t.querySelector("span"),e.inputPlaceholder),t},Lt.textarea=function(t,e){function n(t){return parseInt(window.getComputedStyle(t).paddingLeft)+parseInt(window.getComputedStyle(t).paddingRight)}var r;return t.value=e.inputValue,kt(t,e),At(t,t,e),"MutationObserver"in window&&(r=parseInt(window.getComputedStyle(E()).width),new MutationObserver((function(){var e=t.offsetWidth+n(E())+n(_());E().style.width=r<e?"".concat(e,"px"):null})).observe(t,{attributes:!0,attributeFilter:["style"]})),t};var Bt=function(t,e){for(var n in J)e.icon!==n&&gt(t,J[n]);vt(t,J[e.icon]),zt(t,e),Kt(),K(t,e,"icon")},Kt=function(){for(var t=E(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=e},Gt=function(t,e){t.textContent="",e.iconHtml?U(t,Ht(e.iconHtml)):"success"===e.icon?U(t,'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    '):"error"===e.icon?U(t,'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    '):U(t,Ht({question:"?",warning:"!",info:"i"}[e.icon]))},zt=function(t,e){if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++)at(t,r[n],"backgroundColor",e.iconColor);at(t,".swal2-success-ring","borderColor",e.iconColor)}},Ht=function(t){return'<div class="'.concat(Y["icon-content"],'">').concat(t,"</div>")},Wt=[],Qt=function(t,e){t.className="".concat(Y.popup," ").concat(bt(t)?e.showClass.popup:""),e.toast?(vt([document.documentElement,document.body],Y["toast-shown"]),vt(t,Y.toast)):vt(t,Y.modal),K(t,e,"popup"),"string"==typeof e.customClass&&vt(t,e.customClass),e.icon&&vt(t,Y["icon-".concat(e.icon)])};function Xt(t){(e=E())||Ln.fire();var e=E(),n=P(),r=D();!t&&bt(N())&&(t=N()),rt(n),t&&(ot(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),vt([e,n],Y.loading),rt(r),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()}function Yt(){return new Promise((function(t){var e=window.scrollX,n=window.scrollY;Zt.restoreFocusTimeout=setTimeout((function(){Zt.previousActiveElement&&Zt.previousActiveElement.focus?(Zt.previousActiveElement.focus(),Zt.previousActiveElement=null):document.body&&document.body.focus(),t()}),100),void 0!==e&&void 0!==n&&window.scrollTo(e,n)}))}function Jt(){if(Zt.timeout)return function(){var t=R(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width);n=parseInt(e/n*100),t.style.removeProperty("transition"),t.style.width="".concat(n,"%")}(),Zt.timeout.stop()}function $t(){if(Zt.timeout){var t=Zt.timeout.start();return dt(t),t}}var Zt={},te=!1,ee={};function ne(t){for(var e=t.target;e&&e!==document;e=e.parentNode)for(var n in ee){var r=e.getAttribute(n);if(r)return void ee[n].fire({template:r})}}function re(t){return Object.prototype.hasOwnProperty.call(ae,t)}function ie(t){return ue[t]}function oe(t){for(var e in t)re(n=e)||z('Unknown parameter "'.concat(n,'"')),t.toast&&(n=e,-1!==ce.indexOf(n)&&z('The parameter "'.concat(n,'" is incompatible with toasts'))),ie(e=e)&&f(e,ie(e));var n}var ae={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,willOpen:void 0,didOpen:void 0,onRender:void 0,didRender:void 0,onClose:void 0,onAfterClose:void 0,willClose:void 0,didClose:void 0,onDestroy:void 0,didDestroy:void 0,scrollbarPadding:!0},se=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","onAfterClose","onClose","onDestroy","progressSteps","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ue={animation:'showClass" and "hideClass',onBeforeOpen:"willOpen",onOpen:"didOpen",onRender:"didRender",onClose:"willClose",onAfterClose:"didClose",onDestroy:"didDestroy"},ce=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","heightAuto","keydownListenerCapture"],le=Object.freeze({isValidParameter:re,isUpdatableParameter:function(t){return-1!==se.indexOf(t)},isDeprecatedParameter:ie,argsToParams:function(e){var n={};return"object"!==t(e[0])||v(e[0])?["title","html","icon"].forEach((function(r,o){"string"==typeof(o=e[o])||v(o)?n[r]=o:void 0!==o&&H("Unexpected type of ".concat(r,'! Expected "string" or "Element", got ').concat(t(o)))})):u(n,e[0]),n},isVisible:function(){return bt(E())},clickConfirm:qt,clickDeny:function(){return x()&&x().click()},clickCancel:function(){return q()&&q().click()},getContainer:y,getPopup:E,getTitle:S,getContent:_,getHtmlContainer:O,getImage:k,getIcon:T,getInputLabel:function(){return I(Y["input-label"])},getCloseButton:M,getActions:P,getConfirmButton:N,getDenyButton:x,getCancelButton:q,getLoader:D,getHeader:j,getFooter:L,getTimerProgressBar:R,getFocusableElements:F,getValidationMessage:C,isLoading:function(){return E().hasAttribute("data-loading")},fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i(this,e)},mixin:function(t){return function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(i,e);var l,h,f=(l=i,h=o(),function(){var t,e=n(l);return p(this,h?(t=n(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))});function i(){return a(this,i),f.apply(this,arguments)}return s(i,[{key:"_main",value:function(e,r){return c(n(i.prototype),"_main",this).call(this,e,u({},t,r))}}]),i}(this)},queue:function(t){var e=this;function a(t,e){Wt=[],t(e)}Wt=t;var s=[];return new Promise((function(i){!function t(n,r){n<Wt.length?(document.body.setAttribute("data-swal2-queue-step",n),e.fire(Wt[n]).then((function(e){void 0!==e.value?(s.push(e.value),t(n+1,r)):a(i,{dismiss:e.dismiss})}))):a(i,{value:s})}(0)}))},getQueueStep:Mt,insertQueueStep:function(t,e){return e&&e<Wt.length?Wt.splice(e,0,t):Wt.push(t)},deleteQueueStep:function(t){void 0!==Wt[t]&&Wt.splice(t,1)},showLoading:Xt,enableLoading:Xt,getTimerLeft:function(){return Zt.timeout&&Zt.timeout.getTimerLeft()},stopTimer:Jt,resumeTimer:$t,toggleTimer:function(){var t=Zt.timeout;return t&&(t.running?Jt:$t)()},increaseTimer:function(t){if(Zt.timeout)return dt(t=Zt.timeout.increase(t),!0),t},isTimerRunning:function(){return Zt.timeout&&Zt.timeout.isRunning()},bindClickHandler:function(){ee[0<arguments.length&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,te||(document.body.addEventListener("click",ne),te=!0)}});function he(){var t,e;Ct.innerParams.get(this)&&(ot((t=Ct.domCache.get(this)).loader),(e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"))).length?rt(e[0],"inline-block"):bt(N())||bt(x())||bt(q())||ot(t.actions),gt([t.popup,t.actions],Y.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1)}function fe(){null===Z.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Z.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Z.previousBodyPadding+function(){var t=document.createElement("div");t.className=Y["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}(),"px"))}function de(){return!!window.MSInputMethodContext&&!!document.documentMode}function pe(){var t=y(),e=E();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")}var me=function(){navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)||E().scrollHeight>window.innerHeight-44&&(y().style.paddingBottom="".concat(44,"px"))},ve=function(){var t,e=y();e.ontouchstart=function(e){t=ge(e)},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}},ge=function(t){var e=t.target,n=y();return!(ye(t)||be(t)||e!==n&&(ut(n)||"INPUT"===e.tagName||ut(_())&&_().contains(e)))},ye=function(t){return t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType},be=function(t){return t.touches&&1<t.touches.length},we={swalPromiseResolve:new WeakMap};function Ie(t,e,n,r){n?ke(t,r):(Yt().then((function(){return ke(t,r)})),Zt.keydownTarget.removeEventListener("keydown",Zt.keydownHandler,{capture:Zt.keydownListenerCapture}),Zt.keydownHandlerAdded=!1),e.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&e.parentNode.removeChild(e),V()&&(null!==Z.previousBodyPadding&&(document.body.style.paddingRight="".concat(Z.previousBodyPadding,"px"),Z.previousBodyPadding=null),B(document.body,Y.iosfix)&&(e=parseInt(document.body.style.top,10),gt(document.body,Y.iosfix),document.body.style.top="",document.body.scrollTop=-1*e),"undefined"!=typeof window&&de()&&window.removeEventListener("resize",pe),g(document.body.children).forEach((function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))),gt([document.documentElement,document.body],[Y.shown,Y["height-auto"],Y["no-backdrop"],Y["toast-shown"],Y["toast-column"]])}function Ee(t){var e,n,r,i=E();i&&(t=Te(t),(e=Ct.innerParams.get(this))&&!B(i,e.hideClass.popup)&&(n=we.swalPromiseResolve.get(this),gt(i,e.showClass.popup),vt(i,e.hideClass.popup),r=y(),gt(r,e.showClass.backdrop),vt(r,e.hideClass.backdrop),Se(this,i,e),n(t)))}function Te(t){return void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:u({isConfirmed:!1,isDenied:!1,isDismissed:!1},t)}function Se(t,e,n){var r=y(),i=St&&ct(e),o=n.onClose,a=n.onAfterClose,s=n.willClose;n=n.didClose,_e(e,s,o),i?Oe(t,e,r,n||a):Ie(t,r,$(),n||a)}var _e=function(t,e,n){null!==e&&"function"==typeof e?e(t):null!==n&&"function"==typeof n&&n(t)},Oe=function(t,e,n,r){Zt.swalCloseEventFinishedCallback=Ie.bind(null,t,n,$(),r),e.addEventListener(St,(function(t){t.target===e&&(Zt.swalCloseEventFinishedCallback(),delete Zt.swalCloseEventFinishedCallback)}))},ke=function(t,e){setTimeout((function(){"function"==typeof e&&e(),t._destroy()}))};function Ae(t,e,n){var r=Ct.domCache.get(t);e.forEach((function(t){r[t].disabled=n}))}function Ce(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=e;else t.disabled=e}var Ne=function(){function t(e,n){a(this,t),this.callback=e,this.remaining=n,this.running=!1,this.start()}return s(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),xe={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function De(t){var e,n;(e=t).inputValidator||Object.keys(xe).forEach((function(t){e.input===t&&(e.inputValidator=xe[t])})),t.showLoaderOnConfirm&&!t.preConfirm&&z("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=Q(t.animation),(n=t).target&&("string"!=typeof n.target||document.querySelector(n.target))&&("string"==typeof n.target||n.target.appendChild)||(z('Target parameter is not valid, defaulting to "body"'),n.target="body"),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),It(t)}function Pe(t){var e=y(),n=E();"function"==typeof t.willOpen?t.willOpen(n):"function"==typeof t.onBeforeOpen&&t.onBeforeOpen(n);var r=window.getComputedStyle(document.body).overflowY;Xe(e,n,t),setTimeout((function(){We(e,n)}),10),V()&&(Qe(e,t.scrollbarPadding,r),g(document.body.children).forEach((function(t){t===y()||function(t,e){if("function"==typeof t.contains)return t.contains(e)}(t,y())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}))),$()||Zt.previousActiveElement||(Zt.previousActiveElement=document.activeElement),He(n,t),gt(e,Y["no-transition"])}function je(t){var e=E();t.target===e&&(t=y(),e.removeEventListener(St,je),t.style.overflowY="auto")}function Le(t,e){t.closePopup({isConfirmed:!0,value:e})}function Re(t,e,n){var r=F();if(r.length)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();E().focus()}var Me=["swal-title","swal-html","swal-footer"],Fe=function(e){var n={};return g(e.querySelectorAll("swal-param")).forEach((function(e){ze(e,["name","value"]);var r=e.getAttribute("name");e=e.getAttribute("value"),"boolean"==typeof ae[r]&&"false"===e&&(e=!1),"object"===t(ae[r])&&(e=JSON.parse(e)),n[r]=e})),n},Ve=function(t){var e={};return g(t.querySelectorAll("swal-button")).forEach((function(t){ze(t,["type","color","aria-label"]);var n=t.getAttribute("type");e["".concat(n,"ButtonText")]=t.innerHTML,e["show".concat(l(n),"Button")]=!0,t.hasAttribute("color")&&(e["".concat(n,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e["".concat(n,"ButtonAriaLabel")]=t.getAttribute("aria-label"))})),e},Ue=function(t){var e={};return(t=t.querySelector("swal-image"))&&(ze(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt"))),e},qe=function(t){var e={};return(t=t.querySelector("swal-icon"))&&(ze(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},Be=function(t){var e={},n=t.querySelector("swal-input");return n&&(ze(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value"))),(t=t.querySelectorAll("swal-input-option")).length&&(e.inputOptions={},g(t).forEach((function(t){ze(t,["value"]);var n=t.getAttribute("value");t=t.innerHTML,e.inputOptions[n]=t}))),e},Ke=function(t,e){var n,r={};for(n in e){var i=e[n],o=t.querySelector(i);o&&(ze(o,[]),r[i.replace(/^swal-/,"")]=o.innerHTML)}return r},Ge=function(t){var e=Me.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);g(t.querySelectorAll("*")).forEach((function(n){n.parentNode===t&&(n=n.tagName.toLowerCase(),-1===e.indexOf(n)&&z("Unrecognized element <".concat(n,">")))}))},ze=function(t,e){g(t.attributes).forEach((function(n){-1===e.indexOf(n.name)&&z(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])}))},He=function(t,e){"function"==typeof e.didOpen?setTimeout((function(){return e.didOpen(t)})):"function"==typeof e.onOpen&&setTimeout((function(){return e.onOpen(t)}))},We=function(t,e){St&&ct(e)?(t.style.overflowY="hidden",e.addEventListener(St,je)):t.style.overflowY="auto"},Qe=function(t,e,n){var r;(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&!B(document.body,Y.iosfix)&&(r=document.body.scrollTop,document.body.style.top="".concat(-1*r,"px"),vt(document.body,Y.iosfix),ve(),me()),"undefined"!=typeof window&&de()&&(pe(),window.addEventListener("resize",pe)),e&&"hidden"!==n&&fe(),setTimeout((function(){t.scrollTop=0}))},Xe=function(t,e,n){vt(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),rt(e),setTimeout((function(){vt(e,n.showClass.popup),e.style.removeProperty("opacity")}),10),vt([document.documentElement,document.body],Y.shown),n.heightAuto&&n.backdrop&&!n.toast&&vt([document.documentElement,document.body],Y["height-auto"])},Ye=function(t){return t.checked?1:0},Je=function(t){return t.checked?t.value:null},$e=function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null},Ze=function(e,n){function r(t){return en[n.input](i,nn(t),n)}var i=_();b(n.inputOptions)||m(n.inputOptions)?(Xt(N()),d(n.inputOptions).then((function(t){e.hideLoading(),r(t)}))):"object"===t(n.inputOptions)?r(n.inputOptions):H("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(n.inputOptions)))},tn=function(t,e){var n=t.getInput();ot(n),d(e.inputValue).then((function(r){n.value="number"===e.input?parseFloat(r)||0:"".concat(r),rt(n),n.focus(),t.hideLoading()})).catch((function(e){H("Error in inputValue promise: ".concat(e)),n.value="",rt(n),n.focus(),t.hideLoading()}))},en={select:function(t,e,i){function n(t,e,n){var r=document.createElement("option");r.value=n,U(r,e),r.selected=rn(n,i.inputValue),t.appendChild(r)}var r=yt(t,Y.select);e.forEach((function(t){var e,o=t[0];t=t[1],Array.isArray(t)?((e=document.createElement("optgroup")).label=o,e.disabled=!1,r.appendChild(e),t.forEach((function(t){return n(e,t[1],t[0])}))):n(r,t,o)})),r.focus()},radio:function(t,e,i){var n=yt(t,Y.radio);e.forEach((function(t){var e=t[0],r=t[1],o=document.createElement("input");t=document.createElement("label"),o.type="radio",o.name=Y.radio,o.value=e,rn(e,i.inputValue)&&(o.checked=!0),U(e=document.createElement("span"),r),e.className=Y.label,t.appendChild(o),t.appendChild(e),n.appendChild(t)})),(e=n.querySelectorAll("input")).length&&e[0].focus()}},nn=function e(n){var i=[];return"undefined"!=typeof Map&&n instanceof Map?n.forEach((function(n,r){"object"===t(n)&&(n=e(n)),i.push([r,n])})):Object.keys(n).forEach((function(r){var o=n[r];"object"===t(o)&&(o=e(o)),i.push([r,o])})),i},rn=function(t,e){return e&&e.toString()===t.toString()},on=function(t,e,n){var r=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return Ye(n);case"radio":return Je(n);case"file":return $e(n);default:return e.inputAutoTrim?n.value.trim():n.value}}(t,e);e.inputValidator?an(t,e,r):t.getInput().checkValidity()?("deny"===n?sn:un)(t,e,r):(t.enableButtons(),t.showValidationMessage(e.validationMessage))},an=function(t,e,n){t.disableInput(),Promise.resolve().then((function(){return d(e.inputValidator(n,e.validationMessage))})).then((function(r){t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):un(t,e,n)}))},sn=function(t,e,n){e.showLoaderOnDeny&&Xt(x()),e.preDeny?Promise.resolve().then((function(){return d(e.preDeny(n,e.validationMessage))})).then((function(e){!1===e?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===e?n:e})})):t.closePopup({isDenied:!0,value:n})},un=function(t,e,n){e.showLoaderOnConfirm&&Xt(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then((function(){return d(e.preConfirm(n,e.validationMessage))})).then((function(e){bt(C())||!1===e?t.hideLoading():Le(t,void 0===e?n:e)}))):Le(t,n)},cn=["ArrowRight","ArrowDown","Right","Down"],ln=["ArrowLeft","ArrowUp","Left","Up"],hn=["Escape","Esc"],fn=function(t,e,n){var r=Ct.innerParams.get(t);r.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?dn(t,e,r):"Tab"===e.key?pn(e,r):-1!==[].concat(cn,ln).indexOf(e.key)?mn(e.key):-1!==hn.indexOf(e.key)&&vn(e,r,n)},dn=function(t,e,n){e.isComposing||e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML&&-1===["textarea","file"].indexOf(n.input)&&(qt(),e.preventDefault())},pn=function(t,e){for(var n=t.target,r=F(),i=-1,o=0;o<r.length;o++)if(n===r[o]){i=o;break}t.shiftKey?Re(0,i,-1):Re(0,i,1),t.stopPropagation(),t.preventDefault()},mn=function(t){-1!==[N(),x(),q()].indexOf(document.activeElement)&&(t=-1!==cn.indexOf(t)?"nextElementSibling":"previousElementSibling",(t=document.activeElement[t])&&t.focus())},vn=function(t,e,n){Q(e.allowEscapeKey)&&(t.preventDefault(),n(X.esc))},gn=function(t,e,n){e.popup.onclick=function(){var e=Ct.innerParams.get(t);e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton||e.timer||e.input||n(X.close)}},yn=!1,bn=function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(yn=!0)}}},wn=function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,e.target!==t.popup&&!t.popup.contains(e.target)||(yn=!0)}}},In=function(t,e,i){e.container.onclick=function(n){var r=Ct.innerParams.get(t);yn?yn=!1:n.target===e.container&&Q(r.allowOutsideClick)&&i(X.backdrop)}};function En(t,e){var n=function(t){return(t="string"==typeof t.template?document.querySelector(t.template):t.template)?(t=t.content||t,Ge(t),u(Fe(t),Ve(t),Ue(t),qe(t),Be(t),Ke(t,Me))):{}}(t),r=u({},ae.showClass,e.showClass,n.showClass,t.showClass),i=u({},ae.hideClass,e.hideClass,n.hideClass,t.hideClass);return(n=u({},ae,e,n,t)).showClass=r,n.hideClass=i,!1===t.animation&&(n.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},n.hideClass={}),n}function Tn(a,s,u){return new Promise((function(t){function e(t){a.closePopup({isDismissed:!0,dismiss:t})}var n,r,i,o;we.swalPromiseResolve.set(a,t),s.confirmButton.onclick=function(){return e=u,(t=a).disableButtons(),void(e.input?on(t,e,"confirm"):un(t,e,!0));var t,e},s.denyButton.onclick=function(){return e=u,(t=a).disableButtons(),void(e.returnInputValueOnDeny?on(t,e,"deny"):sn(t,e,!1));var t,e},s.cancelButton.onclick=function(){return t=e,a.disableButtons(),void t(X.cancel);var t},s.closeButton.onclick=function(){return e(X.close)},n=a,o=s,t=e,Ct.innerParams.get(n).toast?gn(n,o,t):(bn(o),wn(o),In(n,o,t)),r=a,o=u,i=e,(t=Zt).keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1),o.toast||(t.keydownHandler=function(t){return fn(r,t,i)},t.keydownTarget=o.keydownListenerCapture?window:E(),t.keydownListenerCapture=o.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0),(u.toast&&(u.input||u.footer||u.showCloseButton)?vt:gt)(document.body,Y["toast-column"]),o=a,"select"===(t=u).input||"radio"===t.input?Ze(o,t):-1!==["text","email","number","tel","textarea"].indexOf(t.input)&&(b(t.inputValue)||m(t.inputValue))&&tn(o,t),Pe(u),_n(Zt,u,e),On(s,u),setTimeout((function(){s.container.scrollTop=0}))}))}function Sn(t){var e={popup:E(),container:y(),content:_(),actions:P(),confirmButton:N(),denyButton:x(),cancelButton:q(),loader:D(),closeButton:M(),validationMessage:C(),progressSteps:A()};return Ct.domCache.set(t,e),e}var _n=function(t,e,n){var r=R();ot(r),e.timer&&(t.timeout=new Ne((function(){n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(rt(r),setTimeout((function(){t.timeout&&t.timeout.running&&dt(e.timer)}))))},On=function(t,e){if(!e.toast)return Q(e.allowEnterKey)?void(kn(t,e)||Re(0,-1,1)):An()},kn=function(t,e){return e.focusDeny&&bt(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&bt(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!bt(t.confirmButton)||(t.confirmButton.focus(),0))},An=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};function Cn(t){"function"==typeof t.didDestroy?t.didDestroy():"function"==typeof t.onDestroy&&t.onDestroy()}function Nn(t){delete t.params,delete Zt.keydownHandler,delete Zt.keydownTarget,Dn(Ct),Dn(we)}var xn,Dn=function(t){for(var e in t)t[e]=new WeakMap},Pn=Object.freeze({hideLoading:he,disableLoading:he,getInput:function(t){var e=Ct.innerParams.get(t||this);return(t=Ct.domCache.get(t||this))?tt(t.content,e.input):null},close:Ee,closePopup:Ee,closeModal:Ee,closeToast:Ee,enableButtons:function(){Ae(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){Ae(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return Ce(this.getInput(),!1)},disableInput:function(){return Ce(this.getInput(),!0)},showValidationMessage:function(t){var e=Ct.domCache.get(this),n=Ct.innerParams.get(this);U(e.validationMessage,t),e.validationMessage.className=Y["validation-message"],n.customClass&&n.customClass.validationMessage&&vt(e.validationMessage,n.customClass.validationMessage),rt(e.validationMessage),(e=this.getInput())&&(e.setAttribute("aria-invalid",!0),e.setAttribute("aria-describedBy",Y["validation-message"]),et(e),vt(e,Y.inputerror))},resetValidationMessage:function(){var t=Ct.domCache.get(this);t.validationMessage&&ot(t.validationMessage),(t=this.getInput())&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedBy"),gt(t,Y.inputerror))},getProgressSteps:function(){return Ct.domCache.get(this).progressSteps},_main:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return oe(u({},e,t)),Zt.currentInstance&&Zt.currentInstance._destroy(),Zt.currentInstance=this,De(t=En(t,e)),Object.freeze(t),Zt.timeout&&(Zt.timeout.stop(),delete Zt.timeout),clearTimeout(Zt.restoreFocusTimeout),e=Sn(this),Ut(this,t),Ct.innerParams.set(this,t),Tn(this,e,t)},update:function(t){var e=E(),n=Ct.innerParams.get(this);if(!e||B(e,n.hideClass.popup))return z("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var r={};Object.keys(t).forEach((function(e){Ln.isUpdatableParameter(e)?r[e]=t[e]:z('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))})),Ut(this,n=u({},n,r)),Ct.innerParams.set(this,n),Object.defineProperties(this,{params:{value:u({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){var t=Ct.domCache.get(this),e=Ct.innerParams.get(this);e&&(t.popup&&Zt.swalCloseEventFinishedCallback&&(Zt.swalCloseEventFinishedCallback(),delete Zt.swalCloseEventFinishedCallback),Zt.deferDisposalTimer&&(clearTimeout(Zt.deferDisposalTimer),delete Zt.deferDisposalTimer),Cn(e),Nn(this))}}),jn=function(){function i(){if(a(this,i),"undefined"!=typeof window){"undefined"==typeof Promise&&H("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),xn=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}}),r=this._main(this.params),Ct.promise.set(this,r)}}return s(i,[{key:"then",value:function(t){return Ct.promise.get(this).then(t)}},{key:"finally",value:function(t){return Ct.promise.get(this).finally(t)}}]),i}();u(jn.prototype,Pn),u(jn,le),Object.keys(Pn).forEach((function(t){jn[t]=function(){if(xn)return xn[t].apply(xn,arguments)}})),jn.DismissReason=X,jn.version="10.15.6";var Ln=jn;return Ln.default=Ln}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2)},170:function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(){return(e=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t}).apply(this,arguments)}var n=4,r=.001,o=1e-7,c=10,l=11,h=1/(l-1),f="function"==typeof Float32Array;function d(t,e){return 1-3*e+3*t}function m(t,e){return 3*e-6*t}function v(t){return 3*t}function y(t,e,n){return((d(e,n)*t+m(e,n))*t+v(e))*t}function w(t,e,n){return 3*d(e,n)*t*t+2*m(e,n)*t+v(e)}function I(t,e,n,r,l){var h,f,i=0;do{(h=y(f=e+(n-e)/2,r,l)-t)>0?n=f:e=f}while(Math.abs(h)>o&&++i<c);return f}function E(t,e,r,o){for(var i=0;i<n;++i){var c=w(e,r,o);if(0===c)return e;e-=(y(e,r,o)-t)/c}return e}function T(t){return t}var S=function(t,e,n,o){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&n===o)return T;for(var c=f?new Float32Array(l):new Array(l),i=0;i<l;++i)c[i]=y(i*h,t,n);function d(e){for(var o=0,f=1,d=l-1;f!==d&&c[f]<=e;++f)o+=h;--f;var m=o+(e-c[f])/(c[f+1]-c[f])*h,v=w(m,t,n);return v>=r?E(e,m,t,n):0===v?m:I(e,o,o+h,t,n)}return function(t){return 0===t?0:1===t?1:y(d(t),e,o)}},_={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},O=!1;try{var k=Object.defineProperty({},"passive",{get:function(){O=!0}});window.addEventListener("test",null,k)}catch(t){}var A={$:function(t){return"string"!=typeof t?t:document.querySelector(t)},on:function(element,t,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!1};t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++)element.addEventListener(t[i],e,!!O&&n)},off:function(element,t,e){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++)element.removeEventListener(t[i],e)},cumulativeOffset:function(element){var t=0,e=0;do{t+=element.offsetTop||0,e+=element.offsetLeft||0,element=element.offsetParent}while(element);return{top:t,left:e}}},C=["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],N={container:"body",duration:500,lazy:!0,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0};function x(t){N=e({},N,t)}var D=function(){var element,e,n,r,o,c,l,h,f,d,m,v,y,w,I,E,T,O,k,x,D,P,j,L,R,M,progress,F=function(t){h&&(j=t,x=!0)};function V(t){var e=t.scrollTop;return"body"===t.tagName.toLowerCase()&&(e=e||document.documentElement.scrollTop),e}function U(t){var e=t.scrollLeft;return"body"===t.tagName.toLowerCase()&&(e=e||document.documentElement.scrollLeft),e}function B(){D=A.cumulativeOffset(e),P=A.cumulativeOffset(element),v&&(I=P.left-D.left+c,O=I-w),y&&(T=P.top-D.top+c,k=T-E)}function K(t){if(x)return G();R||(R=t),o||B(),M=t-R,progress=Math.min(M/n,1),progress=L(progress),z(e,E+k*progress,w+O*progress),M<n?window.requestAnimationFrame(K):G()}function G(){x||z(e,T,I),R=!1,A.off(e,C,F),x&&m&&m(j,element),!x&&d&&d(element)}function z(element,t,e){y&&(element.scrollTop=t),v&&(element.scrollLeft=e),"body"===element.tagName.toLowerCase()&&(y&&(document.documentElement.scrollTop=t),v&&(document.documentElement.scrollLeft=e))}function H(I,D){var P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===t(D)?P=D:"number"==typeof D&&(P.duration=D),!(element=A.$(I)))return console.warn("[vue-scrollto warn]: Trying to scroll to an element that is not on the page: "+I);if(e=A.$(P.container||N.container),n=P.hasOwnProperty("duration")?P.duration:N.duration,o=P.hasOwnProperty("lazy")?P.lazy:N.lazy,r=P.easing||N.easing,c=P.hasOwnProperty("offset")?P.offset:N.offset,l=P.hasOwnProperty("force")?!1!==P.force:N.force,h=P.hasOwnProperty("cancelable")?!1!==P.cancelable:N.cancelable,f=P.onStart||N.onStart,d=P.onDone||N.onDone,m=P.onCancel||N.onCancel,v=void 0===P.x?N.x:P.x,y=void 0===P.y?N.y:P.y,"function"==typeof c&&(c=c(element,e)),w=U(e),E=V(e),B(),x=!1,!l){var R="body"===e.tagName.toLowerCase()?document.documentElement.clientHeight||window.innerHeight:e.offsetHeight,M=E,G=M+R,z=T-c,H=z+element.offsetHeight;if(z>=M&&H<=G)return void(d&&d(element))}if(f&&f(element),k||O)return"string"==typeof r&&(r=_[r]||_.ease),L=S.apply(S,r),A.on(e,C,F,{passive:!0}),window.requestAnimationFrame(K),function(){j=null,x=!0};d&&d(element)}return H},P=D(),j=[];function L(t){for(var i=0;i<j.length;++i)if(j[i].el===t)return j.splice(i,1),!0;return!1}function R(t){for(var i=0;i<j.length;++i)if(j[i].el===t)return j[i]}function M(t){var e=R(t);return e||(j.push(e={el:t,binding:{}}),e)}function F(t){var e=M(this).binding;if(e.value){if(t.preventDefault(),"string"==typeof e.value)return P(e.value);P(e.value.el||e.value.element,e.value)}}var V={bind:function(t,e){M(t).binding=e,A.on(t,"click",F)},unbind:function(t){L(t),A.off(t,"click",F)},update:function(t,e){M(t).binding=e}},U={bind:V.bind,unbind:V.unbind,update:V.update,beforeMount:V.bind,unmounted:V.unbind,updated:V.update,scrollTo:P,bindings:j},B=function(t,e){e&&x(e),t.directive("scroll-to",U),(t.config.globalProperties||t.prototype).$scrollTo=U.scrollTo};return"undefined"!=typeof window&&window.Vue&&(window.VueScrollTo=U,window.VueScrollTo.setDefaults=x,window.VueScrollTo.scroller=D,window.Vue.use&&window.Vue.use(B)),U.install=B,U}()},171:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{f(r.next(t))}catch(t){c(t)}}function h(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,h)}f((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}};Object.defineProperty(e,"__esModule",{value:!0});var c=n(234);e.VueReCaptcha=function(t,e){var n=this,c=new l,h=!1,f=null,d=[];t.prototype.$recaptchaLoaded=function(){return new Promise((function(t,e){return null!==f?e(f):!0===h?t(!0):void d.push({resolve:t,reject:e})}))},c.initializeReCaptcha(e).then((function(e){h=!0,t.prototype.$recaptcha=function(t){return r(n,void 0,void 0,(function(){return o(this,(function(n){return[2,e.execute(t)]}))}))},t.prototype.$recaptchaInstance=e,d.forEach((function(t){return t.resolve(!0)}))})).catch((function(t){f=t,d.forEach((function(e){return e.reject(t)}))}))};var l=function(){function t(){}return t.prototype.initializeReCaptcha=function(t){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,c.load(t.siteKey,t.loaderOptions)]}))}))},t}()},172:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=function(t,b){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(t[p]=b[p])})(t,b)};function o(t,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function e(){this.constructor=t}r(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}Object.create;Object.create},173:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var o,p=new Promise((function(c,l){n(o=t[e].apply(t,r)).then(c,l)}));return p.request=o,p}function o(t,e,n){var p=r(t,e,n);return p.then((function(t){if(t)return new m(t,p.request)}))}function c(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function l(t,e,n,o){o.forEach((function(o){o in n.prototype&&(t.prototype[o]=function(){return r(this[e],o,arguments)})}))}function h(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function f(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return o(this[e],r,arguments)})}))}function d(t){this._index=t}function m(cursor,t){this._cursor=cursor,this._request=t}function v(t){this._store=t}function y(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function w(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new y(n)}function I(t){this._db=t}function E(t,e,n){var p=r(indexedDB,"open",[t,e]),o=p.request;return o&&(o.onupgradeneeded=function(t){n&&n(new w(o.result,t.oldVersion,o.transaction))}),p.then((function(t){return new I(t)}))}function T(t){return r(indexedDB,"deleteDatabase",[t])}c(d,"_index",["name","keyPath","multiEntry","unique"]),l(d,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),f(d,"_index",IDBIndex,["openCursor","openKeyCursor"]),c(m,"_cursor",["direction","key","primaryKey","value"]),l(m,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(m.prototype[t]=function(){var cursor=this,e=arguments;return Promise.resolve().then((function(){return cursor._cursor[t].apply(cursor._cursor,e),n(cursor._request).then((function(t){if(t)return new m(t,cursor._request)}))}))})})),v.prototype.createIndex=function(){return new d(this._store.createIndex.apply(this._store,arguments))},v.prototype.index=function(){return new d(this._store.index.apply(this._store,arguments))},c(v,"_store",["name","keyPath","indexNames","autoIncrement"]),l(v,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),f(v,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),h(v,"_store",IDBObjectStore,["deleteIndex"]),y.prototype.objectStore=function(){return new v(this._tx.objectStore.apply(this._tx,arguments))},c(y,"_tx",["objectStoreNames","mode"]),h(y,"_tx",IDBTransaction,["abort"]),w.prototype.createObjectStore=function(){return new v(this._db.createObjectStore.apply(this._db,arguments))},c(w,"_db",["name","version","objectStoreNames"]),h(w,"_db",IDBDatabase,["deleteObjectStore","close"]),I.prototype.transaction=function(){return new y(this._db.transaction.apply(this._db,arguments))},c(I,"_db",["name","version","objectStoreNames"]),h(I,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[v,d].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],o=this._store||this._index,c=o[t].apply(o,n.slice(0,-1));c.onsuccess=function(){r(c.result)}})}))})),[d,v].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(o){n.iterateCursor(t,(function(cursor){cursor?(r.push(cursor.value),void 0===e||r.length!=e?cursor.continue():o(r)):o(r)}))}))})})),t.openDb=E,t.deleteDb=T,Object.defineProperty(t,"__esModule",{value:!0})}(e)},175:function(t,e,n){"use strict";(function(t){var e=n(3);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,t){a!=Array.prototype&&a!=Object.prototype&&(a[b]=t.value)};var o=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,a];for(var b=0;b<a.length;++b){var e=a[b];if(e&&e.Math==Math)return e}return globalThis}(this);function c(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function l(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:c(a)}}!function(a,b){if(b){var t=o;a=a.split(".");for(var e=0;e<a.length-1;e++){var n=a[e];n in t||(t[n]={}),t=t[n]}(b=b(e=t[a=a[a.length-1]]))!=e&&null!=b&&r(t,a,{configurable:!0,writable:!0,value:b})}}("Promise",(function(a){function b(g){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{g(t.resolve,t.reject)}catch(e){t.reject(e)}}function t(){this.a=null}function e(g){return g instanceof b?g:new b((function(t){t(g)}))}if(a)return a;t.prototype.b=function(g){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(g)};var n=o.setTimeout;t.prototype.c=function(g){n(g,0)},t.prototype.g=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var t=0;t<g.length;++t){var e=g[t];g[t]=null;try{e()}catch(t){this.f(t)}}}this.a=null},t.prototype.f=function(g){this.c((function(){throw g}))},b.prototype.f=function(){function g(p){return function(n){e||(e=!0,p.call(t,n))}}var t=this,e=!1;return{resolve:g(this.m),reject:g(this.g)}},b.prototype.m=function(g){if(g===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.s(g);else{t:switch(typeof g){case"object":var t=null!=g;break t;case"function":t=!0;break t;default:t=!1}t?this.v(g):this.h(g)}},b.prototype.v=function(g){var t=void 0;try{t=g.then}catch(t){return void this.g(t)}"function"==typeof t?this.u(t,g):this.h(g)},b.prototype.g=function(g){this.i(2,g)},b.prototype.h=function(g){this.i(1,g)},b.prototype.i=function(g,t){if(0!=this.b)throw Error("Cannot settle("+g+", "+t+"): Promise already settled in state"+this.b);this.b=g,this.c=t,this.l()},b.prototype.l=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)r.b(this.a[g]);this.a=null}};var r=new t;return b.prototype.s=function(g){var t=this.f();g.Qa(t.resolve,t.reject)},b.prototype.u=function(g,t){var e=this.f();try{g.call(t,e.resolve,e.reject)}catch(t){e.reject(t)}},b.prototype.then=function(g,t){function e(t,e){return"function"==typeof t?function(e){try{p(t(e))}catch(t){n(t)}}:e}var p,n,r=new b((function(t,e){p=t,n=e}));return this.Qa(e(g,p),e(t,n)),r},b.prototype.catch=function(g){return this.then(void 0,g)},b.prototype.Qa=function(g,t){function e(){switch(p.b){case 1:g(p.c);break;case 2:t(p.c);break;default:throw Error("Unexpected state: "+p.b)}}var p=this;null==this.a?r.b(e):this.a.push(e)},b.resolve=e,b.reject=function(g){return new b((function(t,e){e(g)}))},b.race=function(g){return new b((function(t,n){for(var p=l(g),r=p.next();!r.done;r=p.next())e(r.value).Qa(t,n)}))},b.all=function(g){var t=l(g),n=t.next();return n.done?e([]):new b((function(p,r){function o(t){return function(e){c[t]=e,0==--l&&p(c)}}var c=[],l=0;do{c.push(void 0),l++,e(n.value).Qa(o(c.length-1),r),n=t.next()}while(!n.done)}))},b}));var h=h||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,m=null;function v(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&d.test(a)?a:""}function y(){}function w(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function I(a){var b=w(a);return"array"==b||"object"==b&&"number"==typeof a.length}function E(a){return"function"==w(a)}function T(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function S(a){return Object.prototype.hasOwnProperty.call(a,_)&&a[_]||(a[_]=++O)}var _="closure_uid_"+(1e9*Math.random()>>>0),O=0;function k(a,b,t){return a.call.apply(a.bind,arguments)}function A(a,b,t){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),a.apply(b,t)}}return function(){return a.apply(b,arguments)}}function q(a,b,t){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:A).apply(null,arguments)}function C(a,b){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),a.apply(this,e)}}var N=Date.now;function x(a,b){function t(){}t.prototype=b.prototype,a.ab=b.prototype,a.prototype=new t,a.prototype.constructor=a}function D(a){return a}function P(a,b,t){this.code=R+a,this.message=b||M[a]||"",this.a=t||null}function j(a){var b=a&&a.code;return b?new P(b.substring(R.length),a.message,a.serverResponse):null}x(P,Error),P.prototype.w=function(){var a={code:this.code,message:this.message};return this.a&&(a.serverResponse=this.a),a},P.prototype.toJSON=function(){return this.w()};var L,R="auth/",M={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},F={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function V(a){for(var b in F)if(F[b].id===a)return{firebaseEndpoint:(a=F[b]).Ta,secureTokenEndpoint:a.Za,identityPlatformEndpoint:a.Wa};return null}function U(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(t){return!1}}function u(a){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function B(a,b){for(var t="",e=(a=a.split("%s")).length-1,n=0;n<e;n++)t+=a[n]+(n<b.length?b[n]:"%s");u.call(this,t+a[e])}function K(a,b){throw new B("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function G(a,b){this.c=a,this.f=b,this.b=0,this.a=null}function z(a,b){a.f(b),100>a.b&&(a.b++,b.next=a.a,a.a=b)}function H(){this.b=this.a=null}L=V("__EID__")?"__EID__":void 0,x(u,Error),u.prototype.name="CustomError",x(B,u),B.prototype.name="AssertionError",G.prototype.get=function(){if(0<this.b){this.b--;var a=this.a;this.a=a.next,a.next=null}else a=this.c();return a};var W=new G((function(){return new X}),(function(a){a.reset()}));function Q(){var a=Ae,b=null;return a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b}function X(){this.next=this.b=this.a=null}H.prototype.add=function(a,b){var t=W.get();t.set(a,b),this.b?this.b.next=t:this.a=t,this.b=t},X.prototype.set=function(a,b){this.a=a,this.b=b,this.next=null},X.prototype.reset=function(){this.next=this.b=this.a=null};var Y=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"==typeof a)return"string"!=typeof b||1!=b.length?-1:a.indexOf(b,0);for(var t=0;t<a.length;t++)if(t in a&&a[t]===b)return t;return-1},J=Array.prototype.forEach?function(a,b,t){Array.prototype.forEach.call(a,b,t)}:function(a,b,t){for(var e=a.length,n="string"==typeof a?a.split(""):a,r=0;r<e;r++)r in n&&b.call(t,n[r],r,a)};var $=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=[],n=0,r="string"==typeof a?a.split(""):a,g=0;g<t;g++)if(g in r){var o=r[g];b.call(void 0,o,g,a)&&(e[n++]=o)}return e},Z=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var t=a.length,e=Array(t),n="string"==typeof a?a.split(""):a,r=0;r<t;r++)r in n&&(e[r]=b.call(void 0,n[r],r,a));return e},tt=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var t=a.length,e="string"==typeof a?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a))return!0;return!1};function et(a,b){return 0<=Y(a,b)}function nt(a,b){var t;return(t=0<=(b=Y(a,b)))&&Array.prototype.splice.call(a,b,1),t}function it(a,b){!function(a,b){for(var t="string"==typeof a?a.split(""):a,e=a.length-1;0<=e;--e)e in t&&b.call(void 0,t[e],e,a)}(a,(function(t,e){b.call(void 0,t,e,a)&&1==Array.prototype.splice.call(a,e,1).length&&0}))}function ot(a){return Array.prototype.concat.apply([],arguments)}function at(a){var b=a.length;if(0<b){for(var t=Array(b),e=0;e<b;e++)t[e]=a[e];return t}return[]}var st,ut=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},ct=/&/g,lt=/</g,ht=/>/g,ft=/"/g,pt=/'/g,mt=/\x00/g,vt=/[\x00&<>"']/;function gt(a,b){return-1!=a.indexOf(b)}function yt(a,b){return a<b?-1:a>b?1:0}t:{var bt=f.navigator;if(bt){var wt=bt.userAgent;if(wt){st=wt;break t}}st=""}function It(a){return gt(st,a)}function Et(a,b){for(var t in a)b.call(void 0,a[t],t,a)}function Tt(a){for(var b in a)return!1;return!0}function St(a){var t,b={};for(t in a)b[t]=a[t];return b}var _t="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ot(a,b){for(var t,e,n=1;n<arguments.length;n++){for(t in e=arguments[n])a[t]=e[t];for(var r=0;r<_t.length;r++)t=_t[r],Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}}function kt(a,b){t:{try{var t=a&&a.ownerDocument,e=t&&(t.defaultView||t.parentWindow);if((e=e||f).Element&&e.Location){var n=e;break t}}catch(t){}n=null}if(n&&void 0!==n[b]&&(!a||!(a instanceof n[b])&&(a instanceof n.Location||a instanceof n.Element))){if(T(a))try{var r=a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(t){r="<object could not be stringified>"}else r=void 0===a?"undefined":null===a?"null":typeof a;K("Argument is not a %s (or a non-Element, non-Location mock); got: %s",b,r)}}function At(a,b){this.a=a===Dt&&b||"",this.b=xt}function Ct(a){return a instanceof At&&a.constructor===At&&a.b===xt?a.a:(K("expected object of type Const, got '"+a+"'"),"type_error:Const")}At.prototype.sa=!0,At.prototype.ra=function(){return this.a},At.prototype.toString=function(){return"Const{"+this.a+"}"};var Nt,xt={},Dt={};function Pt(){if(void 0===Nt){var a=null,b=f.trustedTypes;if(b&&b.createPolicy){try{a=b.createPolicy("goog#html",{createHTML:D,createScript:D,createScriptURL:D})}catch(t){f.console&&f.console.error(t.message)}Nt=a}else Nt=a}return Nt}function jt(a,b){this.a=b===Vt?a:""}function Lt(a){return a instanceof jt&&a.constructor===jt?a.a:(K("expected object of type TrustedResourceUrl, got '"+a+"' of type "+w(a)),"type_error:TrustedResourceUrl")}function Rt(a,b){var t=Ct(a);if(!Ft.test(t))throw Error("Invalid TrustedResourceUrl format: "+t);return function(a){var b=Pt();return new jt(a=b?b.createScriptURL(a):a,Vt)}(a=t.replace(Mt,(function(e,n){if(!Object.prototype.hasOwnProperty.call(b,n))throw Error('Found marker, "'+n+'", in format string, "'+t+'", but no valid label mapping found in args: '+JSON.stringify(b));return(e=b[n])instanceof At?Ct(e):encodeURIComponent(String(e))})))}jt.prototype.sa=!0,jt.prototype.ra=function(){return this.a.toString()},jt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Mt=/%{(\w+)}/g,Ft=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Vt={};function Ut(a,b){this.a=b===Wt?a:""}function qt(a){return a instanceof Ut&&a.constructor===Ut?a.a:(K("expected object of type SafeUrl, got '"+a+"' of type "+w(a)),"type_error:SafeUrl")}Ut.prototype.sa=!0,Ut.prototype.ra=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Bt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Kt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Gt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function zt(a){if(a instanceof Ut)return a;if(a="object"==typeof a&&a.sa?a.ra():String(a),Gt.test(a))a=new Ut(a,Wt);else{var b=(a=(a=String(a)).replace(/(%0A|%0D)/g,"")).match(Kt);a=b&&Bt.test(b[1])?new Ut(a,Wt):null}return a}function Ht(a){return a instanceof Ut?a:(a="object"==typeof a&&a.sa?a.ra():String(a),Gt.test(a)||(a="about:invalid#zClosurez"),new Ut(a,Wt))}var Wt={},Qt=new Ut("about:invalid#zClosurez",Wt);function Xt(a,b,t){this.a=t===Yt?a:""}Xt.prototype.sa=!0,Xt.prototype.ra=function(){return this.a.toString()},Xt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Yt={};function Jt(a,b,t,e){return a=a instanceof Ut?a:Ht(a),b=b||f,t=t instanceof At?Ct(t):t||"",b.open(qt(a),t,e,void 0)}function $t(a,b){for(var t=a.split("%s"),e="",n=Array.prototype.slice.call(arguments,1);n.length&&1<t.length;)e+=t.shift()+n.shift();return e+t.join("%s")}function Zt(a){return vt.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(ct,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(lt,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(ht,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(ft,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(pt,"&#39;")),-1!=a.indexOf("\0")&&(a=a.replace(mt,"&#0;"))),a}function te(a){return te[" "](a),a}te[" "]=y;var ee,a,ne=It("Opera"),re=It("Trident")||It("MSIE"),ie=It("Edge"),oe=ie||re,ae=It("Gecko")&&!(gt(st.toLowerCase(),"webkit")&&!It("Edge"))&&!(It("Trident")||It("MSIE"))&&!It("Edge"),se=gt(st.toLowerCase(),"webkit")&&!It("Edge");function ue(){var a=f.document;return a?a.documentMode:void 0}t:{var ce="",le=(a=st,ae?/rv:([^\);]+)(\)|;)/.exec(a):ie?/Edge\/([\d\.]+)/.exec(a):re?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):se?/WebKit\/(\S+)/.exec(a):ne?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(le&&(ce=le?le[1]:""),re){var he=ue();if(null!=he&&he>parseFloat(ce)){ee=String(he);break t}}ee=ce}var fe,de={};function pe(a){return function(a,b){var t=de;return Object.prototype.hasOwnProperty.call(t,a)?t[a]:t[a]=b(a)}(a,(function(){for(var b=0,t=ut(String(ee)).split("."),e=ut(String(a)).split("."),n=Math.max(t.length,e.length),r=0;0==b&&r<n;r++){var g=t[r]||"",o=e[r]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==g[0].length&&0==o[0].length)break;b=yt(0==g[1].length?0:parseInt(g[1],10),0==o[1].length?0:parseInt(o[1],10))||yt(0==g[2].length,0==o[2].length)||yt(g[2],o[2]),g=g[3],o=o[3]}while(0==b)}return 0<=b}))}if(f.document&&re){var me=ue();fe=me||(parseInt(ee,10)||void 0)}else fe=void 0;var ve=fe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(a){}var ge=!re||9<=Number(ve);function ye(a){var b=document;return"string"==typeof a?b.getElementById(a):a}function be(a,b){Et(b,(function(t,e){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==e?a.style.cssText=t:"class"==e?a.className=t:"for"==e?a.htmlFor=t:Ee.hasOwnProperty(e)?a.setAttribute(Ee[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,t):a[e]=t}))}var we,Ie,Ee={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Te(a,b,t){function e(t){t&&b.appendChild("string"==typeof t?a.createTextNode(t):t)}for(var n=2;n<t.length;n++){var r=t[n];if(!I(r)||T(r)&&0<r.nodeType)e(r);else{t:{if(r&&"number"==typeof r.length){if(T(r)){var g="function"==typeof r.item||"string"==typeof r.item;break t}if(E(r)){g="function"==typeof r.item;break t}}g=!1}J(g?at(r):r,e)}}}function Se(a,b){return b=String(b),"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase()),a.createElement(b)}function _e(a){f.setTimeout((function(){throw a}),0)}function Oe(a,b){Ie||function(){if(f.Promise&&f.Promise.resolve){var a=f.Promise.resolve(void 0);Ie=function(){a.then(Ce)}}else Ie=function(){var b=Ce;!E(f.setImmediate)||f.Window&&f.Window.prototype&&!It("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(we||(we=function(){var a=f.MessageChannel;if(void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!It("Presto")&&(a=function(){var t=Se(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var g="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=q((function(t){"*"!=n&&t.origin!=n||t.data!=g||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(g,n)}}}),void 0!==a&&!It("Trident")&&!It("MSIE")){var b=new a,t={},e=t;return b.port1.onmessage=function(){if(void 0!==t.next){var e=(t=t.next).Gb;t.Gb=null,e()}},function(t){e.next={Gb:t},e=e.next,b.port2.postMessage(0)}}return function(t){f.setTimeout(t,0)}}()),we(b)):f.setImmediate(b)}}(),ke||(Ie(),ke=!0),Ae.add(a,b)}var ke=!1,Ae=new H;function Ce(){for(var a;a=Q();){try{a.a.call(a.b)}catch(t){_e(t)}z(W,a)}ke=!1}function Ne(a,b){if(this.a=xe,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,a!=y)try{var t=this;a.call(b,(function(e){Ge(t,De,e)}),(function(e){if(!(e instanceof Je))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Ge(t,Pe,e)}))}catch(t){Ge(this,Pe,t)}}var xe=0,De=2,Pe=3;function je(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}je.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Le=new G((function(){return new je}),(function(a){a.reset()}));function Re(a,b,t){var e=Le.get();return e.g=a,e.b=b,e.f=t,e}function Me(a){if(a instanceof Ne)return a;var b=new Ne(y);return Ge(b,De,a),b}function Fe(a){return new Ne((function(b,t){t(a)}))}function Ve(a,b,t){ze(a,b,t,null)||Oe(C(b,a))}function Ue(a){return new Ne((function(b){var t=a.length,e=[];if(t)for(var n=function(n,r,p){t--,e[n]=r?{Pb:!0,value:p}:{Pb:!1,reason:p},0==t&&b(e)},r=0;r<a.length;r++)Ve(a[r],C(n,r,!0),C(n,r,!1));else b(e)}))}function qe(a,b){if(a.a==xe)if(a.c){var t=a.c;if(t.b){for(var e=0,n=null,r=null,g=t.b;g&&(g.c||(e++,g.a==a&&(n=g),!(n&&1<e)));g=g.next)n||(r=g);n&&(t.a==xe&&1==e?qe(t,b):(r?((e=r).next==t.f&&(t.f=e),e.next=e.next.next):We(t),Qe(t,n,Pe,b)))}a.c=null}else Ge(a,Pe,b)}function Be(a,b){a.b||a.a!=De&&a.a!=Pe||He(a),a.f?a.f.next=b:a.b=b,a.f=b}function Ke(a,b,t,e){var n=Re(null,null,null);return n.a=new Ne((function(r,g){n.g=b?function(t){try{var n=b.call(e,t);r(n)}catch(t){g(t)}}:r,n.b=t?function(n){try{var o=t.call(e,n);void 0===o&&n instanceof Je?g(n):r(o)}catch(t){g(t)}}:g})),n.a.c=a,Be(a,n),n.a}function Ge(a,b,t){a.a==xe&&(a===t&&(b=Pe,t=new TypeError("Promise cannot resolve to itself")),a.a=1,ze(t,a.$c,a.ad,a)||(a.i=t,a.a=b,a.c=null,He(a),b!=Pe||t instanceof Je||function(a,b){a.g=!0,Oe((function(){a.g&&Ye.call(null,b)}))}(a,t)))}function ze(a,b,t,e){if(a instanceof Ne)return Be(a,Re(b||y,t||null,e)),!0;if(U(a))return a.then(b,t,e),!0;if(T(a))try{var n=a.then;if(E(n))return function(a,b,t,e,n){function r(t){o||(o=!0,e.call(n,t))}function g(e){o||(o=!0,t.call(n,e))}var o=!1;try{b.call(a,g,r)}catch(t){r(t)}}(a,n,b,t,e),!0}catch(n){return t.call(e,n),!0}return!1}function He(a){a.h||(a.h=!0,Oe(a.gc,a))}function We(a){var b=null;return a.b&&(b=a.b,a.b=b.next,b.next=null),a.b||(a.f=null),b}function Qe(a,b,t,e){if(t==Pe&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,Xe(b,t,e);else try{b.c?b.g.call(b.f):Xe(b,t,e)}catch(t){Ye.call(null,t)}z(Le,b)}function Xe(a,b,t){b==De?a.g.call(a.f,t):a.b&&a.b.call(a.f,t)}Ne.prototype.then=function(a,b,t){return Ke(this,E(a)?a:null,E(b)?b:null,t)},Ne.prototype.$goog_Thenable=!0,(n=Ne.prototype).oa=function(a,b){return(a=Re(a,a,b)).c=!0,Be(this,a),this},n.o=function(a,b){return Ke(this,null,a,b)},n.cancel=function(a){if(this.a==xe){var b=new Je(a);Oe((function(){qe(this,b)}),this)}},n.$c=function(a){this.a=xe,Ge(this,De,a)},n.ad=function(a){this.a=xe,Ge(this,Pe,a)},n.gc=function(){for(var a;a=We(this);)Qe(this,a,this.a,this.i);this.h=!1};var Ye=_e;function Je(a){u.call(this,a)}function $e(){0!=Ze&&(tn[S(this)]=this),this.xa=this.xa,this.pa=this.pa}x(Je,u),Je.prototype.name="cancel";var Ze=0,tn={};function en(a){if(!a.xa&&(a.xa=!0,a.Da(),0!=Ze)){var b=S(a);if(0!=Ze&&a.pa&&0<a.pa.length)throw Error(a+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete tn[b]}}$e.prototype.xa=!1,$e.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var nn=Object.freeze||function(a){return a},rn=!re||9<=Number(ve),on=re&&!pe("9"),an=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{f.addEventListener("test",y,b),f.removeEventListener("test",y,b)}catch(t){}return a}();function sn(a,b){this.type=a,this.b=this.target=b,this.defaultPrevented=!1}function un(a,b){if(sn.call(this,a?a.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,a){var t=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.b=b,b=a.relatedTarget){if(ae){t:{try{te(b.nodeName);var n=!0;break t}catch(t){}n=!1}n||(b=null)}}else"mouseover"==t?b=a.fromElement:"mouseout"==t&&(b=a.toElement);this.relatedTarget=b,e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:cn[a.pointerType]||"",this.a=a,a.defaultPrevented&&this.preventDefault()}}sn.prototype.preventDefault=function(){this.defaultPrevented=!0},x(un,sn);var cn=nn({2:"touch",3:"pen",4:"mouse"});un.prototype.preventDefault=function(){un.ab.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,on)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(t){}},un.prototype.g=function(){return this.a};var dd="closure_listenable_"+(1e6*Math.random()|0),ln=0;function hn(a,b,t,e,n){this.listener=a,this.proxy=null,this.src=b,this.type=t,this.capture=!!e,this.Va=n,this.key=++ln,this.va=this.Pa=!1}function fn(a){a.va=!0,a.listener=null,a.proxy=null,a.src=null,a.Va=null}function dn(a){this.src=a,this.a={},this.b=0}function pn(a,b){var t=b.type;t in a.a&&nt(a.a[t],b)&&(fn(b),0==a.a[t].length&&(delete a.a[t],a.b--))}function mn(a,b,t,e){for(var n=0;n<a.length;++n){var r=a[n];if(!r.va&&r.listener==b&&r.capture==!!t&&r.Va==e)return n}return-1}dn.prototype.add=function(a,b,t,e,n){var r=a.toString();(a=this.a[r])||(a=this.a[r]=[],this.b++);var g=mn(a,b,e,n);return-1<g?(b=a[g],t||(b.Pa=!1)):((b=new hn(b,this.src,r,!!e,n)).Pa=t,a.push(b)),b};var vn="closure_lm_"+(1e6*Math.random()|0),gn={};function yn(a,b,t,e,n){if(e&&e.once)wn(a,b,t,e,n);else if(Array.isArray(b))for(var r=0;r<b.length;r++)yn(a,b[r],t,e,n);else t=Cn(t),a&&a[dd]?xn(a,b,t,T(e)?!!e.capture:!!e,n):bn(a,b,t,!1,e,n)}function bn(a,b,t,e,n,r){if(!b)throw Error("Invalid event type");var g=T(n)?!!n.capture:!!n,o=kn(a);if(o||(a[vn]=o=new dn(a)),!(t=o.add(b,t,e,g,r)).proxy){if(e=function(){var a=On,b=rn?function(t){return a.call(b.src,b.listener,t)}:function(t){if(!(t=a.call(b.src,b.listener,t)))return t};return b}(),t.proxy=e,e.src=a,e.listener=t,a.addEventListener)an||(n=g),void 0===n&&(n=!1),a.addEventListener(b.toString(),e,n);else if(a.attachEvent)a.attachEvent(Tn(b.toString()),e);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(e)}0}}function wn(a,b,t,e,n){if(Array.isArray(b))for(var r=0;r<b.length;r++)wn(a,b[r],t,e,n);else t=Cn(t),a&&a[dd]?Dn(a,b,t,T(e)?!!e.capture:!!e,n):bn(a,b,t,!0,e,n)}function In(a,b,t,e,n){if(Array.isArray(b))for(var r=0;r<b.length;r++)In(a,b[r],t,e,n);else e=T(e)?!!e.capture:!!e,t=Cn(t),a&&a[dd]?(a=a.v,(b=String(b).toString())in a.a&&(-1<(t=mn(r=a.a[b],t,e,n))&&(fn(r[t]),Array.prototype.splice.call(r,t,1),0==r.length&&(delete a.a[b],a.b--)))):a&&(a=kn(a))&&(b=a.a[b.toString()],a=-1,b&&(a=mn(b,t,e,n)),(t=-1<a?b[a]:null)&&En(t))}function En(a){if("number"!=typeof a&&a&&!a.va){var b=a.src;if(b&&b[dd])pn(b.v,a);else{var t=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(t,e,a.capture):b.detachEvent?b.detachEvent(Tn(t),e):b.addListener&&b.removeListener&&b.removeListener(e),(t=kn(b))?(pn(t,a),0==t.b&&(t.src=null,b[vn]=null)):fn(a)}}}function Tn(a){return a in gn?gn[a]:gn[a]="on"+a}function Sn(a,b,t,e){var n=!0;if((a=kn(a))&&(b=a.a[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var r=b[a];r&&r.capture==t&&!r.va&&(r=_n(r,e),n=n&&!1!==r)}return n}function _n(a,b){var t=a.listener,e=a.Va||a.src;return a.Pa&&En(a),t.call(e,b)}function On(a,b){if(a.va)return!0;if(!rn){if(!b)t:{b=["window","event"];for(var t=f,e=0;e<b.length;e++)if(null==(t=t[b[e]])){b=null;break t}b=t}if(b=new un(e=b,this),t=!0,!(0>e.keyCode||null!=e.returnValue)){t:{var n=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(t){n=!0}(n||null==e.returnValue)&&(e.returnValue=!0)}for(e=[],n=b.b;n;n=n.parentNode)e.push(n);for(a=a.type,n=e.length-1;0<=n;n--){b.b=e[n];var r=Sn(e[n],a,!0,b);t=t&&r}for(n=0;n<e.length;n++)b.b=e[n],r=Sn(e[n],a,!1,b),t=t&&r}return t}return _n(a,new un(b,this))}function kn(a){return(a=a[vn])instanceof dn?a:null}var An="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(a){return E(a)?a:(a[An]||(a[An]=function(b){return a.handleEvent(b)}),a[An])}function Nn(){$e.call(this),this.v=new dn(this),this.ac=this,this.gb=null}function xn(a,b,t,e,n){a.v.add(String(b),t,!1,e,n)}function Dn(a,b,t,e,n){a.v.add(String(b),t,!0,e,n)}function Pn(a,b,t,e){if(!(b=a.v.a[String(b)]))return!0;b=b.concat();for(var n=!0,r=0;r<b.length;++r){var g=b[r];if(g&&!g.va&&g.capture==t){var o=g.listener,c=g.Va||g.src;g.Pa&&pn(a.v,g),n=!1!==o.call(c,e)&&n}}return n&&!e.defaultPrevented}function jn(a,b,t){if(E(a))t&&(a=q(a,t));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=q(a.handleEvent,a)}return 2147483647<Number(b)?-1:f.setTimeout(a,b||0)}function Ln(a){var b=null;return new Ne((function(t,e){-1==(b=jn((function(){t(void 0)}),a))&&e(Error("Failed to schedule timer."))})).o((function(t){throw f.clearTimeout(b),t}))}function Rn(a){if(a.W&&"function"==typeof a.W)return a.W();if("string"==typeof a)return a.split("");if(I(a)){for(var b=[],t=a.length,e=0;e<t;e++)b.push(a[e]);return b}for(e in b=[],t=0,a)b[t++]=a[e];return b}function Mn(a){if(a.Y&&"function"==typeof a.Y)return a.Y();if(!a.W||"function"!=typeof a.W){if(I(a)||"string"==typeof a){var b=[];a=a.length;for(var t=0;t<a;t++)b.push(t);return b}for(var e in b=[],t=0,a)b[t++]=e;return b}}function Fn(a,b){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var e=0;e<t;e+=2)this.set(arguments[e],arguments[e+1])}else if(a)if(a instanceof Fn)for(t=a.Y(),e=0;e<t.length;e++)this.set(t[e],a.get(t[e]));else for(e in a)this.set(e,a[e])}function Vn(a){if(a.c!=a.a.length){for(var b=0,t=0;b<a.a.length;){var e=a.a[b];Un(a.b,e)&&(a.a[t++]=e),b++}a.a.length=t}if(a.c!=a.a.length){var n={};for(t=b=0;b<a.a.length;)Un(n,e=a.a[b])||(a.a[t++]=e,n[e]=1),b++;a.a.length=t}}function Un(a,b){return Object.prototype.hasOwnProperty.call(a,b)}x(Nn,$e),Nn.prototype[dd]=!0,Nn.prototype.addEventListener=function(a,b,t,e){yn(this,a,b,t,e)},Nn.prototype.removeEventListener=function(a,b,t,e){In(this,a,b,t,e)},Nn.prototype.dispatchEvent=function(a){var b,t=this.gb;if(t)for(b=[];t;t=t.gb)b.push(t);t=this.ac;var e=a.type||a;if("string"==typeof a)a=new sn(a,t);else if(a instanceof sn)a.target=a.target||t;else{var n=a;Ot(a=new sn(e,t),n)}if(n=!0,b)for(var r=b.length-1;0<=r;r--){var g=a.b=b[r];n=Pn(g,e,!0,a)&&n}if(n=Pn(g=a.b=t,e,!0,a)&&n,n=Pn(g,e,!1,a)&&n,b)for(r=0;r<b.length;r++)n=Pn(g=a.b=b[r],e,!1,a)&&n;return n},Nn.prototype.Da=function(){if(Nn.ab.Da.call(this),this.v){var t,a=this.v;for(t in a.a){for(var e=a.a[t],n=0;n<e.length;n++)fn(e[n]);delete a.a[t],a.b--}}this.gb=null},(n=Fn.prototype).W=function(){Vn(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a},n.Y=function(){return Vn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(a,b){return Un(this.b,a)?this.b[a]:b},n.set=function(a,b){Un(this.b,a)||(this.c++,this.a.push(a)),this.b[a]=b},n.forEach=function(a,b){for(var t=this.Y(),e=0;e<t.length;e++){var n=t[e],r=this.get(n);a.call(b,r,n,this)}};var qn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bn(a,b){var t;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,a instanceof Bn?(this.i=void 0!==b?b:a.i,Kn(this,a.c),this.l=a.l,this.a=a.a,Gn(this,a.g),this.f=a.f,zn(this,fr(a.b)),this.h=a.h):a&&(t=String(a).match(qn))?(this.i=!!b,Kn(this,t[1]||"",!0),this.l=Yn(t[2]||""),this.a=Yn(t[3]||"",!0),Gn(this,t[4]),this.f=Yn(t[5]||"",!0),zn(this,t[6]||"",!0),this.h=Yn(t[7]||"")):(this.i=!!b,this.b=new or(null,this.i))}function Kn(a,b,t){a.c=t?Yn(b,!0):b,a.c&&(a.c=a.c.replace(/:$/,""))}function Gn(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.g=b}else a.g=null}function zn(a,b,t){b instanceof or?(a.b=b,function(a,b){b&&!a.f&&(ar(a),a.c=null,a.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ur(this,e),lr(this,n,t))}),a)),a.f=b}(a.b,a.i)):(t||(b=Jn(b,rr)),a.b=new or(b,a.i))}function Hn(a,b,t){a.b.set(b,t)}function Wn(a,b){return a.b.get(b)}function Qn(a){return a instanceof Bn?new Bn(a):new Bn(a,void 0)}function Xn(a,b,t,e){var n=new Bn(null,void 0);return a&&Kn(n,a),b&&(n.a=b),t&&Gn(n,t),e&&(n.f=e),n}function Yn(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Jn(a,b,t){return"string"==typeof a?(a=encodeURI(a).replace(b,$n),t&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function $n(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}Bn.prototype.toString=function(){var a=[],b=this.c;b&&a.push(Jn(b,Zn,!0),":");var t=this.a;return(t||"file"==b)&&(a.push("//"),(b=this.l)&&a.push(Jn(b,Zn,!0),"@"),a.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.g)&&a.push(":",String(t))),(t=this.f)&&(this.a&&"/"!=t.charAt(0)&&a.push("/"),a.push(Jn(t,"/"==t.charAt(0)?nr:er,!0))),(t=this.b.toString())&&a.push("?",t),(t=this.h)&&a.push("#",Jn(t,ir)),a.join("")},Bn.prototype.resolve=function(a){var b=new Bn(this),t=!!a.c;t?Kn(b,a.c):t=!!a.l,t?b.l=a.l:t=!!a.a,t?b.a=a.a:t=null!=a.g;var e=a.f;if(t)Gn(b,a.g);else if(t=!!a.f){if("/"!=e.charAt(0))if(this.a&&!this.f)e="/"+e;else{var n=b.f.lastIndexOf("/");-1!=n&&(e=b.f.substr(0,n+1)+e)}if(".."==(n=e)||"."==n)e="";else if(gt(n,"./")||gt(n,"/.")){e=0==n.lastIndexOf("/",0),n=n.split("/");for(var r=[],g=0;g<n.length;){var o=n[g++];"."==o?e&&g==n.length&&r.push(""):".."==o?((1<r.length||1==r.length&&""!=r[0])&&r.pop(),e&&g==n.length&&r.push("")):(r.push(o),e=!0)}e=r.join("/")}else e=n}return t?b.f=e:t=""!==a.b.toString(),t?zn(b,fr(a.b)):t=!!a.h,t&&(b.h=a.h),b};var Zn=/[#\/\?@]/g,er=/[#\?:]/g,nr=/[#\?]/g,rr=/[#\?@]/g,ir=/#/g;function or(a,b){this.b=this.a=null,this.c=a||null,this.f=!!b}function ar(a){a.a||(a.a=new Fn,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var t=0;t<a.length;t++){var e=a[t].indexOf("="),n=null;if(0<=e){var r=a[t].substring(0,e);n=a[t].substring(e+1)}else r=a[t];b(r,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(a.c,(function(b,t){a.add(decodeURIComponent(b.replace(/\+/g," ")),t)})))}function sr(a){var b=Mn(a);if(void 0===b)throw Error("Keys are undefined");var t=new or(null,void 0);a=Rn(a);for(var e=0;e<b.length;e++){var n=b[e],r=a[e];Array.isArray(r)?lr(t,n,r):t.add(n,r)}return t}function ur(a,b){ar(a),b=dr(a,b),Un(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,Un((a=a.a).b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&Vn(a)))}function cr(a,b){return ar(a),b=dr(a,b),Un(a.a.b,b)}function lr(a,b,t){ur(a,b),0<t.length&&(a.c=null,a.a.set(dr(a,b),at(t)),a.b+=t.length)}function fr(a){var b=new or;return b.c=a.c,a.a&&(b.a=new Fn(a.a),b.b=a.b),b}function dr(a,b){return b=String(b),a.f&&(b=b.toLowerCase()),b}function pr(a){var b=[];return vr(new mr,a,b),b.join("")}function mr(){}function vr(a,b,t){if(null==b)t.push("null");else{if("object"==typeof b){if(Array.isArray(b)){var e=b;b=e.length,t.push("[");for(var n="",r=0;r<b;r++)t.push(n),vr(a,e[r],t),n=",";return void t.push("]")}if(!(b instanceof String||b instanceof Number||b instanceof Boolean)){for(e in t.push("{"),n="",b)Object.prototype.hasOwnProperty.call(b,e)&&("function"!=typeof(r=b[e])&&(t.push(n),wr(e,t),t.push(":"),vr(a,r,t),n=","));return void t.push("}")}b=b.valueOf()}switch(typeof b){case"string":wr(b,t);break;case"number":t.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case"boolean":t.push(String(b));break;case"function":t.push("null");break;default:throw Error("Unknown type: "+typeof b)}}}(n=or.prototype).add=function(a,b){ar(this),this.c=null,a=dr(this,a);var t=this.a.get(a);return t||this.a.set(a,t=[]),t.push(b),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(a,b){ar(this),this.a.forEach((function(t,e){J(t,(function(t){a.call(b,t,e,this)}),this)}),this)},n.Y=function(){ar(this);for(var a=this.a.W(),b=this.a.Y(),t=[],e=0;e<b.length;e++)for(var n=a[e],r=0;r<n.length;r++)t.push(b[e]);return t},n.W=function(a){ar(this);var b=[];if("string"==typeof a)cr(this,a)&&(b=ot(b,this.a.get(dr(this,a))));else{a=this.a.W();for(var t=0;t<a.length;t++)b=ot(b,a[t])}return b},n.set=function(a,b){return ar(this),this.c=null,cr(this,a=dr(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this},n.get=function(a,b){return a&&0<(a=this.W(a)).length?String(a[0]):b},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var a=[],b=this.a.Y(),t=0;t<b.length;t++){var e=b[t],n=encodeURIComponent(String(e));e=this.W(e);for(var r=0;r<e.length;r++){var g=n;""!==e[r]&&(g+="="+encodeURIComponent(String(e[r]))),a.push(g)}}return this.c=a.join("&")};var gr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},yr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function wr(a,b){b.push('"',a.replace(yr,(function(t){var e=gr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),gr[t]=e),e})),'"')}function Ir(){var a=qr();return re&&!!ve&&11==ve||/Edge\/\d+/.test(a)}function Er(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Tr(a,b){b=b||f.window;var t="about:blank";a&&(t=qt(zt(a)||Qt)),b.location.href=t}function Sr(a,b){var t,e=[];for(t in a)t in b?typeof a[t]!=typeof b[t]?e.push(t):"object"==typeof a[t]&&null!=a[t]&&null!=b[t]?0<Sr(a[t],b[t]).length&&e.push(t):a[t]!==b[t]&&e.push(t):e.push(t);for(t in b)t in a||e.push(t);return e}function _r(a){return!!((a=(a||qr()).toLowerCase()).match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/))}function Or(a){a=a||f.window;try{a.close()}catch(t){}}function kr(a,b,t){var e=Math.floor(1e9*Math.random()).toString();b=b||500,t=t||600;var n=(window.screen.availHeight-t)/2,r=(window.screen.availWidth-b)/2;for(g in b={width:b,height:t,top:0<n?n:0,left:0<r?r:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},t=qr().toLowerCase(),e&&(b.target=e,gt(t,"crios/")&&(b.target="_blank")),Fr(qr())==Rr&&(a=a||"http://localhost",b.scrollbars=!0),t=a||"",(a=b)||(a={}),e=window,b=t instanceof Ut?t:zt(void 0!==t.href?t.href:String(t))||Qt,t=a.target||t.target,n=[],a)switch(g){case"width":case"height":case"top":case"left":n.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:n.push(g+"="+(a[g]?1:0))}var g=n.join(",");if((It("iPhone")&&!It("iPod")&&!It("iPad")||It("iPad")||It("iPod"))&&e.navigator&&e.navigator.standalone&&t&&"_self"!=t?(kt(g=Se(document,"A"),"HTMLAnchorElement"),b=b instanceof Ut?b:Ht(b),g.href=qt(b),g.setAttribute("target",t),a.noreferrer&&g.setAttribute("rel","noreferrer"),(a=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,e,1),g.dispatchEvent(a),g={}):a.noreferrer?(g=Jt("",e,t,g),a=qt(b),g&&(oe&&gt(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),g.opener=null,a='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Zt(a)+'">',a=new Xt(a=(e=Pt())?e.createHTML(a):a,null,Yt),e=g.document)&&(e.write(function(a){return a instanceof Xt&&a.constructor===Xt?a.a:(K("expected object of type SafeHtml, got '"+a+"' of type "+w(a)),"type_error:SafeHtml")}(a)),e.close())):(g=Jt(b,e,t,g))&&a.noopener&&(g.opener=null),g)try{g.focus()}catch(t){}return g}var Ar=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cr=/^[^@]+@[^@]+$/;function Nr(){var a=null;return new Ne((function(b){"complete"==f.document.readyState?b():(a=function(){b()},wn(window,"load",a))})).o((function(b){throw In(window,"load",a),b}))}function xr(a){return a=a||qr(),!("file:"!==Hr()&&"ionic:"!==Hr()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dr(){var a=f.window;try{return!(!a||a==a.top)}catch(t){return!1}}function Pr(){return void 0!==f.WorkerGlobalScope&&"function"==typeof f.importScripts}function jr(){return e.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.a.INTERNAL.hasOwnProperty("node")?"Node":Pr()?"Worker":"Browser"}function Lr(){var a=jr();return"ReactNative"===a||"Node"===a}var Rr="Firefox",Mr="Chrome";function Fr(a){var b=a.toLowerCase();return gt(b,"opera/")||gt(b,"opr/")||gt(b,"opios/")?"Opera":gt(b,"iemobile")?"IEMobile":gt(b,"msie")||gt(b,"trident/")?"IE":gt(b,"edge/")?"Edge":gt(b,"firefox/")?Rr:gt(b,"silk/")?"Silk":gt(b,"blackberry")?"Blackberry":gt(b,"webos")?"Webos":!gt(b,"safari/")||gt(b,"chrome/")||gt(b,"crios/")||gt(b,"android")?!gt(b,"chrome/")&&!gt(b,"crios/")||gt(b,"edge/")?gt(b,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":Mr:"Safari"}var Vr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ur(a,b){b=b||[];var t,e=[],n={};for(t in Vr)n[Vr[t]]=!0;for(t=0;t<b.length;t++)void 0!==n[b[t]]&&(delete n[b[t]],e.push(b[t]));return e.sort(),(b=e).length||(b=["FirebaseCore-web"]),"Browser"===(e=jr())?e=Fr(n=qr()):"Worker"===e&&(e=Fr(n=qr())+"-"+e),e+"/JsCore/"+a+"/"+b.join(",")}function qr(){return f.navigator&&f.navigator.userAgent||""}function Br(a,b){a=a.split("."),b=b||f;for(var t=0;t<a.length&&"object"==typeof b&&null!=b;t++)b=b[a[t]];return t!=a.length&&(b=void 0),b}function Kr(){try{var a=f.localStorage,b=Jr();if(a)return a.setItem(b,"1"),a.removeItem(b),!Ir()||!!f.indexedDB}catch(t){return Pr()&&!!f.indexedDB}return!1}function Gr(){return(zr()||"chrome-extension:"===Hr()||xr())&&!Lr()&&Kr()&&!Pr()}function zr(){return"http:"===Hr()||"https:"===Hr()}function Hr(){return f.location&&f.location.protocol||null}function Wr(a){return!_r(a=a||qr())&&Fr(a)!=Rr}function Qr(a){return void 0===a?null:pr(a)}function Xr(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&null!==a[t]&&void 0!==a[t]&&(b[t]=a[t]);return b}function Yr(a){if(null!==a)return JSON.parse(a)}function Jr(a){return a||Math.floor(1e9*Math.random()).toString()}function $r(a){return"Safari"!=Fr(a=a||qr())&&!a.toLowerCase().match(/iphone|ipad|ipod/)}function Zr(){var a=f.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var t=0;t<a.CP.length;t++)a.CP[t]=null}function ti(a,b){if(a>b)throw Error("Short delay should be less than long delay!");this.a=a,this.c=b,a=qr(),b=jr(),this.b=_r(a)||"ReactNative"===b}function ei(){var a=f.document;return!a||void 0===a.visibilityState||"visible"==a.visibilityState}function ni(a){try{var b=new Date(parseInt(a,10));if(!isNaN(b.getTime())&&!/[^0-9]/.test(a))return b.toUTCString()}catch(t){}return null}function ri(){return!(!Br("fireauth.oauthhelper",f)&&!Br("fireauth.iframe",f))}ti.prototype.get=function(){var a=f.navigator;return!a||"boolean"!=typeof a.onLine||!zr()&&"chrome-extension:"!==Hr()&&void 0===a.connection||a.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var ii,oi={};function ai(a){oi[a]||(oi[a]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(a))}try{var si={};Object.defineProperty(si,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(si,"abcd",{configurable:!0,enumerable:!0,value:2}),ii=2==si.abcd}catch(a){ii=!1}function ui(a,b,t){ii?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:t}):a[b]=t}function ci(a,b){if(b)for(var t in b)b.hasOwnProperty(t)&&ui(a,t,b[t])}function hi(a){var b={};return ci(b,a),b}function fi(a){var b=a;if("object"==typeof a&&null!=a)for(var t in b="length"in a?[]:{},a)ui(b,t,fi(a[t]));return b}function di(a){var b=a&&(a[yi]?"phone":null);if(!(b&&a&&a[gi]))throw new P("internal-error","Internal assert: invalid MultiFactorInfo object");ui(this,"uid",a[gi]),ui(this,"displayName",a[mi]||null);var t=null;a[vi]&&(t=new Date(a[vi]).toUTCString()),ui(this,"enrollmentTime",t),ui(this,"factorId",b)}function pi(a){try{var b=new bi(a)}catch(t){b=null}return b}di.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var mi="displayName",vi="enrolledAt",gi="mfaEnrollmentId",yi="phoneInfo";function bi(a){di.call(this,a),ui(this,"phoneNumber",a[yi])}function wi(a){var b={},t=a[Si],e=a[Oi],n=a[ki];if(a=pi(a[_i]),!n||n!=Ei&&n!=Ti&&!t||n==Ti&&!e||n==Ii&&!a)throw Error("Invalid checkActionCode response!");n==Ti?(b[Ci]=t||null,b[xi]=t||null,b[Ai]=e):(b[Ci]=e||null,b[xi]=e||null,b[Ai]=t||null),b[Ni]=a||null,ui(this,Pi,n),ui(this,Di,fi(b))}x(bi,di),bi.prototype.w=function(){var a=bi.ab.w.call(this);return a.phoneNumber=this.phoneNumber,a};var Ii="REVERT_SECOND_FACTOR_ADDITION",Ei="EMAIL_SIGNIN",Ti="VERIFY_AND_CHANGE_EMAIL",Si="email",_i="mfaInfo",Oi="newEmail",ki="requestType",Ai="email",Ci="fromEmail",Ni="multiFactorInfo",xi="previousEmail",Di="data",Pi="operation";function ji(a){var b=Wn(a=Qn(a),Li)||null,t=Wn(a,Ri)||null,e=Wn(a,Vi)||null;if(e=e&&qi[e]||null,!b||!t||!e)throw new P("argument-error",Li+", "+Ri+"and "+Vi+" are required in a valid action code URL.");ci(this,{apiKey:b,operation:e,code:t,continueUrl:Wn(a,Mi)||null,languageCode:Wn(a,Fi)||null,tenantId:Wn(a,Ui)||null})}var Li="apiKey",Ri="oobCode",Mi="continueUrl",Fi="languageCode",Vi="mode",Ui="tenantId",qi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Ii,signIn:Ei,verifyAndChangeEmail:Ti,verifyEmail:"VERIFY_EMAIL"};function Bi(a){try{return new ji(a)}catch(t){return null}}function Ki(a){var b=a[Qi];if(void 0===b)throw new P("missing-continue-uri");if("string"!=typeof b||"string"==typeof b&&!b.length)throw new P("invalid-continue-uri");this.h=b,this.b=this.a=null,this.g=!1;var t=a[Gi];if(t&&"object"==typeof t){b=t[Ji];var e=t[Xi];if(t=t[Yi],"string"==typeof b&&b.length){if(this.a=b,void 0!==e&&"boolean"!=typeof e)throw new P("argument-error",Xi+" property must be a boolean when specified.");if(this.g=!!e,void 0!==t&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new P("argument-error",Yi+" property must be a non empty string when specified.");this.b=t||null}else{if(void 0!==b)throw new P("argument-error",Ji+" property must be a non empty string when specified.");if(void 0!==e||void 0!==t)throw new P("missing-android-pkg-name")}}else if(void 0!==t)throw new P("argument-error",Gi+" property must be a non null object when specified.");if(this.f=null,(b=a[Wi])&&"object"==typeof b){if("string"==typeof(b=b[$i])&&b.length)this.f=b;else if(void 0!==b)throw new P("argument-error",$i+" property must be a non empty string when specified.")}else if(void 0!==b)throw new P("argument-error",Wi+" property must be a non null object when specified.");if(void 0!==(b=a[Hi])&&"boolean"!=typeof b)throw new P("argument-error",Hi+" property must be a boolean when specified.");if(this.c=!!b,void 0!==(a=a[zi])&&("string"!=typeof a||"string"==typeof a&&!a.length))throw new P("argument-error",zi+" property must be a non empty string when specified.");this.i=a||null}var Gi="android",zi="dynamicLinkDomain",Hi="handleCodeInApp",Wi="iOS",Qi="url",Xi="installApp",Yi="minimumVersion",Ji="packageName",$i="bundleId";function Zi(a){var b={};for(var t in b.continueUrl=a.h,b.canHandleCodeInApp=a.c,(b.androidPackageName=a.a)&&(b.androidMinimumVersion=a.b,b.androidInstallApp=a.g),b.iOSBundleId=a.f,b.dynamicLinkDomain=a.i,b)null===b[t]&&delete b[t];return b}var to=null;function eo(a){var b=[];return function(a,b){function t(t){for(;e<a.length;){var p=a.charAt(e++),n=to[p];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(p))throw Error("Unknown base64 encoding at char: "+p)}return t}!function(){if(!to){to={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"],t=0;5>t;t++)for(var e=a.concat(b[t].split("")),n=0;n<e.length;n++){var r=e[n];void 0===to[r]&&(to[r]=n)}}}();for(var e=0;;){var n=t(-1),r=t(0),g=t(64),o=t(64);if(64===o&&-1===n)break;b(n<<2|r>>4),64!=g&&(b(r<<4&240|g>>2),64!=o&&b(g<<6&192|o))}}(a,(function(t){b.push(t)})),b}function no(a){var b=io(a);if(!(b&&b.sub&&b.iss&&b.aud&&b.exp))throw Error("Invalid JWT");this.h=a,this.a=b.exp,this.i=b.sub,a=Date.now()/1e3,this.g=b.iat||(a>this.a?this.a:a),this.b=b.provider_id||b.firebase&&b.firebase.sign_in_provider||null,this.f=b.firebase&&b.firebase.tenant||null,this.c=!!b.is_anonymous||"anonymous"==this.b}function ro(a){try{return new no(a)}catch(t){return null}}function io(a){if(!a)return null;if(3!=(a=a.split(".")).length)return null;for(var b=(4-(a=a[1]).length%4)%4,t=0;t<b;t++)a+=".";try{var e=eo(a);for(a=[],t=b=0;b<e.length;){var n=e[b++];if(128>n)a[t++]=String.fromCharCode(n);else if(191<n&&224>n){var r=e[b++];a[t++]=String.fromCharCode((31&n)<<6|63&r)}else if(239<n&&365>n){r=e[b++];var g=e[b++],o=((7&n)<<18|(63&r)<<12|(63&g)<<6|63&e[b++])-65536;a[t++]=String.fromCharCode(55296+(o>>10)),a[t++]=String.fromCharCode(56320+(1023&o))}else r=e[b++],g=e[b++],a[t++]=String.fromCharCode((15&n)<<12|(63&r)<<6|63&g)}return JSON.parse(a.join(""))}catch(t){}return null}no.prototype.T=function(){return this.f},no.prototype.l=function(){return this.c},no.prototype.toString=function(){return this.h};var oo="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ao=["client_id","response_type","scope","redirect_uri","state"],so={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:ao},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:ao},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:ao},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:oo},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function uo(a){for(var b in so)if(so[b].fa==a)return so[b];return null}function co(a){var b={};b["facebook.com"]=mo,b["google.com"]=go,b["github.com"]=vo,b["twitter.com"]=yo;var t=a&&a[ho];try{if(t)return b[t]?new b[t](a):new po(a);if(void 0!==a[lo])return new fo(a)}catch(t){}return null}var lo="idToken",ho="providerId";function fo(a){var b=a[ho];if(!b&&a[lo]){var t=ro(a[lo]);t&&t.b&&(b=t.b)}if(!b)throw Error("Invalid additional user info!");"anonymous"!=b&&"custom"!=b||(b=null),t=!1,void 0!==a.isNewUser?t=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(t=!0),ui(this,"providerId",b),ui(this,"isNewUser",t)}function po(a){fo.call(this,a),ui(this,"profile",fi((a=Yr(a.rawUserInfo||"{}"))||{}))}function mo(a){if(po.call(this,a),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function vo(a){if(po.call(this,a),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ui(this,"username",this.profile&&this.profile.login||null)}function go(a){if(po.call(this,a),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function yo(a){if(po.call(this,a),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ui(this,"username",a.screenName||null)}function bo(a){var b=Qn(a),t=Wn(b,"link"),e=Wn(Qn(t),"link");return b=Wn(b,"deep_link_id"),Wn(Qn(b),"link")||b||e||t||a}function wo(a,b){if(!a&&!b)throw new P("internal-error","Internal assert: no raw session string available");if(a&&b)throw new P("internal-error","Internal assert: unable to determine the session type");this.a=a||null,this.b=b||null,this.type=this.a?Io:Eo}x(po,fo),x(mo,po),x(vo,po),x(go,po),x(yo,po);var Io="enroll",Eo="signin";function To(){}function So(a,b){return a.then((function(t){if(t[ls]){var e=ro(t[ls]);if(!e||b!=e.i)throw new P("user-mismatch");return t}throw new P("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==R+"user-not-found"?new P("user-mismatch"):t}))}function _o(a,b){if(!b)throw new P("internal-error","failed to construct a credential");this.a=b,ui(this,"providerId",a),ui(this,"signInMethod",a)}function Oo(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function ko(a){if(a&&a.providerId&&a.signInMethod&&0==a.providerId.indexOf("saml.")&&a.pendingToken)try{return new _o(a.providerId,a.pendingToken)}catch(t){}return null}function Ao(a,b,t){if(this.a=null,b.idToken||b.accessToken)b.idToken&&ui(this,"idToken",b.idToken),b.accessToken&&ui(this,"accessToken",b.accessToken),b.nonce&&!b.pendingToken&&ui(this,"nonce",b.nonce),b.pendingToken&&(this.a=b.pendingToken);else{if(!b.oauthToken||!b.oauthTokenSecret)throw new P("internal-error","failed to construct a credential");ui(this,"accessToken",b.oauthToken),ui(this,"secret",b.oauthTokenSecret)}ui(this,"providerId",a),ui(this,"signInMethod",t)}function Co(a){var b={};return a.idToken&&(b.id_token=a.idToken),a.accessToken&&(b.access_token=a.accessToken),a.secret&&(b.oauth_token_secret=a.secret),b.providerId=a.providerId,a.nonce&&!a.a&&(b.nonce=a.nonce),b={postBody:sr(b).toString(),requestUri:"http://localhost"},a.a&&(delete b.postBody,b.pendingToken=a.a),b}function No(a){if(a&&a.providerId&&a.signInMethod){var b={idToken:a.oauthIdToken,accessToken:a.oauthTokenSecret?null:a.oauthAccessToken,oauthTokenSecret:a.oauthTokenSecret,oauthToken:a.oauthTokenSecret&&a.oauthAccessToken,nonce:a.nonce,pendingToken:a.pendingToken};try{return new Ao(a.providerId,b,a.signInMethod)}catch(t){}}return null}function xo(a,b){this.Qc=b||[],ci(this,{providerId:a,isOAuthProvider:!0}),this.Ib={},this.pb=(uo(a)||{}).Ja||null,this.ob=null}function Do(a){if("string"!=typeof a||0!=a.indexOf("saml."))throw new P("argument-error",'SAML provider IDs must be prefixed with "saml."');xo.call(this,a,[])}function Po(a){xo.call(this,a,ao),this.a=[]}function jo(){Po.call(this,"facebook.com")}function Lo(a){if(!a)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return T(a)&&(b=a.accessToken),(new jo).credential({accessToken:b})}function Ro(){Po.call(this,"github.com")}function Mo(a){if(!a)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return T(a)&&(b=a.accessToken),(new Ro).credential({accessToken:b})}function Fo(){Po.call(this,"google.com"),this.Ca("profile")}function Vo(a,b){var t=a;return T(a)&&(t=a.idToken,b=a.accessToken),(new Fo).credential({idToken:t,accessToken:b})}function Uo(){xo.call(this,"twitter.com",oo)}function qo(a,b){var t=a;if(T(t)||(t={oauthToken:a,oauthTokenSecret:b}),!t.oauthToken||!t.oauthTokenSecret)throw new P("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ao("twitter.com",t,"twitter.com")}function Bo(a,b,t){this.a=a,this.f=b,ui(this,"providerId","password"),ui(this,"signInMethod",t===Go.EMAIL_LINK_SIGN_IN_METHOD?Go.EMAIL_LINK_SIGN_IN_METHOD:Go.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ko(a){return a&&a.email&&a.password?new Bo(a.email,a.password,a.signInMethod):null}function Go(){ci(this,{providerId:"password",isOAuthProvider:!1})}function zo(a,b){if(!(b=Ho(b)))throw new P("argument-error","Invalid email link!");return new Bo(a,b.code,Go.EMAIL_LINK_SIGN_IN_METHOD)}function Ho(a){return(a=Bi(a=bo(a)))&&a.operation===Ei?a:null}function Wo(a){if(!(a.eb&&a.cb||a.La&&a.ea))throw new P("internal-error");this.a=a,ui(this,"providerId","phone"),this.fa="phone",ui(this,"signInMethod","phone")}function Qo(a){if(a&&"phone"===a.providerId&&(a.verificationId&&a.verificationCode||a.temporaryProof&&a.phoneNumber)){var b={};return J(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(t){a[t]&&(b[t]=a[t])})),new Wo(b)}return null}function Xo(a){return a.a.La&&a.a.ea?{temporaryProof:a.a.La,phoneNumber:a.a.ea}:{sessionInfo:a.a.eb,code:a.a.cb}}function Yo(a){try{this.a=a||e.a.auth()}catch(t){throw new P("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ci(this,{providerId:"phone",isOAuthProvider:!1})}function Jo(a,b){if(!a)throw new P("missing-verification-id");if(!b)throw new P("missing-verification-code");return new Wo({eb:a,cb:b})}function $o(a){if(a.temporaryProof&&a.phoneNumber)return new Wo({La:a.temporaryProof,ea:a.phoneNumber});var b=a&&a.providerId;if(!b||"password"===b)return null;var t=a&&a.oauthAccessToken,e=a&&a.oauthTokenSecret,n=a&&a.nonce,r=a&&a.oauthIdToken,g=a&&a.pendingToken;try{switch(b){case"google.com":return Vo(r,t);case"facebook.com":return Lo(t);case"github.com":return Mo(t);case"twitter.com":return qo(t,e);default:return t||e||r||g?g?0==b.indexOf("saml.")?new _o(b,g):new Ao(b,{pendingToken:g,idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},b):new Po(b).credential({idToken:r,accessToken:t,rawNonce:n}):null}}catch(t){return null}}function Zo(a){if(!a.isOAuthProvider)throw new P("invalid-oauth-provider")}function ta(a,b,t,e,n,r,g){if(this.c=a,this.b=b||null,this.g=t||null,this.f=e||null,this.i=r||null,this.h=g||null,this.a=n||null,!this.g&&!this.a)throw new P("invalid-auth-event");if(this.g&&this.a)throw new P("invalid-auth-event");if(this.g&&!this.f)throw new P("invalid-auth-event")}function th(a){return(a=a||{}).type?new ta(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&j(a.error),a.postBody,a.tenantId):null}function ea(){this.b=null,this.a=[]}wo.prototype.Ha=function(){return this.a?Me(this.a):Me(this.b)},wo.prototype.w=function(){return this.type==Io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},To.prototype.ka=function(){},To.prototype.b=function(){},To.prototype.c=function(){},To.prototype.w=function(){},_o.prototype.ka=function(a){return Ds(a,Oo(this))},_o.prototype.b=function(a,b){var t=Oo(this);return t.idToken=b,Ps(a,t)},_o.prototype.c=function(a,b){return So(js(a,Oo(this)),b)},_o.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Ao.prototype.ka=function(a){return Ds(a,Co(this))},Ao.prototype.b=function(a,b){var t=Co(this);return t.idToken=b,Ps(a,t)},Ao.prototype.c=function(a,b){return So(js(a,Co(this)),b)},Ao.prototype.w=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),this.nonce&&(a.nonce=this.nonce),this.a&&(a.pendingToken=this.a),a},xo.prototype.Ka=function(a){return this.Ib=St(a),this},x(Do,xo),x(Po,xo),Po.prototype.Ca=function(a){return et(this.a,a)||this.a.push(a),this},Po.prototype.Qb=function(){return at(this.a)},Po.prototype.credential=function(a,b){var t;if(!(t=T(a)?{idToken:a.idToken||null,accessToken:a.accessToken||null,nonce:a.rawNonce||null}:{idToken:a||null,accessToken:b||null}).idToken&&!t.accessToken)throw new P("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ao(this.providerId,t,this.providerId)},x(jo,Po),ui(jo,"PROVIDER_ID","facebook.com"),ui(jo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),x(Ro,Po),ui(Ro,"PROVIDER_ID","github.com"),ui(Ro,"GITHUB_SIGN_IN_METHOD","github.com"),x(Fo,Po),ui(Fo,"PROVIDER_ID","google.com"),ui(Fo,"GOOGLE_SIGN_IN_METHOD","google.com"),x(Uo,xo),ui(Uo,"PROVIDER_ID","twitter.com"),ui(Uo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Bo.prototype.ka=function(a){return this.signInMethod==Go.EMAIL_LINK_SIGN_IN_METHOD?mu(a,Bs,{email:this.a,oobCode:this.f}):mu(a,lu,{email:this.a,password:this.f})},Bo.prototype.b=function(a,b){return this.signInMethod==Go.EMAIL_LINK_SIGN_IN_METHOD?mu(a,Ks,{idToken:b,email:this.a,oobCode:this.f}):mu(a,nu,{idToken:b,email:this.a,password:this.f})},Bo.prototype.c=function(a,b){return So(this.ka(a),b)},Bo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ci(Go,{PROVIDER_ID:"password"}),ci(Go,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ci(Go,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Wo.prototype.ka=function(a){return a.fb(Xo(this))},Wo.prototype.b=function(a,b){var t=Xo(this);return t.idToken=b,mu(a,fu,t)},Wo.prototype.c=function(a,b){var t=Xo(this);return t.operation="REAUTH",So(a=mu(a,du,t),b)},Wo.prototype.w=function(){var a={providerId:"phone"};return this.a.eb&&(a.verificationId=this.a.eb),this.a.cb&&(a.verificationCode=this.a.cb),this.a.La&&(a.temporaryProof=this.a.La),this.a.ea&&(a.phoneNumber=this.a.ea),a},Yo.prototype.fb=function(a,b){var t=this.a.a;return Me(b.verify()).then((function(e){if("string"!=typeof e)throw new P("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(b.type){case"recaptcha":var n=T(a)?a.session:null,r=T(a)?a.phoneNumber:a;return(n&&n.type==Io?n.Ha().then((function(n){return function(a,b){return mu(a,iu,b).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(t,{idToken:n,phoneEnrollmentInfo:{phoneNumber:r,recaptchaToken:e}})})):n&&n.type==Eo?n.Ha().then((function(n){return function(a,b){return mu(a,ou,b).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(t,{mfaPendingCredential:n,mfaEnrollmentId:a.multiFactorHint&&a.multiFactorHint.uid||a.multiFactorUid,phoneSignInInfo:{recaptchaToken:e}})})):function(a,b){return mu(a,tu,b)}(t,{phoneNumber:r,recaptchaToken:e})).then((function(t){return"function"==typeof b.reset&&b.reset(),t}),(function(t){throw"function"==typeof b.reset&&b.reset(),t}));default:throw new P("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},ci(Yo,{PROVIDER_ID:"phone"}),ci(Yo,{PHONE_SIGN_IN_METHOD:"phone"}),ta.prototype.getUid=function(){var a=[];return a.push(this.c),this.b&&a.push(this.b),this.f&&a.push(this.f),this.h&&a.push(this.h),a.join("-")},ta.prototype.T=function(){return this.h},ta.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var na,ra=null;function ia(a){var b="unauthorized-domain",t=void 0,e=Qn(a);a=e.a,"chrome-extension"==(e=e.c)?t=$t("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==e||"https"==e?t=$t("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):b="operation-not-supported-in-this-environment",P.call(this,b,t)}function oa(a,b,t){P.call(this,a,t),(a=b||{}).Jb&&ui(this,"email",a.Jb),a.ea&&ui(this,"phoneNumber",a.ea),a.credential&&ui(this,"credential",a.credential),a.Zb&&ui(this,"tenantId",a.Zb)}function aa(a){if(a.code){var b=a.code||"";0==b.indexOf(R)&&(b=b.substring(R.length));var t={credential:$o(a),Zb:a.tenantId};if(a.email)t.Jb=a.email;else if(a.phoneNumber)t.ea=a.phoneNumber;else if(!t.credential)return new P(b,a.message||void 0);return new oa(b,t,a.message)}return null}function sa(){}function ua(a){return a.c||(a.c=a.b())}function ca(){}function la(a){if(!a.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<b.length;t++){var e=b[t];try{return new ActiveXObject(e),a.f=e}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return a.f}function ha(){}function fa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=q(this.qc,this),this.a.onerror=q(this.Sb,this),this.a.onprogress=q(this.rc,this),this.a.ontimeout=q(this.vc,this)}function da(a,b){a.readyState=b,a.onreadystatechange&&a.onreadystatechange()}function pa(a,b,t){this.reset(a,b,t,void 0,void 0)}x(ia,P),x(oa,P),oa.prototype.w=function(){var a={code:this.code,message:this.message};this.email&&(a.email=this.email),this.phoneNumber&&(a.phoneNumber=this.phoneNumber),this.tenantId&&(a.tenantId=this.tenantId);var b=this.credential&&this.credential.w();return b&&Ot(a,b),a},oa.prototype.toJSON=function(){return this.w()},sa.prototype.c=null,x(ca,sa),ca.prototype.a=function(){var a=la(this);return a?new ActiveXObject(a):new XMLHttpRequest},ca.prototype.b=function(){var a={};return la(this)&&(a[0]=!0,a[1]=!0),a},na=new ca,x(ha,sa),ha.prototype.a=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new fa;throw Error("Unsupported browser")},ha.prototype.b=function(){return{}},(n=fa.prototype).open=function(a,b,t){if(null!=t&&!t)throw Error("Only async requests are supported.");this.a.open(a,b)},n.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.a.send(a)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,da(this,4)},n.Sb=function(){this.status=500,this.response=this.responseText="",da(this,4)},n.vc=function(){this.Sb()},n.rc=function(){this.status=200,da(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},pa.prototype.a=null;function ma(a){this.f=a,this.b=this.c=this.a=null}function va(a,b){this.name=a,this.value=b}pa.prototype.reset=function(a,b,t,e,n){"number"==typeof n||0,e||N(),delete this.a},va.prototype.toString=function(){return this.name};var ga=new va("SEVERE",1e3),ya=new va("WARNING",900),ba=new va("CONFIG",700),wa=new va("FINE",500);function Ia(a){return a.c?a.c:a.a?Ia(a.a):(K("Root logger has no level set."),null)}ma.prototype.log=function(a,b,t){if(a.value>=Ia(this).value)for(E(b)&&(b=b()),a=new pa(a,String(b),this.f),t&&(a.a=t),t=this;t;)t=t.a};var Ea={},Ta=null;function Sa(a){var b;if(Ta||(Ta=new ma(""),Ea[""]=Ta,Ta.c=ba),!(b=Ea[a])){b=new ma(a);var t=a.lastIndexOf("."),e=a.substr(t+1);(t=Sa(a.substr(0,t))).b||(t.b={}),t.b[e]=b,b.a=t,Ea[a]=b}return b}function _a(a,b){a&&a.log(wa,b,void 0)}function Oa(a){this.f=a}function ka(a){Nn.call(this),this.u=a,this.h=void 0,this.readyState=Aa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Sa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}x(Oa,sa),Oa.prototype.a=function(){return new ka(this.f)},Oa.prototype.b=function(a){return function(){return a}}({}),x(ka,Nn);var Aa=0;function Ca(a){a.c.read().then(a.pc.bind(a)).catch(a.Ua.bind(a))}function Na(a){a.readyState=4,a.g=null,a.c=null,a.m=null,xa(a)}function xa(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function Da(a){Nn.call(this),this.headers=new Fn,this.D=a||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Pa,this.u=this.S=!1}(n=ka.prototype).open=function(a,b){if(this.readyState!=Aa)throw this.abort(),Error("Error reopening a connection");this.s=a,this.f=b,this.readyState=1,xa(this)},n.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var b={headers:this.l,method:this.s,credentials:this.h,cache:void 0};a&&(b.body=a),this.u.fetch(new Request(this.f,b)).then(this.uc.bind(this),this.Ua.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Na(this)),this.readyState=Aa},n.uc=function(a){this.a&&(this.g=a,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=a.headers,this.readyState=2,xa(this)),this.a&&(this.readyState=3,xa(this),this.a&&("arraybuffer"===this.responseType?a.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==f.ReadableStream&&"body"in a?(this.response=this.responseText="",this.c=a.body.getReader(),this.m=new TextDecoder,Ca(this)):a.text().then(this.tc.bind(this),this.Ua.bind(this)))))},n.pc=function(a){if(this.a){var b=this.m.decode(a.value?a.value:new Uint8Array(0),{stream:!a.done});b&&(this.response=this.responseText+=b),a.done?Na(this):xa(this),3==this.readyState&&Ca(this)}},n.tc=function(a){this.a&&(this.response=this.responseText=a,Na(this))},n.sc=function(a){this.a&&(this.response=a,Na(this))},n.Ua=function(a){var b=this.i;b&&b.log(ya,"Failed to fetch url "+this.f,a instanceof Error?a:Error(a)),this.a&&Na(this)},n.setRequestHeader=function(a,b){this.l.append(a,b)},n.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.i)&&a.log(ya,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var a=this.i;return a&&a.log(ya,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}a=[];for(var b=this.b.entries(),t=b.next();!t.done;)t=t.value,a.push(t[0]+": "+t[1]),t=b.next();return a.join("\r\n")},Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(a){this.h=a?"include":"same-origin"}}),x(Da,Nn);var Pa="";Da.prototype.b=Sa("goog.net.XhrIo");var ja=/^https?$/i,La=["POST","PUT"];function Ra(a,b,t,e,n){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.l+"; newUri="+b);t=t?t.toUpperCase():"GET",a.l=b,a.h="",a.R=t,a.J=!1,a.c=!0,a.a=a.D?a.D.a():na.a(),a.C=a.D?ua(a.D):ua(na),a.a.onreadystatechange=q(a.Vb,a);try{_a(a.b,Ga(a,"Opening Xhr")),a.O=!0,a.a.open(t,String(b),!0),a.O=!1}catch(t){return _a(a.b,Ga(a,"Error opening Xhr: "+t.message)),void Fa(a,t)}b=e||"";var r=new Fn(a.headers);n&&function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(I(a)||"string"==typeof a)J(a,b,void 0);else for(var t=Mn(a),e=Rn(a),n=e.length,r=0;r<n;r++)b.call(void 0,e[r],t&&t[r],a)}(n,(function(g,t){r.set(t,g)})),n=function(a){t:{for(var b=Ma,t=a.length,e="string"==typeof a?a.split(""):a,n=0;n<t;n++)if(n in e&&b.call(void 0,e[n],n,a)){b=n;break t}b=-1}return 0>b?null:"string"==typeof a?a.charAt(b):a[b]}(r.Y()),e=f.FormData&&b instanceof f.FormData,!et(La,t)||n||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(g,t){this.a.setRequestHeader(t,g)}),a),a.m&&(a.a.responseType=a.m),"withCredentials"in a.a&&a.a.withCredentials!==a.S&&(a.a.withCredentials=a.S);try{qa(a),0<a.g&&(a.u=function(a){return re&&pe(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(a.a),_a(a.b,Ga(a,"Will abort after "+a.g+"ms if incomplete, xhr2 "+a.u)),a.u?(a.a.timeout=a.g,a.a.ontimeout=q(a.Ma,a)):a.s=jn(a.Ma,a.g,a)),_a(a.b,Ga(a,"Sending request")),a.i=!0,a.a.send(b),a.i=!1}catch(t){_a(a.b,Ga(a,"Send error: "+t.message)),Fa(a,t)}}function Ma(a){return"content-type"==a.toLowerCase()}function Fa(a,b){a.c=!1,a.a&&(a.f=!0,a.a.abort(),a.f=!1),a.h=b,Va(a),Ua(a)}function Va(a){a.J||(a.J=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function li(a){if(a.c&&void 0!==h)if(a.C[1]&&4==Ba(a)&&2==Ka(a))_a(a.b,Ga(a,"Local request error detected and ignored"));else if(a.i&&4==Ba(a))jn(a.Vb,0,a);else if(a.dispatchEvent("readystatechange"),4==Ba(a)){_a(a.b,Ga(a,"Request complete")),a.c=!1;try{var t,b=Ka(a);t:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}if(!(t=e)){var n;if(n=0===b){var r=String(a.l).match(qn)[1]||null;if(!r&&f.self&&f.self.location){var g=f.self.location.protocol;r=g.substr(0,g.length-1)}n=!ja.test(r?r.toLowerCase():"")}t=n}if(t)a.dispatchEvent("complete"),a.dispatchEvent("success");else{try{var o=2<Ba(a)?a.a.statusText:""}catch(t){_a(a.b,"Can not get status: "+t.message),o=""}a.h=o+" ["+Ka(a)+"]",Va(a)}}finally{Ua(a)}}}function Ua(a,b){if(a.a){qa(a);var t=a.a,e=a.C[0]?y:null;a.a=null,a.C=null,b||a.dispatchEvent("ready");try{t.onreadystatechange=e}catch(t){(a=a.b)&&a.log(ga,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function qa(a){a.a&&a.u&&(a.a.ontimeout=null),a.s&&(f.clearTimeout(a.s),a.s=null)}function Ba(a){return a.a?a.a.readyState:0}function Ka(a){try{return 2<Ba(a)?a.a.status:-1}catch(t){return-1}}function Ga(a,b){return b+" ["+a.R+" "+a.l+" "+Ka(a)+"]"}function za(a){var b=ns;this.g=[],this.u=b,this.s=a||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ha(a,b,t){a.a=!0,a.c=t,a.f=!b,Ya(a)}function Wa(a){if(a.a){if(!a.v)throw new Ja(a);a.v=!1}}function Qa(a,b,t,e){a.g.push([b,t,e]),a.a&&Ya(a)}function Xa(a){return tt(a.g,(function(b){return E(b[1])}))}function Ya(a){if(a.h&&a.a&&Xa(a)){var b=a.h,t=ts[b];t&&(f.clearTimeout(t.a),delete ts[b]),a.h=0}a.b&&(a.b.l--,delete a.b),b=a.c;for(var e=t=!1;a.g.length&&!a.i;){var n=a.g.shift(),r=n[0],g=n[1];if(n=n[2],r=a.f?g:r)try{var o=r.call(n||a.s,b);void 0!==o&&(a.f=a.f&&(o==b||o instanceof Error),a.c=b=o),(U(b)||"function"==typeof f.Promise&&b instanceof f.Promise)&&(e=!0,a.i=!0)}catch(e){b=e,a.f=!0,Xa(a)||(t=!0)}}a.c=b,e&&(o=q(a.m,a,!0),e=q(a.m,a,!1),b instanceof za?(Qa(b,o,e),b.C=!0):b.then(o,e)),t&&(b=new Za(b),ts[b.a]=b,a.h=b.a)}function Ja(){u.call(this)}function $a(){u.call(this)}function Za(a){this.a=f.setTimeout(q(this.c,this),0),this.b=a}(n=Da.prototype).Ma=function(){void 0!==h&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",_a(this.b,Ga(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(_a(this.b,Ga(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ua(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ua(this,!0)),Da.ab.Da.call(this)},n.Vb=function(){this.xa||(this.O||this.i||this.f?li(this):this.Jc())},n.Jc=function(){li(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Pa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=this.b;return a&&a.log(ga,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return _a(this.b,"Can not get response: "+t.message),null}},za.prototype.cancel=function(a){if(this.a)this.c instanceof za&&this.c.cancel();else{if(this.b){var b=this.b;delete this.b,a?b.cancel(a):(b.l--,0>=b.l&&b.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(a=new $a(this),Wa(this),Ha(this,!1,a))}},za.prototype.m=function(a,b){this.i=!1,Ha(this,a,b)},za.prototype.then=function(a,b,t){var e,n,r=new Ne((function(g,t){e=g,n=t}));return Qa(this,e,(function(g){g instanceof $a?r.cancel():n(g)})),r.then(a,b,t)},za.prototype.$goog_Thenable=!0,x(Ja,u),Ja.prototype.message="Deferred has already fired",Ja.prototype.name="AlreadyCalledError",x($a,u),$a.prototype.message="Deferred was canceled",$a.prototype.name="CanceledError",Za.prototype.c=function(){throw delete ts[this.a],this.b};var ts={};function es(a){var b={},t=b.document||document,e=Lt(a).toString(),n=Se(document,"SCRIPT"),r={Wb:n,Ma:void 0},g=new za(r),o=null,c=null!=b.timeout?b.timeout:5e3;return 0<c&&(o=window.setTimeout((function(){rs(n,!0);var p=new as(os,"Timeout reached for loading script "+e);Wa(g),Ha(g,!1,p)}),c),r.Ma=o),n.onload=n.onreadystatechange=function(){n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(rs(n,b.xd||!1,o),Wa(g),Ha(g,!0,null))},n.onerror=function(){rs(n,!0,o);var p=new as(is,"Error while loading script "+e);Wa(g),Ha(g,!1,p)},Ot(r=b.attributes||{},{type:"text/javascript",charset:"UTF-8"}),be(n,r),function(a,b){kt(a,"HTMLScriptElement"),a.src=Lt(b),(b=a.ownerDocument&&a.ownerDocument.defaultView)&&b!=f?b=v(b.document):(null===m&&(m=v(f.document)),b=m),b&&a.setAttribute("nonce",b)}(n,a),function(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement}(t).appendChild(n),g}function ns(){if(this&&this.Wb){var a=this.Wb;a&&"SCRIPT"==a.tagName&&rs(a,!0,this.Ma)}}function rs(a,b,t){null!=t&&f.clearTimeout(t),a.onload=y,a.onerror=y,a.onreadystatechange=y,b&&window.setTimeout((function(){a&&a.parentNode&&a.parentNode.removeChild(a)}),0)}var is=0,os=1;function as(a,b){var t="Jsloader error (code #"+a+")";b&&(t+=": "+b),u.call(this,t),this.code=a}function ss(a){this.f=a}function us(a,b,t){if(this.c=a,a=b||{},this.l=a.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=a.secureTokenTimeout||hs,this.g=St(a.secureTokenHeaders||fs),this.h=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=a.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=a.firebaseTimeout||ds,this.a=St(a.firebaseHeaders||ps),t&&(this.a["X-Client-Version"]=t,this.g["X-Client-Version"]=t),t="Node"==jr(),!(t=f.XMLHttpRequest||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.XMLHttpRequest)&&!Pr())throw new P("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Pr()?this.f=new Oa(self):Lr()?this.f=new ss(t):this.f=new ha,this.b=null}x(as,u),x(ss,sa),ss.prototype.a=function(){return new this.f},ss.prototype.b=function(){return{}};var cs,ls="idToken",hs=new ti(3e4,6e4),fs={"Content-Type":"application/x-www-form-urlencoded"},ds=new ti(3e4,6e4),ps={"Content-Type":"application/json"};function ms(a,b){b?a.a["X-Firebase-Locale"]=b:delete a.a["X-Firebase-Locale"]}function vs(a,b){b&&(a.l=gs("https://securetoken.googleapis.com/v1/token",b),a.h=gs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",b),a.i=gs("https://identitytoolkit.googleapis.com/v2/",b))}function gs(a,b){return a=Qn(a),b=Qn(b.url),a.f=a.a+a.f,Kn(a,b.c),a.a=b.a,Gn(a,b.g),a.toString()}function ys(a,b){b?(a.a["X-Client-Version"]=b,a.g["X-Client-Version"]=b):(delete a.a["X-Client-Version"],delete a.g["X-Client-Version"])}function bs(a,b,t,e,n,r,g){(function(){var a=qr();return!((a=Fr(a)!=Mr?null:(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&30>a||re&&ve&&!(9<ve))})()||Pr()?a=q(a.u,a):(cs||(cs=new Ne((function(t,e){!function(a,b){if(((window.gapi||{}).client||{}).request)a();else{f[Is]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))},function(a,b){Qa(a,null,b,void 0)}(es(Rt(ws,{onload:Is})),(function(){b(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),a=q(a.s,a)),a(b,t,e,n,r,g)}us.prototype.T=function(){return this.b},us.prototype.u=function(a,b,t,e,n,r){if(Pr()&&(void 0===f.fetch||void 0===f.Headers||void 0===f.Request))throw new P("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var g=new Da(this.f);if(r){g.g=Math.max(0,r);var o=setTimeout((function(){g.dispatchEvent("timeout")}),r)}xn(g,"complete",(function(){o&&clearTimeout(o);var t=null;try{t=JSON.parse(function(a){try{return a.a?a.a.responseText:""}catch(t){return _a(a.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(e){t=null}b&&b(t)})),Dn(g,"ready",(function(){o&&clearTimeout(o),en(this)})),Dn(g,"timeout",(function(){o&&clearTimeout(o),en(this),b&&b(null)})),Ra(g,a,t,e,n)};var ws=new At(Dt,"https://apis.google.com/js/client.js?onload=%{onload}"),Is="__fcb"+Math.floor(1e6*Math.random()).toString();function Es(a,b,t,e,n,r,g){var o=Qn(b+t);Hn(o,"key",a.c),g&&Hn(o,"cb",N().toString());var c="GET"==e;if(c)for(var p in n)n.hasOwnProperty(p)&&Hn(o,p,n[p]);return new Ne((function(t,l){bs(a,o.toString(),(function(e){e?e.error?l(gu(e,r||{})):t(e):l(new P("network-request-failed"))}),e,c?void 0:pr(Xr(n)),a.a,a.v.get())}))}function Ts(a){if("string"!=typeof(a=a.email)||!Cr.test(a))throw new P("invalid-email")}function Ss(a){"email"in a&&Ts(a)}function _s(a){if(!a[ls]){if(a.mfaPendingCredential)throw new P("multi-factor-auth-required",null,St(a));throw new P("internal-error")}}function Os(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new P("internal-error")}else{if(!a.sessionInfo)throw new P("missing-verification-id");if(!a.code)throw new P("missing-verification-code")}}us.prototype.s=function(a,b,t,e,n){var r=this;cs.then((function(){window.gapi.client.setApiKey(r.c);var g=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:a,method:t,body:e,headers:n,authType:"none",callback:function(t){window.gapi.auth.setToken(g),b&&b(t)}})})).o((function(g){b&&b({error:{message:g&&g.message||"CORS_UNSUPPORTED"}})}))},us.prototype.zb=function(){return mu(this,ru,{})},us.prototype.Bb=function(a,b){return mu(this,eu,{idToken:a,email:b})},us.prototype.Cb=function(a,b){return mu(this,nu,{idToken:a,password:b})};var ks={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function As(a){if(!a.phoneVerificationInfo)throw new P("internal-error");if(!a.phoneVerificationInfo.sessionInfo)throw new P("missing-verification-id");if(!a.phoneVerificationInfo.code)throw new P("missing-verification-code")}function Cs(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new P("internal-error")}function Ns(a,b){return b.oauthIdToken&&b.providerId&&0==b.providerId.indexOf("oidc.")&&!b.pendingToken&&(a.sessionId?b.nonce=a.sessionId:a.postBody&&(cr(a=new or(a.postBody),"nonce")&&(b.nonce=a.get("nonce")))),b}function xs(a){var b=null;if(a.needConfirmation?(a.code="account-exists-with-different-credential",b=aa(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=aa(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",b=aa(a)):a.errorMessage&&(b=vu(a.errorMessage)),b)throw b;_s(a)}function Ds(a,b){return b.returnIdpCredential=!0,mu(a,au,b)}function Ps(a,b){return b.returnIdpCredential=!0,mu(a,uu,b)}function js(a,b){return b.returnIdpCredential=!0,b.autoCreate=!1,mu(a,su,b)}function Ls(a){if(!a.oobCode)throw new P("invalid-action-code")}(n=us.prototype).Db=function(a,b){var t={idToken:a},e=[];return Et(ks,(function(n,r){var g=b[r];null===g?e.push(n):r in b&&(t[r]=g)})),e.length&&(t.deleteAttribute=e),mu(this,eu,t)},n.vb=function(a,b){return Ot(a={requestType:"PASSWORD_RESET",email:a},b),mu(this,Ys,a)},n.wb=function(a,b){return Ot(a={requestType:"EMAIL_SIGNIN",email:a},b),mu(this,Ws,a)},n.ub=function(a,b){return Ot(a={requestType:"VERIFY_EMAIL",idToken:a},b),mu(this,Qs,a)},n.Eb=function(a,b,t){return Ot(a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:b},t),mu(this,Xs,a)},n.fb=function(a){return mu(this,hu,a)},n.nb=function(a,b){return mu(this,Zs,{oobCode:a,newPassword:b})},n.Ra=function(a){return mu(this,Ms,{oobCode:a})},n.jb=function(a){return mu(this,Rs,{oobCode:a})};var Rs={endpoint:"setAccountInfo",A:Ls,Z:"email",B:!0},Ms={endpoint:"resetPassword",A:Ls,G:function(a){var b=a.requestType;if(!b||!a.email&&"EMAIL_SIGNIN"!=b&&"VERIFY_AND_CHANGE_EMAIL"!=b)throw new P("internal-error")},B:!0},Fs={endpoint:"signupNewUser",A:function(a){if(Ts(a),!a.password)throw new P("weak-password")},G:_s,V:!0,B:!0},Vs={endpoint:"createAuthUri",B:!0},Us={endpoint:"deleteAccount",N:["idToken"]},qs={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(a){if(!Array.isArray(a.deleteProvider))throw new P("internal-error")}},Bs={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Ts,G:_s,V:!0,B:!0},Ks={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Ts,G:_s,V:!0},Gs={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:As,G:_s,B:!0,Na:!0},zs={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:As,G:_s,B:!0,Na:!0},Hs={endpoint:"getAccountInfo"},Ws={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new P("internal-error");Ts(a)},Z:"email",B:!0},Qs={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new P("internal-error")},Z:"email",B:!0},Xs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(a){if("VERIFY_AND_CHANGE_EMAIL"!=a.requestType)throw new P("internal-error")},Z:"email",B:!0},Ys={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(a){if("PASSWORD_RESET"!=a.requestType)throw new P("internal-error");Ts(a)},Z:"email",B:!0},Js={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},$s={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(a){if(!a.recaptchaSiteKey)throw new P("internal-error")}},Zs={endpoint:"resetPassword",A:Ls,Z:"email",B:!0},tu={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},eu={endpoint:"setAccountInfo",N:["idToken"],A:Ss,V:!0},nu={endpoint:"setAccountInfo",N:["idToken"],A:function(a){if(Ss(a),!a.password)throw new P("weak-password")},G:_s,V:!0},ru={endpoint:"signupNewUser",G:_s,V:!0,B:!0},iu={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(a){if(!a.phoneEnrollmentInfo)throw new P("internal-error");if(!a.phoneEnrollmentInfo.phoneNumber)throw new P("missing-phone-number");if(!a.phoneEnrollmentInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(a){if(!a.phoneSessionInfo||!a.phoneSessionInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},ou={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(a){if(!a.phoneSignInInfo||!a.phoneSignInInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(a){if(!a.phoneResponseInfo||!a.phoneResponseInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},au={endpoint:"verifyAssertion",A:Cs,Ya:Ns,G:xs,V:!0,B:!0},su={endpoint:"verifyAssertion",A:Cs,Ya:Ns,G:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new P("user-not-found");if(a.errorMessage)throw vu(a.errorMessage);_s(a)},V:!0,B:!0},uu={endpoint:"verifyAssertion",A:function(a){if(Cs(a),!a.idToken)throw new P("internal-error")},Ya:Ns,G:xs,V:!0},cu={endpoint:"verifyCustomToken",A:function(a){if(!a.token)throw new P("invalid-custom-token")},G:_s,V:!0,B:!0},lu={endpoint:"verifyPassword",A:function(a){if(Ts(a),!a.password)throw new P("wrong-password")},G:_s,V:!0,B:!0},hu={endpoint:"verifyPhoneNumber",A:Os,G:_s,B:!0},fu={endpoint:"verifyPhoneNumber",A:function(a){if(!a.idToken)throw new P("internal-error");Os(a)},G:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",aa(a);_s(a)}},du={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Os,G:_s,B:!0},pu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(a){if(!!a[ls]^!!a.refreshToken)throw new P("internal-error")},B:!0,Na:!0};function mu(a,b,t){if(!function(a,b){if(!b||!b.length)return!0;if(!a)return!1;for(var t=0;t<b.length;t++){var e=a[b[t]];if(null==e||""===e)return!1}return!0}(t,b.N))return Fe(new P("internal-error"));var e,n=!!b.Na,r=b.Ub||"POST";return Me(t).then(b.A).then((function(){return b.V&&(t.returnSecureToken=!0),b.B&&a.b&&void 0===t.tenantId&&(t.tenantId=a.b),Es(a,n?a.i:a.h,b.endpoint,r,t,b.Hb,b.lb||!1)})).then((function(g){return e=g,b.Ya?b.Ya(t,e):e})).then(b.G).then((function(){if(!b.Z)return e;if(!(b.Z in e))throw new P("internal-error");return e[b.Z]}))}function vu(a){return gu({error:{errors:[{message:a}],code:400,message:a}})}function gu(a,b){var t=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"",e={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(t=e[t]?new P(e[t]):null)return t;for(var n in t=a.error&&a.error.message||"",Ot(e={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},b||{}),b=(b=t.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<b.length?b[1]:void 0,e)if(0===t.indexOf(n))return new P(e[n],b);return!b&&a&&(b=Qr(a)),new P("internal-error",b)}function yu(a){this.b=a,this.a=null,this.rb=function(a){return(Eu||(Eu=new Ne((function(a,b){function t(){Zr(),Br("gapi.load")("gapi.iframes",{callback:a,ontimeout:function(){Zr(),b(Error("Network Error"))},timeout:wu.get()})}if(Br("gapi.iframes.Iframe"))a();else if(Br("gapi.load"))t();else{var e="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[e]=function(){Br("gapi.load")?t():b(Error("Network Error"))},Me(es(e=Rt(bu,{onload:e}))).o((function(){b(Error("Network Error"))}))}})).o((function(a){throw Eu=null,a})))).then((function(){return new Ne((function(b,t){Br("gapi.iframes.getContext")().open({where:document.body,url:a.b,messageHandlersFilter:Br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(e){function n(){clearTimeout(r),b()}a.a=e,a.a.restyle({setHideOnLeave:!1});var r=setTimeout((function(){t(Error("Network Error"))}),Iu.get());e.ping(n).then(n,(function(){t(Error("Network Error"))}))}))}))}))}(this)}var bu=new At(Dt,"https://apis.google.com/js/api.js?onload=%{onload}"),wu=new ti(3e4,6e4),Iu=new ti(5e3,15e3),Eu=null;function Tu(a,b,t,e){this.l=a,this.h=b,this.i=t,this.g=e,this.f=null,this.g?a=Xn((a=Qn(this.g.url)).c,a.a,a.g,"/emulator/auth/iframe"):a=Xn("https",this.l,null,"/__/auth/iframe"),this.a=a,Hn(this.a,"apiKey",this.h),Hn(this.a,"appName",this.i),this.b=null,this.c=[]}function Su(a,b,t,e,n,r){this.u=a,this.s=b,this.c=t,this.m=e,this.v=r,this.i=this.g=this.l=null,this.a=n,this.h=this.f=null}function _u(a){try{return e.a.app(a).auth().Ga()}catch(t){return[]}}function Ou(a,b,t,e,n,r){this.s=a,this.g=b,this.b=t,this.f=r,this.c=e||null,this.i=n||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ku(a){var b=Er();return function(a){return mu(a,Js,{}).then((function(b){return b.authorizedDomains||[]}))}(a).then((function(t){t:{var e=Qn(b),n=e.c;e=e.a;for(var r=0;r<t.length;r++){var g=t[r],o=e,c=n;if(0==g.indexOf("chrome-extension://")?o=Qn(g).a==o&&"chrome-extension"==c:"http"!=c&&"https"!=c?o=!1:Ar.test(g)?o=o==g:(g=g.split(".").join("\\."),o=new RegExp("^(.+\\."+g+"|"+g+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new ia(Er())}))}function Au(a){return a.m||(a.m=Nr().then((function(){if(!a.u){var b=a.c,t=a.i,e=_u(a.b),n=new Tu(a.s,a.g,a.b,a.f);n.f=b,n.b=t,n.c=at(e||[]),a.u=n.toString()}a.v=new yu(a.u),function(a){if(!a.v)throw Error("IfcHandler must be initialized!");!function(a,b){a.rb.then((function(){a.a.register("authEvent",b,Br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(a.v,(function(b){var t={};if(b&&b.authEvent){var e=!1;for(b=th(b.authEvent),t=0;t<a.h.length;t++)e=a.h[t](b)||e;return(t={}).status=e?"ACK":"ERROR",Me(t)}return t.status="ERROR",Me(t)}))}(a)}))),a.m}function Cu(a){return a.l||(a.C=a.c?Ur(a.c,_u(a.b)):null,a.l=new us(a.g,V(a.i),a.C),a.f&&vs(a.l,a.f)),a.l}function Nu(a,b,t,e,n,r,g,o,c,p,l,h){return(a=new Su(a,b,t,e,n,h)).l=r,a.g=g,a.i=o,a.b=St(c||null),a.f=p,a.yb(l).toString()}function xu(a){if(this.a=a||e.a.INTERNAL.reactNative&&e.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new P("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Du(a){this.b=a,this.a={},this.f=q(this.c,this)}Tu.prototype.toString=function(){return this.f?Hn(this.a,"v",this.f):ur(this.a.b,"v"),this.b?Hn(this.a,"eid",this.b):ur(this.a.b,"eid"),this.c.length?Hn(this.a,"fw",this.c.join(",")):ur(this.a.b,"fw"),this.a.toString()},Su.prototype.yb=function(a){return this.h=a,this},Su.prototype.toString=function(){if(this.v){var a=Qn(this.v.url);a=Xn(a.c,a.a,a.g,"/emulator/auth/handler")}else a=Xn("https",this.u,null,"/__/auth/handler");if(Hn(a,"apiKey",this.s),Hn(a,"appName",this.c),Hn(a,"authType",this.m),this.a.isOAuthProvider){var b=this.a;try{var t=e.a.app(this.c).auth().la()}catch(e){t=null}for(var n in b.ob=t,Hn(a,"providerId",this.a.providerId),b=Xr((t=this.a).Ib))b[n]=b[n].toString();n=t.Qc,b=St(b);for(var r=0;r<n.length;r++){var o=n[r];o in b&&delete b[o]}t.pb&&t.ob&&!b[t.pb]&&(b[t.pb]=t.ob),Tt(b)||Hn(a,"customParameters",Qr(b))}if("function"==typeof this.a.Qb&&((t=this.a.Qb()).length&&Hn(a,"scopes",t.join(","))),this.l?Hn(a,"redirectUrl",this.l):ur(a.b,"redirectUrl"),this.g?Hn(a,"eventId",this.g):ur(a.b,"eventId"),this.i?Hn(a,"v",this.i):ur(a.b,"v"),this.b)for(var g in this.b)this.b.hasOwnProperty(g)&&!Wn(a,g)&&Hn(a,g,this.b[g]);return this.h?Hn(a,"tid",this.h):ur(a.b,"tid"),this.f?Hn(a,"eid",this.f):ur(a.b,"eid"),(g=_u(this.c)).length&&Hn(a,"fw",g.join(",")),a.toString()},(n=Ou.prototype).Ob=function(a,b,t){var e=new P("popup-closed-by-user"),n=new P("web-storage-unsupported"),r=this,g=!1;return this.ma().then((function(){(function(a){var b={type:"webStorageSupport"};return Au(a).then((function(){return function(a,b){return a.rb.then((function(){return new Ne((function(t){a.a.send(b.type,b,t,Br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(a.v,b)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(r).then((function(t){t||(a&&Or(a),b(n),g=!0)}))})).o((function(){})).then((function(){if(!g)return function(a){return new Ne((function(b){return function t(){Ln(2e3).then((function(){if(a&&!a.closed)return t();b()}))}()}))}(a)})).then((function(){if(!g)return Ln(t).then((function(){b(e)}))}))},n.Xb=function(){var a=qr();return!Wr(a)&&!$r(a)},n.Tb=function(){return!1},n.Mb=function(a,b,t,e,n,r,g,o){if(!a)return Fe(new P("popup-blocked"));if(g&&!Wr())return this.ma().o((function(p){Or(a),n(p)})),e(),Me();this.a||(this.a=ku(Cu(this)));var c=this;return this.a.then((function(){var p=c.ma().o((function(t){throw Or(a),n(t),t}));return e(),p})).then((function(){(Zo(t),g)||Tr(Nu(c.s,c.g,c.b,b,t,null,r,c.c,void 0,c.i,o,c.f),a)})).o((function(p){throw"auth/network-request-failed"==p.code&&(c.a=null),p}))},n.Nb=function(a,b,t,e){this.a||(this.a=ku(Cu(this)));var n=this;return this.a.then((function(){Zo(b),Tr(Nu(n.s,n.g,n.b,a,b,Er(),t,n.c,void 0,n.i,e,n.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(n.a=null),t}))},n.ma=function(){var a=this;return Au(this).then((function(){return a.v.rb})).o((function(){throw a.a=null,new P("network-request-failed")}))},n.$b=function(){return!0},n.Ea=function(a){this.h.push(a)},n.Sa=function(a){it(this.h,(function(b){return b==a}))},(n=xu.prototype).get=function(a){return Me(this.a.getItem(a)).then((function(b){return b&&Yr(b)}))},n.set=function(a,b){return Me(this.a.setItem(a,Qr(b)))},n.U=function(a){return Me(this.a.removeItem(a))},n.ca=function(){},n.ia=function(){};var Pu,ju=[];function Lu(a,b,t){Tt(a.a)&&a.b.addEventListener("message",a.f),void 0===a.a[b]&&(a.a[b]=[]),a.a[b].push(t)}function Ru(a){this.a=a}function Mu(a){this.c=a,this.b=!1,this.a=[]}function Fu(a,b,t,e){var n,g,r,o,c=t||{},p=null;if(a.b)return Fe(Error("connection_unavailable"));var l=e?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ne((function(t,e){h?(n=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),r=setTimeout((function(){e(Error("unsupported_event"))}),l),p={messageChannel:h,onMessage:g=function(c){c.data.eventId===n&&("ack"===c.data.status?(clearTimeout(r),o=setTimeout((function(){e(Error("timeout"))}),3e3)):"done"===c.data.status?(clearTimeout(o),void 0!==c.data.response?t(c.data.response):e(Error("unknown_error"))):(clearTimeout(r),clearTimeout(o),e(Error("invalid_response"))))}},a.a.push(p),h.port1.addEventListener("message",g),a.c.postMessage({eventType:b,eventId:n,data:c},[h.port2])):e(Error("connection_unavailable"))})).then((function(t){return Vu(a,p),t})).o((function(t){throw Vu(a,p),t}))}function Vu(a,b){if(b){var t=b.messageChannel,e=b.onMessage;t&&(t.port1.removeEventListener("message",e),t.port1.close()),it(a.a,(function(t){return t==b}))}}function Uu(){if(!Gu())throw new P("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var a=this;Pr()&&self?(this.v=function(){var a=Pr()?self:null;if(J(ju,(function(t){t.b==a&&(b=t)})),!b){var b=new Du(a);ju.push(b)}return b}(),Lu(this.v,"keyChanged",(function(b,t){return Xu(a).then((function(e){return 0<e.length&&J(a.a,(function(t){t(e)})),{keyProcessed:et(e,t.key)}}))})),Lu(this.v,"ping",(function(){return Me(["keyChanged"])}))):function(){var a=f.navigator;return a&&a.serviceWorker?Me().then((function(){return a.serviceWorker.ready})).then((function(b){return b.active||null})).o((function(){return null})):Me(null)}().then((function(b){(a.h=b)&&(a.g=new Mu(new Ru(b)),Fu(a.g,"ping",null,!0).then((function(t){t[0].fulfilled&&et(t[0].value,"keyChanged")&&(a.s=!0)})).o((function(){})))}))}function qu(a){return new Ne((function(b,t){var e=a.m.open("firebaseLocalStorageDb",1);e.onerror=function(e){try{e.preventDefault()}catch(t){}t(Error(e.target.error))},e.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){t(e)}},e.onsuccess=function(e){(e=e.target.result).objectStoreNames.contains("firebaseLocalStorage")?b(e):function(a){return new Ne((function(b,t){var e=a.m.deleteDatabase("firebaseLocalStorageDb");e.onsuccess=function(){b()},e.onerror=function(e){t(Error(e.target.error))}}))}(a).then((function(){return qu(a)})).then((function(t){b(t)})).o((function(e){t(e)}))}}))}function Bu(a){return a.i||(a.i=qu(a)),a.i}function Ku(a,b){var t=0;return new Ne((function e(n,r){Bu(a).then(b).then(n).o((function(g){if(!(3<++t))return Bu(a).then((function(t){return t.close(),a.i=void 0,e(n,r)})).o((function(t){r(t)}));r(g)}))}))}function Gu(){try{return!!f.indexedDB}catch(t){return!1}}function zu(a){return a.objectStore("firebaseLocalStorage")}function Hu(a,b){return a.transaction(["firebaseLocalStorage"],b?"readwrite":"readonly")}function Wu(a){return new Ne((function(b,t){a.onsuccess=function(t){t&&t.target?b(t.target.result):b()},a.onerror=function(e){t(e.target.error)}}))}function Qu(a,b){return a.g&&a.h&&function(){var a=f.navigator;return a&&a.serviceWorker&&a.serviceWorker.controller||null}()===a.h?Fu(a.g,"keyChanged",{key:b},a.s).then((function(){})).o((function(){})):Me()}function Xu(a){return Bu(a).then((function(b){var t=zu(Hu(b,!1));return t.getAll?Wu(t.getAll()):new Ne((function(e,n){var r=[],g=t.openCursor();g.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},g.onerror=function(t){n(t.target.error)}}))})).then((function(b){var t={},e=[];if(0==a.b){for(e=0;e<b.length;e++)t[b[e].fbase_key]=b[e].value;e=Sr(a.c,t),a.c=t}return e}))}function Yu(a){a.l&&a.l.cancel("STOP_EVENT"),a.f&&(clearTimeout(a.f),a.f=null)}function Ju(a){var b=this,t=null;this.a=[],this.type="indexedDB",this.c=a,this.b=Me().then((function(){if(Gu()){var e=Jr(),n="__sak"+e;return Pu||(Pu=new Uu),(t=Pu).set(n,e).then((function(){return t.get(n)})).then((function(r){if(r!==e)throw Error("indexedDB not supported!");return t.U(n)})).then((function(){return t})).o((function(){return b.c}))}return b.c})).then((function(t){return b.type=t.type,t.ca((function(t){J(b.a,(function(e){e(t)}))})),t}))}function $u(){this.a={},this.type="inMemory"}function Zu(){if(!function(){var a="Node"==jr();if(!(a=tc()||a&&e.a.INTERNAL.node&&e.a.INTERNAL.node.localStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==jr())throw new P("internal-error","The LocalStorage compatibility library was not found.");throw new P("web-storage-unsupported")}this.a=tc()||e.a.INTERNAL.node.localStorage,this.type="localStorage"}function tc(){try{var a=f.localStorage,b=Jr();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function ec(){this.type="nullStorage"}function nc(){if(!function(){var a="Node"==jr();if(!(a=rc()||a&&e.a.INTERNAL.node&&e.a.INTERNAL.node.sessionStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==jr())throw new P("internal-error","The SessionStorage compatibility library was not found.");throw new P("web-storage-unsupported")}this.a=rc()||e.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function rc(){try{var a=f.sessionStorage,b=Jr();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(t){return null}}function ic(){var a={};a.Browser=sc,a.Node=uc,a.ReactNative=cc,a.Worker=lc,this.a=a[jr()]}Du.prototype.c=function(a){var b=a.data.eventType,t=a.data.eventId,e=this.a[b];if(e&&0<e.length){a.ports[0].postMessage({status:"ack",eventId:t,eventType:b,response:null});var n=[];J(e,(function(t){n.push(Me().then((function(){return t(a.origin,a.data.data)})))})),Ue(n).then((function(e){var g=[];J(e,(function(t){g.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),J(g,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),a.ports[0].postMessage({status:"done",eventId:t,eventType:b,response:g})}))}},Ru.prototype.postMessage=function(a,b){this.a.postMessage(a,b)},Mu.prototype.close=function(){for(;0<this.a.length;)Vu(this,this.a[0]);this.b=!0},(n=Uu.prototype).set=function(a,b){var t=this,e=!1;return Ku(this,(function(t){return Wu((t=zu(Hu(t,!0))).get(a))})).then((function(n){return Ku(t,(function(r){if(r=zu(Hu(r,!0)),n)return n.value=b,Wu(r.put(n));t.b++,e=!0;var g={};return g.fbase_key=a,g.value=b,Wu(r.add(g))}))})).then((function(){return t.c[a]=b,Qu(t,a)})).oa((function(){e&&t.b--}))},n.get=function(a){return Ku(this,(function(b){return Wu(zu(Hu(b,!1)).get(a))})).then((function(b){return b&&b.value}))},n.U=function(a){var b=this,t=!1;return Ku(this,(function(e){return t=!0,b.b++,Wu(zu(Hu(e,!0)).delete(a))})).then((function(){return delete b.c[a],Qu(b,a)})).oa((function(){t&&b.b--}))},n.ca=function(a){0==this.a.length&&function(a){function b(){a.f=setTimeout((function(){a.l=Xu(a).then((function(t){0<t.length&&J(a.a,(function(e){e(t)}))})).then((function(){b()})).o((function(t){"STOP_EVENT"!=t.message&&b()}))}),800)}Yu(a),b()}(this),this.a.push(a)},n.ia=function(a){it(this.a,(function(b){return b==a})),0==this.a.length&&Yu(this)},(n=Ju.prototype).get=function(a){return this.b.then((function(b){return b.get(a)}))},n.set=function(a,b){return this.b.then((function(t){return t.set(a,b)}))},n.U=function(a){return this.b.then((function(b){return b.U(a)}))},n.ca=function(a){this.a.push(a)},n.ia=function(a){it(this.a,(function(b){return b==a}))},(n=$u.prototype).get=function(a){return Me(this.a[a])},n.set=function(a,b){return this.a[a]=b,Me()},n.U=function(a){return delete this.a[a],Me()},n.ca=function(){},n.ia=function(){},(n=Zu.prototype).get=function(a){var b=this;return Me().then((function(){return Yr(b.a.getItem(a))}))},n.set=function(a,b){var t=this;return Me().then((function(){var e=Qr(b);null===e?t.U(a):t.a.setItem(a,e)}))},n.U=function(a){var b=this;return Me().then((function(){b.a.removeItem(a)}))},n.ca=function(a){f.window&&yn(f.window,"storage",a)},n.ia=function(a){f.window&&In(f.window,"storage",a)},(n=ec.prototype).get=function(){return Me(null)},n.set=function(){return Me()},n.U=function(){return Me()},n.ca=function(){},n.ia=function(){},(n=nc.prototype).get=function(a){var b=this;return Me().then((function(){return Yr(b.a.getItem(a))}))},n.set=function(a,b){var t=this;return Me().then((function(){var e=Qr(b);null===e?t.U(a):t.a.setItem(a,e)}))},n.U=function(a){var b=this;return Me().then((function(){b.a.removeItem(a)}))},n.ca=function(){},n.ia=function(){};var oc,ac,sc={F:Zu,bb:nc},uc={F:Zu,bb:nc},cc={F:xu,bb:ec},lc={F:Zu,bb:ec},hc={rd:"local",NONE:"none",td:"session"};function fc(){var a=!($r(qr())||!Dr()),b=Wr(),t=Kr();this.m=a,this.h=b,this.l=t,this.a={},oc||(oc=new ic),a=oc;try{this.g=!Ir()&&ri()||!f.indexedDB?new a.a.F:new Ju(Pr()?new $u:new a.a.F)}catch(t){this.g=new $u,this.h=!0}try{this.i=new a.a.bb}catch(t){this.i=new $u}this.v=new $u,this.f=q(this.Yb,this),this.b={}}function dc(){return ac||(ac=new fc),ac}function pc(a,b){switch(b){case"session":return a.i;case"none":return a.v;default:return a.g}}function mc(a,b){return"firebase:"+a.name+(b?":"+b:"")}function vc(a,b,t){return t=mc(b,t),"local"==b.F&&(a.b[t]=null),pc(a,b.F).U(t)}function gc(a){a.c&&(clearInterval(a.c),a.c=null)}function yc(a){this.a=a,this.b=dc()}(n=fc.prototype).get=function(a,b){return pc(this,a.F).get(mc(a,b))},n.set=function(a,b,t){var e=mc(a,t),n=this,r=pc(this,a.F);return r.set(e,b).then((function(){return r.get(e)})).then((function(g){"local"==a.F&&(n.b[e]=g)}))},n.addListener=function(a,b,t){a=mc(a,b),this.l&&(this.b[a]=f.localStorage.getItem(a)),Tt(this.a)&&(pc(this,"local").ca(this.f),this.h||(Ir()||!ri())&&f.indexedDB||!this.l||function(a){gc(a),a.c=setInterval((function(){for(var b in a.a){var t=f.localStorage.getItem(b),e=a.b[b];t!=e&&(a.b[b]=t,t=new un({type:"storage",key:b,target:window,oldValue:e,newValue:t,a:!0}),a.Yb(t))}}),1e3)}(this)),this.a[a]||(this.a[a]=[]),this.a[a].push(t)},n.removeListener=function(a,b,t){a=mc(a,b),this.a[a]&&(it(this.a[a],(function(e){return e==t})),0==this.a[a].length&&delete this.a[a]),Tt(this.a)&&(pc(this,"local").ia(this.f),gc(this))},n.Yb=function(a){if(a&&a.g){var b=a.a.key;if(null==b)for(var t in this.a){var e=this.b[t];void 0===e&&(e=null);var n=f.localStorage.getItem(t);n!==e&&(this.b[t]=n,this.mb(t))}else if(0==b.indexOf("firebase:")&&this.a[b]){if(void 0!==a.a.a?pc(this,"local").ia(this.f):gc(this),this.m)if(t=f.localStorage.getItem(b),(e=a.a.newValue)!==t)null!==e?f.localStorage.setItem(b,e):f.localStorage.removeItem(b);else if(this.b[b]===e&&void 0===a.a.a)return;var r=this;t=function(){void 0===a.a.a&&r.b[b]===f.localStorage.getItem(b)||(r.b[b]=f.localStorage.getItem(b),r.mb(b))},re&&ve&&10==ve&&f.localStorage.getItem(b)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(t,10):t()}}else J(a,q(this.mb,this))},n.mb=function(a){this.a[a]&&J(this.a[a],(function(b){b()}))};var bc,wc={name:"authEvent",F:"local"};function Ic(){this.a=dc()}function Ec(a,b){this.b=Tc,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=a,this.h=b,this.l=f.Int32Array?new Int32Array(64):Array(64),void 0===bc&&(bc=f.Int32Array?new Int32Array(Cc):Cc),this.reset()}x(Ec,(function(){this.b=-1}));for(var Tc=64,Sc=Tc-1,_c=[],Oc=0;Oc<Sc;Oc++)_c[Oc]=0;var kc=ot(128,_c);function ol(a){for(var b=a.f,t=a.l,e=0,n=0;n<b.length;)t[e++]=b[n]<<24|b[n+1]<<16|b[n+2]<<8|b[n+3],n=4*e;for(b=16;64>b;b++){n=0|t[b-15],e=0|t[b-2];var r=(0|t[b-16])+((n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3)|0,g=(0|t[b-7])+((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)|0;t[b]=r+g|0}e=0|a.a[0],n=0|a.a[1];var o=0|a.a[2],c=0|a.a[3],p=0|a.a[4],l=0|a.a[5],h=0|a.a[6];for(r=0|a.a[7],b=0;64>b;b++){var f=((e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10))+(e&n^e&o^n&o)|0;g=(r=r+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))|0)+((g=(g=p&l^~p&h)+(0|bc[b])|0)+(0|t[b])|0)|0,r=h,h=l,l=p,p=c+g|0,c=o,o=n,n=e,e=g+f|0}a.a[0]=a.a[0]+e|0,a.a[1]=a.a[1]+n|0,a.a[2]=a.a[2]+o|0,a.a[3]=a.a[3]+c|0,a.a[4]=a.a[4]+p|0,a.a[5]=a.a[5]+l|0,a.a[6]=a.a[6]+h|0,a.a[7]=a.a[7]+r|0}function Ac(a,b,t){void 0===t&&(t=b.length);var e=0,n=a.c;if("string"==typeof b)for(;e<t;)a.f[n++]=b.charCodeAt(e++),n==a.b&&(ol(a),n=0);else{if(!I(b))throw Error("message must be string or array");for(;e<t;){var r=b[e++];if(!("number"==typeof r&&0<=r&&255>=r&&r==(0|r)))throw Error("message must be a byte array");a.f[n++]=r,n==a.b&&(ol(a),n=0)}}a.c=n,a.g+=t}Ec.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):at(this.h)};var Cc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Nc(){Ec.call(this,8,xc)}x(Nc,Ec);var xc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Dc(a,b,t,e,n,r){this.v=a,this.i=b,this.l=t,this.m=e||null,this.u=n||null,this.s=r,this.h=b+":"+t,this.C=new Ic,this.g=new yc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Pc(a){return new P("invalid-cordova-configuration",a)}function jc(a){var b=new Nc;Ac(b,a),a=[];var t=8*b.g;56>b.c?Ac(b,kc,56-b.c):Ac(b,kc,b.b-(b.c-56));for(var e=63;56<=e;e--)b.f[e]=255&t,t/=256;for(ol(b),e=t=0;e<b.i;e++)for(var n=24;0<=n;n-=8)a[t++]=b.a[e]>>n&255;return function(a){return Z(a,(function(b){return 1<(b=b.toString(16)).length?b:"0"+b})).join("")}(a)}function Lc(a,b){for(var t=0;t<a.b.length;t++)try{a.b[t](b)}catch(t){}}function Rc(a){return a.f||(a.f=a.ma().then((function(){return new Ne((function(b){a.Ea((function t(e){return b(e),a.Sa(t),!1})),function(a){function b(g){e=!0,n&&n.cancel(),Mc(a).then((function(e){var n=t;if(e&&g&&g.url){var p=null;-1!=(n=bo(g.url)).indexOf("/__/auth/callback")&&(p=(p="object"==typeof(p=Yr(Wn(p=Qn(n),"firebaseError")||null))?j(p):null)?new ta(e.c,e.b,null,null,p,null,e.T()):new ta(e.c,e.b,n,e.f,null,null,e.T())),n=p||t}Lc(a,n)}))}var t=new ta("unknown",null,null,null,new P("no-auth-event")),e=!1,n=Ln(500).then((function(){return Mc(a).then((function(){e||Lc(a,t)}))})),r=f.handleOpenURL;f.handleOpenURL=function(g){if(0==g.toLowerCase().indexOf(Br("BuildInfo.packageName",f).toLowerCase()+"://")&&b({url:g}),"function"==typeof r)try{r(g)}catch(t){console.error(t)}},ra||(ra=new ea),function(a){var b=ra;b.a.push(a),b.b||(b.b=function(t){for(var e=0;e<b.a.length;e++)b.a[e](t)},"function"==typeof(a=Br("universalLinks.subscribe",f))&&a(null,b.b))}(b)}(a)}))}))),a.f}function Mc(a){var b=null;return function(a){return a.b.get(wc,a.a).then((function(b){return th(b)}))}(a.g).then((function(t){return b=t,vc((t=a.g).b,wc,t.a)})).then((function(){return b}))}function Fc(a){this.a=a,this.b=dc()}(n=Dc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(xr(void 0)?Nr().then((function(){return new Ne((function(a,b){var t=f.document,e=setTimeout((function(){b(Error("Cordova framework is not ready."))}),1e3);t.addEventListener("deviceready",(function(){clearTimeout(e),a()}),!1)}))})):Fe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Br("universalLinks.subscribe",f))throw Pc("cordova-universal-links-plugin-fix is not installed");if(void 0===Br("BuildInfo.packageName",f))throw Pc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Br("cordova.plugins.browsertab.openUrl",f))throw Pc("cordova-plugin-browsertab is not installed");if("function"!=typeof Br("cordova.InAppBrowser.open",f))throw Pc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new P("cordova-not-ready")}))},n.Ob=function(a,b){return b(new P("operation-not-supported-in-this-environment")),Me()},n.Mb=function(){return Fe(new P("operation-not-supported-in-this-environment"))},n.$b=function(){return!1},n.Xb=function(){return!0},n.Tb=function(){return!0},n.Nb=function(a,b,t,e){if(this.c)return Fe(new P("redirect-operation-pending"));var n=this,r=f.document,g=null,o=null,c=null,p=null;return this.c=Me().then((function(){return Zo(b),Rc(n)})).then((function(){return function(a,b,t,e,n){var r=function(){for(var a=20,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}(),g=new ta(b,e,null,r,new P("no-auth-event"),null,n),o=Br("BuildInfo.packageName",f);if("string"!=typeof o)throw new P("invalid-cordova-configuration");var c=Br("BuildInfo.displayName",f),p={};if(qr().toLowerCase().match(/iphone|ipad|ipod/))p.ibi=o;else{if(!qr().toLowerCase().match(/android/))return Fe(new P("operation-not-supported-in-this-environment"));p.apn=o}c&&(p.appDisplayName=c),r=jc(r),p.sessionId=r;var l=Nu(a.v,a.i,a.l,b,t,null,e,a.m,p,a.u,n,a.s);return a.ma().then((function(){var t=a.h;return a.C.a.set(wc,g.w(),t)})).then((function(){var t=Br("cordova.plugins.browsertab.isAvailable",f);if("function"!=typeof t)throw new P("invalid-cordova-configuration");var e=null;t((function(t){if(t){if("function"!=typeof(e=Br("cordova.plugins.browsertab.openUrl",f)))throw new P("invalid-cordova-configuration");e(l)}else{if("function"!=typeof(e=Br("cordova.InAppBrowser.open",f)))throw new P("invalid-cordova-configuration");t=qr(),a.a=e(l,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(n,a,b,t,e)})).then((function(){return new Ne((function(t,e){o=function(){var e=Br("cordova.plugins.browsertab.close",f);return t(),"function"==typeof e&&e(),n.a&&"function"==typeof n.a.close&&(n.a.close(),n.a=null),!1},n.Ea(o),c=function(){g||(g=Ln(2e3).then((function(){e(new P("redirect-cancelled-by-user"))})))},p=function(){ei()&&c()},r.addEventListener("resume",c,!1),qr().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",p,!1)})).o((function(t){return Mc(n).then((function(){throw t}))}))})).oa((function(){c&&r.removeEventListener("resume",c,!1),p&&r.removeEventListener("visibilitychange",p,!1),g&&g.cancel(),o&&n.Sa(o),n.c=null}))},n.Ea=function(a){this.b.push(a),Rc(this).o((function(b){"auth/invalid-cordova-configuration"===b.code&&(b=new ta("unknown",null,null,null,new P("no-auth-event")),a(b))}))},n.Sa=function(a){it(this.b,(function(b){return b==a}))};var Vc={name:"pendingRedirect",F:"session"};function Uc(a){return vc(a.b,Vc,a.a)}function qc(a,b,t,e){this.i={},this.u=0,this.D=a,this.v=b,this.m=t,this.J=e,this.h=[],this.f=!1,this.l=q(this.s,this),this.b=new nl,this.C=new cl,this.g=new Fc(tl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Bc(this.D,this.v,this.m,L,this.J)}function Bc(a,b,t,n,r){var o=e.a.SDK_VERSION||null;return xr()?new Dc(a,b,t,o,n,r):new Ou(a,b,t,o,n,r)}function Kc(a){a.f||(a.f=!0,a.a.Ea(a.l));var b=a.a;return a.a.ma().o((function(t){throw a.a==b&&a.reset(),t}))}function Gc(a){a.a.Xb()&&Kc(a).o((function(b){var t=new ta("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));Yc(b)&&a.s(t)})),a.a.Tb()||rl(a.b)}function zc(a,b){et(a.h,b)||a.h.push(b),a.f||function(a){return a.b.get(Vc,a.a).then((function(b){return"pending"==b}))}(a.g).then((function(t){t?Uc(a.g).then((function(){Kc(a).o((function(t){var e=new ta("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));Yc(t)&&a.s(e)}))})):Gc(a)})).o((function(){Gc(a)}))}function Hc(a,b){it(a.h,(function(t){return t==b}))}qc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Bc(this.D,this.v,this.m,null,this.J),this.i={}},qc.prototype.s=function(a){if(!a)throw new P("invalid-auth-event");if(6e5<=N()-this.u&&(this.i={},this.u=0),a&&a.getUid()&&this.i.hasOwnProperty(a.getUid()))return!1;for(var b=!1,t=0;t<this.h.length;t++){var e=this.h[t];if(e.Fb(a.c,a.b)){(b=this.c[a.c])&&(b.h(a,e),a&&(a.f||a.b)&&(this.i[a.getUid()]=!0,this.u=N())),b=!0;break}}return rl(this.b),b};var Wc=new ti(2e3,1e4),Qc=new ti(3e4,6e4);function Xc(a,b,t,e,n,r,g){return a.a.Mb(b,t,e,(function(){a.f||(a.f=!0,a.a.Ea(a.l))}),(function(){a.reset()}),n,r,g)}function Yc(a){return!(!a||"auth/cordova-not-ready"!=a.code)}function Jc(a,b,t,e,n){var r;return function(a){return a.b.set(Vc,"pending",a.a)}(a.g).then((function(){return a.a.Nb(b,t,e,n).o((function(g){if(Yc(g))throw new P("operation-not-supported-in-this-environment");return r=g,Uc(a.g).then((function(){throw r}))})).then((function(){return a.a.$b()?new Ne((function(){})):Uc(a.g).then((function(){return a.qa()})).then((function(){})).o((function(){}))}))}))}function $c(a,b,t,e,n){return a.a.Ob(e,(function(e){b.na(t,null,e,n)}),Wc.get())}qc.prototype.qa=function(){return this.b.qa()};var Zc={};function tl(a,b,t){return a=a+":"+b,t&&(a=a+":"+t.url),a}function el(a,b,t,e){var n=tl(b,t,e);return Zc[n]||(Zc[n]=new qc(a,b,t,e)),Zc[n]}function nl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function rl(a){a.g||(a.g=!0,sl(a,!1,null,null))}function il(a){a.g&&!a.i&&sl(a,!1,null,null)}function al(a,b){if(a.b=function(){return Me(b)},a.f.length)for(var t=0;t<a.f.length;t++)a.f[t](b)}function sl(a,b,t,e){b?e?function(a,b){if(a.b=function(){return Fe(b)},a.c.length)for(var t=0;t<a.c.length;t++)a.c[t](b)}(a,e):al(a,t):al(a,{user:null}),a.f=[],a.c=[]}function cl(){}function em(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(a){this.ib=a},enumerable:!1})}function ll(a,b){this.a=b,ui(this,"verificationId",a)}function hl(a,b,t,e){return new Yo(a).fb(b,t).then((function(t){return new ll(t,e)}))}function fl(a){var b=io(a);if(!(b&&b.exp&&b.auth_time&&b.iat))throw new P("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ci(this,{token:a,expirationTime:ni(1e3*b.exp),authTime:ni(1e3*b.auth_time),issuedAtTime:ni(1e3*b.iat),signInProvider:b.firebase&&b.firebase.sign_in_provider?b.firebase.sign_in_provider:null,signInSecondFactor:b.firebase&&b.firebase.sign_in_second_factor?b.firebase.sign_in_second_factor:null,claims:b})}function pl(a,b,t){var e=b&&b[vl];if(!e)throw new P("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=a,this.f=St(b),this.g=t,this.c=new wo(null,e),this.b=[];var n=this;J(b[ml]||[],(function(t){(t=pi(t))&&n.b.push(t)})),ui(this,"auth",this.a),ui(this,"session",this.c),ui(this,"hints",this.b)}nl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},nl.prototype.h=function(a,b){if(a){this.reset(),this.g=!0;var t=a.c,e=a.b,n=a.a&&"auth/web-storage-unsupported"==a.a.code,r=a.a&&"auth/operation-not-supported-in-this-environment"==a.a.code;this.i=!(!n&&!r),"unknown"!=t||n||r?a.a?(sl(this,!0,null,a.a),Me()):b.Fa(t,e)?function(a,b,t){t=t.Fa(b.c,b.b);var e=b.g,n=b.f,r=b.i,g=b.T(),o=!!b.c.match(/Redirect$/);t(e,n,g,r).then((function(t){sl(a,o,t,null)})).o((function(t){sl(a,o,null,t)}))}(this,a,b):Fe(new P("invalid-auth-event")):(sl(this,!1,null,null),Me())}else Fe(new P("invalid-auth-event"))},nl.prototype.qa=function(){var a=this;return new Ne((function(b,t){a.b?a.b().then(b,t):(a.f.push(b),a.c.push(t),function(a){var b=new P("timeout");a.a&&a.a.cancel(),a.a=Ln(Qc.get()).then((function(){a.b||(a.g=!0,sl(a,!0,null,b))}))}(a))}))},cl.prototype.h=function(a,b){if(a){var t=a.c,e=a.b;a.a?(b.na(a.c,null,a.a,a.b),Me()):b.Fa(t,e)?function(a,b){var t=a.b,e=a.c;b.Fa(e,t)(a.g,a.f,a.T(),a.i).then((function(n){b.na(e,n,null,t)})).o((function(n){b.na(e,null,n,t)}))}(a,b):Fe(new P("invalid-auth-event"))}else Fe(new P("invalid-auth-event"))},ll.prototype.confirm=function(a){return a=Jo(this.verificationId,a),this.a(a)};var ml="mfaInfo",vl="mfaPendingCredential";function gl(a,b,t,e){P.call(this,"multi-factor-auth-required",e,b),this.b=new pl(a,b,t),ui(this,"resolver",this.b)}function yl(a,b,t){if(a&&T(a.serverResponse)&&"auth/multi-factor-auth-required"===a.code)try{return new gl(b,a.serverResponse,t,a.message)}catch(t){}return null}function bl(){}function wl(a){ui(this,"factorId",a.fa),this.a=a}function Il(a){if(wl.call(this,a),this.a.fa!=Yo.PROVIDER_ID)throw new P("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function El(a,b){for(var t in sn.call(this,a),b)this[t]=b[t]}function Tl(a,b){this.a=a,this.b=[],this.c=q(this.yc,this),yn(this.a,"userReloaded",this.c);var t=[];b&&b.multiFactor&&b.multiFactor.enrolledFactors&&J(b.multiFactor.enrolledFactors,(function(e){var n=null,r={};if(e){e.uid&&(r[gi]=e.uid),e.displayName&&(r[mi]=e.displayName),e.enrollmentTime&&(r[vi]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[yi]=e.phoneNumber);try{n=new bi(r)}catch(t){}e=n}else e=null;e&&t.push(e)})),Sl(this,t)}function Sl(a,b){a.b=b,ui(a,"enrolledFactors",b)}function _l(a,b,t){if(this.h=a,this.i=b,this.g=t,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Ol(a,b){a.stop(),a.b=Ln(function(a,b){return b?(a.a=a.c,a.g()):(b=a.a,a.a*=2,a.a>a.f&&(a.a=a.f),b)}(a,b)).then((function(){return function(){var a=f.document,b=null;return ei()||!a?Me():new Ne((function(t){b=function(){ei()&&(a.removeEventListener("visibilitychange",b,!1),t())},a.addEventListener("visibilitychange",b,!1)})).o((function(t){throw a.removeEventListener("visibilitychange",b,!1),t}))}()})).then((function(){return a.h()})).then((function(){Ol(a,!0)})).o((function(t){a.i(t)&&Ol(a,!1)}))}function kl(a){this.f=a,this.b=this.a=null,this.c=Date.now()}function Al(a,b){void 0===b&&(a.b?b=(b=a.b).a-b.g:b=0),a.c=Date.now()+1e3*b}function Cl(a,b){a.b=ro(b[ls]||""),a.a=b.refreshToken,Al(a,void 0!==(b=b.expiresIn)?Number(b):void 0)}function Nl(a,b){return function(a,b){return new Ne((function(t,e){"refresh_token"==b.grant_type&&b.refresh_token||"authorization_code"==b.grant_type&&b.code?bs(a,a.l+"?key="+encodeURIComponent(a.c),(function(n){n?n.error?e(gu(n)):n.access_token&&n.refresh_token?t(n):e(new P("internal-error")):e(new P("network-request-failed"))}),"POST",sr(b).toString(),a.g,a.m.get()):e(new P("internal-error"))}))}(a.f,b).then((function(t){return a.b=ro(t.access_token),a.a=t.refresh_token,Al(a,t.expires_in),{accessToken:a.b.toString(),refreshToken:a.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(a.a=null),t}))}function xl(a,b){this.a=a||null,this.b=b||null,ci(this,{lastSignInTime:ni(b||null),creationTime:ni(a||null)})}function Dl(a,b,t,e,n,r){ci(this,{uid:a,displayName:e||null,photoURL:n||null,email:t||null,phoneNumber:r||null,providerId:b})}function Pl(a,b,t){this.J=[],this.l=a.apiKey,this.m=a.appName,this.s=a.authDomain||null;var n=e.a.SDK_VERSION?Ur(e.a.SDK_VERSION):null;this.a=new us(this.l,V(L),n),a.emulatorConfig&&vs(this.a,a.emulatorConfig),this.b=new kl(this.a),ql(this,b[ls]),Cl(this.b,b),ui(this,"refreshToken",this.b.a),Gl(this,t||{}),Nn.call(this),this.R=!1,this.s&&Gr()&&(this.i=el(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(a){return new _l((function(){return a.I(!0)}),(function(b){return!(!b||"auth/network-request-failed"!=b.code)}),(function(){var b=a.b.c-Date.now()-3e5;return 0<b?b:0}))}(this),this.aa=q(this.hb,this);var r=this;this.ya=null,this.Oa=function(t){r.wa(t.h)},this.ja=null,this.Aa=function(t){vs(r.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Rl(r,t.f)},this.ba=null,this.O=new Tl(this,t),ui(this,"multiFactor",this.O)}function jl(a,b){a.ja&&In(a.ja,"languageCodeChanged",a.Oa),(a.ja=b)&&yn(b,"languageCodeChanged",a.Oa)}function Ll(a,b){a.X&&In(a.X,"emulatorConfigChanged",a.Aa),(a.X=b)&&yn(b,"emulatorConfigChanged",a.Aa)}function Rl(a,b){a.$=b,ys(a.a,e.a.SDK_VERSION?Ur(e.a.SDK_VERSION,a.$):null)}function Ml(a,b){a.ba&&In(a.ba,"frameworkChanged",a.Ba),(a.ba=b)&&yn(b,"frameworkChanged",a.Ba)}function Fl(a){try{return e.a.app(a.m).auth()}catch(t){throw new P("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+a.m+"'!")}}function Vl(a){a.D||a.u.b||(a.u.start(),In(a,"tokenChanged",a.aa),yn(a,"tokenChanged",a.aa))}function Ul(a){In(a,"tokenChanged",a.aa),a.u.stop()}function ql(a,b){a.za=b,ui(a,"_lat",b)}function Bl(a){for(var b=[],t=0;t<a.S.length;t++)b.push(a.S[t](a));return Ue(b).then((function(){return a}))}function Kl(a){a.i&&!a.R&&(a.R=!0,zc(a.i,a))}function Gl(a,b){ci(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,isAnonymous:b.isAnonymous||!1,tenantId:b.tenantId||null,metadata:new xl(b.createdAt,b.lastLoginAt),providerData:[]}),a.a.b=a.tenantId}function zl(){}function Hl(a){return Me().then((function(){if(a.D)throw new P("app-deleted")}))}function Wl(a){return Z(a.providerData,(function(b){return b.providerId}))}function Ql(a,b){b&&(Xl(a,b.providerId),a.providerData.push(b))}function Xl(a,b){it(a.providerData,(function(t){return t.providerId==b}))}function Yl(a,b,t){("uid"!=b||t)&&a.hasOwnProperty(b)&&ui(a,b,t)}function Jl(a,b){a!=b&&(ci(a,{uid:b.uid,displayName:b.displayName,photoURL:b.photoURL,email:b.email,emailVerified:b.emailVerified,phoneNumber:b.phoneNumber,isAnonymous:b.isAnonymous,tenantId:b.tenantId,providerData:[]}),b.metadata?ui(a,"metadata",function(a){return new xl(a.a,a.b)}(b.metadata)):ui(a,"metadata",new xl),J(b.providerData,(function(t){Ql(a,t)})),function(a,b){a.b=b.b,a.a=b.a,a.c=b.c}(a.b,b.b),ui(a,"refreshToken",a.b.a),Sl(a.O,b.O.b))}function $l(a){return a.I().then((function(b){var t=a.isAnonymous;return function(a,b){return mu(a.a,Hs,{idToken:b}).then(q(a.Kc,a))}(a,b).then((function(){return t||Yl(a,"isAnonymous",!1),b}))}))}function Zl(a,b){b[ls]&&a.za!=b[ls]&&(Cl(a.b,b),a.dispatchEvent(new El("tokenChanged")),ql(a,b[ls]),Yl(a,"refreshToken",a.b.a))}function eh(a,b){return $l(a).then((function(){if(et(Wl(a),b))return Bl(a).then((function(){throw new P("provider-already-linked")}))}))}function nh(a,b,t){return hi({user:a,credential:$o(b),additionalUserInfo:b=co(b),operationType:t})}function rh(a,b){return Zl(a,b),a.reload().then((function(){return a}))}function ih(a,b,t,n,r){if(!Gr())return Fe(new P("operation-not-supported-in-this-environment"));if(a.h&&!r)return Fe(a.h);var o=uo(t.providerId),g=Jr(a.uid+":::"),c=null;(!Wr()||Dr())&&a.s&&t.isOAuthProvider&&(c=Nu(a.s,a.l,a.m,b,t,null,g,e.a.SDK_VERSION||null,null,null,a.tenantId));var l=kr(c,o&&o.ua,o&&o.ta);return n=n().then((function(){if(ah(a),!r)return a.I().then((function(){}))})).then((function(){return Xc(a.i,l,b,t,g,!!c,a.tenantId)})).then((function(){return new Ne((function(p,t){a.na(b,null,new P("cancelled-popup-request"),a.g||null),a.f=p,a.C=t,a.g=g,a.c=$c(a.i,a,b,l,g)}))})).then((function(p){return l&&Or(l),p?hi(p):null})).o((function(p){throw l&&Or(l),p})),sh(a,n,r)}function oh(a,b,t,e,n){if(!Gr())return Fe(new P("operation-not-supported-in-this-environment"));if(a.h&&!n)return Fe(a.h);var r=null,g=Jr(a.uid+":::");return e=e().then((function(){if(ah(a),!n)return a.I().then((function(){}))})).then((function(){return a.ga=g,Bl(a)})).then((function(t){return a.ha&&(t=(t=a.ha).b.set(lh,a.w(),t.a)),t})).then((function(){return Jc(a.i,b,t,g,a.tenantId)})).o((function(t){if(r=t,a.ha)return hh(a.ha);throw r})).then((function(){if(r)throw r})),sh(a,e,n)}function ah(a){if(!a.i||!a.R){if(a.i&&!a.R)throw new P("internal-error");throw new P("auth-domain-config-required")}}function sh(a,b,t){var e=function(a,b,t){return a.h&&!t?(b.cancel(),Fe(a.h)):b.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(a.h||a.dispatchEvent(new El("userInvalidated")),a.h=t),t}))}(a,b,t);return a.J.push(e),e.oa((function(){nt(a.J,e)})),e.o((function(t){var e=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(e=yl(t.w(),Fl(a),q(a.jc,a))),e||t}))}function uh(a){if(!a.apiKey)return null;var b={apiKey:a.apiKey,authDomain:a.authDomain,appName:a.appName,emulatorConfig:a.emulatorConfig},t={};if(!a.stsTokenManager||!a.stsTokenManager.accessToken)return null;t[ls]=a.stsTokenManager.accessToken,t.refreshToken=a.stsTokenManager.refreshToken||null;var e=a.stsTokenManager.expirationTime;e&&(t.expiresIn=(e-Date.now())/1e3);var n=new Pl(b,t,a);return a.providerData&&J(a.providerData,(function(t){t&&Ql(n,hi(t))})),a.redirectEventId&&(n.ga=a.redirectEventId),n}function ch(a){this.a=a,this.b=dc()}pl.prototype.Rc=function(a){var b=this;return a.sb(this.a.a,this.c).then((function(t){var e=St(b.f);return delete e[ml],delete e[vl],Ot(e,t),b.g(e)}))},x(gl,P),bl.prototype.sb=function(a,b,t){return b.type==Io?function(a,b,t,e){return t.Ha().then((function(t){return t={idToken:t},void 0!==e&&(t.displayName=e),Ot(t,{phoneVerificationInfo:Xo(a.a)}),mu(b,Gs,t)}))}(this,a,b,t):function(a,b,t){return t.Ha().then((function(t){return Ot(t={mfaPendingCredential:t},{phoneVerificationInfo:Xo(a.a)}),mu(b,zs,t)}))}(this,a,b)},x(wl,bl),x(Il,wl),x(El,sn),(n=Tl.prototype).yc=function(a){Sl(this,function(a){var b=[];return J(a.mfaInfo||[],(function(t){(t=pi(t))&&b.push(t)})),b}(a.hd))},n.Rb=function(){return this.a.I().then((function(a){return new wo(a,null)}))},n.fc=function(a,b){var t=this,e=this.a.a;return this.Rb().then((function(t){return a.sb(e,t,b)})).then((function(e){return Zl(t.a,e),t.a.reload()}))},n.bd=function(a){var b=this,t="string"==typeof a?a:a.uid,e=this.a.a;return this.a.I().then((function(n){return mu(e,pu,{idToken:n,mfaEnrollmentId:t})})).then((function(e){var n=$(b.b,(function(g){return g.uid!=t}));return Sl(b,n),Zl(b.a,e),b.a.reload().o((function(g){if("auth/user-token-expired"!=g.code)throw g}))}))},n.w=function(){return{multiFactor:{enrolledFactors:Z(this.b,(function(a){return a.w()}))}}},_l.prototype.start=function(){this.a=this.c,Ol(this,!0)},_l.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},kl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},kl.prototype.getToken=function(a){return a=!!a,this.b&&!this.a?Fe(new P("user-token-expired")):a||!this.b||Date.now()>this.c-3e4?this.a?Nl(this,{grant_type:"refresh_token",refresh_token:this.a}):Me(null):Me({accessToken:this.b.toString(),refreshToken:this.a})},xl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},x(Pl,Nn),Pl.prototype.wa=function(a){this.ya=a,ms(this.a,a)},Pl.prototype.la=function(){return this.ya},Pl.prototype.Ga=function(){return at(this.$)},Pl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},ui(Pl.prototype,"providerId","firebase"),(n=Pl.prototype).reload=function(){var a=this;return sh(this,Hl(this).then((function(){return $l(a).then((function(){return Bl(a)})).then(zl)})))},n.oc=function(a){return this.I(a).then((function(b){return new fl(b)}))},n.I=function(a){var b=this;return sh(this,Hl(this).then((function(){return b.b.getToken(a)})).then((function(t){if(!t)throw new P("internal-error");return t.accessToken!=b.za&&(ql(b,t.accessToken),b.dispatchEvent(new El("tokenChanged"))),Yl(b,"refreshToken",t.refreshToken),t.accessToken})))},n.Kc=function(a){if(!(a=a.users)||!a.length)throw new P("internal-error");Gl(this,{uid:(a=a[0]).localId,displayName:a.displayName,photoURL:a.photoUrl,email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt,tenantId:a.tenantId});for(var b=function(a){return(a=a.providerUserInfo)&&a.length?Z(a,(function(b){return new Dl(b.rawId,b.providerId,b.email,b.displayName,b.photoUrl,b.phoneNumber)})):[]}(a),t=0;t<b.length;t++)Ql(this,b[t]);Yl(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new El("userReloaded",{hd:a}))},n.Lc=function(a){return ai("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(a)},n.tb=function(a){var b=this,t=null;return sh(this,a.c(this.a,this.uid).then((function(e){return Zl(b,e),t=nh(b,e,"reauthenticate"),b.h=null,b.reload()})).then((function(){return t})),!0)},n.Cc=function(a){return ai("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(a)},n.qb=function(a){var b=this,t=null;return sh(this,eh(this,a.providerId).then((function(){return b.I()})).then((function(t){return a.b(b.a,t)})).then((function(e){return t=nh(b,e,"link"),rh(b,e)})).then((function(){return t})))},n.Dc=function(a,b){var t=this;return sh(this,eh(this,"phone").then((function(){return hl(Fl(t),a,b,q(t.qb,t))})))},n.Mc=function(a,b){var t=this;return sh(this,Me().then((function(){return hl(Fl(t),a,b,q(t.tb,t))})),!0)},n.Bb=function(a){var b=this;return sh(this,this.I().then((function(t){return b.a.Bb(t,a)})).then((function(t){return Zl(b,t),b.reload()})))},n.ed=function(a){var b=this;return sh(this,this.I().then((function(t){return a.b(b.a,t)})).then((function(t){return Zl(b,t),b.reload()})))},n.Cb=function(a){var b=this;return sh(this,this.I().then((function(t){return b.a.Cb(t,a)})).then((function(t){return Zl(b,t),b.reload()})))},n.Db=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return Hl(this);var b=this;return sh(this,this.I().then((function(t){return b.a.Db(t,{displayName:a.displayName,photoUrl:a.photoURL})})).then((function(t){return Zl(b,t),Yl(b,"displayName",t.displayName||null),Yl(b,"photoURL",t.photoUrl||null),J(b.providerData,(function(t){"password"===t.providerId&&(ui(t,"displayName",b.displayName),ui(t,"photoURL",b.photoURL))})),Bl(b)})).then(zl))},n.cd=function(a){var b=this;return sh(this,$l(this).then((function(t){return et(Wl(b),a)?function(a,b,t){return mu(a,qs,{idToken:b,deleteProvider:t})}(b.a,t,[a]).then((function(t){var e={};return J(t.providerUserInfo||[],(function(t){e[t.providerId]=!0})),J(Wl(b),(function(t){e[t]||Xl(b,t)})),e[Yo.PROVIDER_ID]||ui(b,"phoneNumber",null),Bl(b)})):Bl(b).then((function(){throw new P("no-such-provider")}))})))},n.delete=function(){var a=this;return sh(this,this.I().then((function(b){return mu(a.a,Us,{idToken:b})})).then((function(){a.dispatchEvent(new El("userDeleted"))}))).then((function(){for(var b=0;b<a.J.length;b++)a.J[b].cancel("app-deleted");jl(a,null),Ll(a,null),Ml(a,null),a.J=[],a.D=!0,Ul(a),ui(a,"refreshToken",null),a.i&&Hc(a.i,a)}))},n.Fb=function(a,b){return!!("linkViaPopup"==a&&(this.g||null)==b&&this.f||"reauthViaPopup"==a&&(this.g||null)==b&&this.f||"linkViaRedirect"==a&&(this.ga||null)==b||"reauthViaRedirect"==a&&(this.ga||null)==b)},n.na=function(a,b,t,e){"linkViaPopup"!=a&&"reauthViaPopup"!=a||e!=(this.g||null)||(t&&this.C?this.C(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(a,b){return"linkViaPopup"==a&&b==(this.g||null)?q(this.Kb,this):"reauthViaPopup"==a&&b==(this.g||null)?q(this.Lb,this):"linkViaRedirect"==a&&(this.ga||null)==b?q(this.Kb,this):"reauthViaRedirect"==a&&(this.ga||null)==b?q(this.Lb,this):null},n.Ec=function(a){var b=this;return ih(this,"linkViaPopup",a,(function(){return eh(b,a.providerId).then((function(){return Bl(b)}))}),!1)},n.Nc=function(a){return ih(this,"reauthViaPopup",a,(function(){return Me()}),!0)},n.Fc=function(a){var b=this;return oh(this,"linkViaRedirect",a,(function(){return eh(b,a.providerId)}),!1)},n.Oc=function(a){return oh(this,"reauthViaRedirect",a,(function(){return Me()}),!0)},n.Kb=function(a,b,t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return sh(this,this.I().then((function(g){return Ps(n.a,{requestUri:a,postBody:e,sessionId:b,idToken:g})})).then((function(g){return r=nh(n,g,"link"),rh(n,g)})).then((function(){return r})))},n.Lb=function(a,b,t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return sh(this,Me().then((function(){return So(js(n.a,{requestUri:a,sessionId:b,postBody:e,tenantId:t}),n.uid)})).then((function(t){return r=nh(n,t,"reauthenticate"),Zl(n,t),n.h=null,n.reload()})).then((function(){return r})),!0)},n.ub=function(a){var b=this,t=null;return sh(this,this.I().then((function(e){return t=e,void 0===a||Tt(a)?{}:Zi(new Ki(a))})).then((function(e){return b.a.ub(t,e)})).then((function(t){if(b.email!=t)return b.reload()})).then((function(){})))},n.Eb=function(a,b){var t=this,e=null;return sh(this,this.I().then((function(t){return e=t,void 0===b||Tt(b)?{}:Zi(new Ki(b))})).then((function(n){return t.a.Eb(e,a,n)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},n.jc=function(a){var b=null,t=this;return sh(this,a=So(Me(a),t.uid).then((function(e){return b=nh(t,e,"reauthenticate"),Zl(t,e),t.h=null,t.reload()})).then((function(){return b})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Ot(a,this.metadata.w()),J(this.providerData,(function(b){a.providerData.push(function(a){var t,b={};for(t in a)a.hasOwnProperty(t)&&(b[t]=a[t]);return b}(b))})),Ot(a,this.O.w()),a};var lh={name:"redirectUser",F:"session"};function hh(a){return vc(a.b,lh,a.a)}function fh(a){this.a=a,this.b=dc(),this.c=null,this.f=function(a){var b=mh("local"),t=mh("session"),e=mh("none");return function(a,b,t){var e=mc(b,t),n=pc(a,b.F);return a.get(b,t).then((function(r){var g=null;try{g=Yr(f.localStorage.getItem(e))}catch(t){}if(g&&!r)return f.localStorage.removeItem(e),a.set(b,g,t);g&&r&&"localStorage"!=n.type&&f.localStorage.removeItem(e)}))}(a.b,b,a.a).then((function(){return a.b.get(t,a.a)})).then((function(n){return n?t:a.b.get(e,a.a).then((function(t){return t?e:a.b.get(b,a.a).then((function(g){return g?b:a.b.get(ph,a.a).then((function(t){return t?mh(t):b}))}))}))})).then((function(t){return a.c=t,dh(a,t.F)})).o((function(){a.c||(a.c=b)}))}(this),this.b.addListener(mh("local"),this.a,q(this.g,this))}function dh(a,b){var t,e=[];for(t in hc)hc[t]!==b&&e.push(vc(a.b,mh(hc[t]),a.a));return e.push(vc(a.b,ph,a.a)),function(a){return new Ne((function(b,t){var e=a.length,n=[];if(e)for(var r=function(p,t){e--,n[p]=t,0==e&&b(n)},g=function(p){t(p)},o=0;o<a.length;o++)Ve(a[o],C(r,o),g);else b(n)}))}(e)}fh.prototype.g=function(){var a=this,b=mh("local");bh(this,(function(){return Me().then((function(){return a.c&&"local"!=a.c.F?a.b.get(b,a.a):null})).then((function(t){if(t)return dh(a,"local").then((function(){a.c=b}))}))}))};var ph={name:"persistence",F:"session"};function mh(a){return{name:"authUser",F:a}}function vh(a,b){return bh(a,(function(){return a.b.set(a.c,b.w(),a.a)}))}function gh(a){return bh(a,(function(){return vc(a.b,a.c,a.a)}))}function yh(a,b,t){return bh(a,(function(){return a.b.get(a.c,a.a).then((function(e){return e&&b&&(e.authDomain=b),e&&t&&(e.emulatorConfig=t),uh(e||{})}))}))}function bh(a,b){return a.f=a.f.then(b,b),a.f}function wh(a){if(this.l=!1,ui(this,"settings",new em),ui(this,"app",a),!Ch(this).options||!Ch(this).options.apiKey)throw new P("invalid-api-key");a=e.a.SDK_VERSION?Ur(e.a.SDK_VERSION):null,this.a=new us(Ch(this).options&&Ch(this).options.apiKey,V(L),a),this.R=[],this.s=[],this.O=[],this.hb=e.a.INTERNAL.createSubscribe(q(this.zc,this)),this.X=void 0,this.bc=e.a.INTERNAL.createSubscribe(q(this.Ac,this)),kh(this,null),this.i=new fh(Ch(this).options.apiKey+":"+Ch(this).name),this.D=new ch(Ch(this).options.apiKey+":"+Ch(this).name),this.$=Ph(this,function(a){var b=Ch(a).options.authDomain,t=function(a){var b=function(a,b){return a.b.get(lh,a.a).then((function(t){return t&&b&&(t.authDomain=b),uh(t||{})}))}(a.D,Ch(a).options.authDomain).then((function(t){return(a.m=t)&&(t.ha=a.D),hh(a.D)}));return Ph(a,b)}(a).then((function(){return yh(a.i,b,a.P)})).then((function(t){return t?(t.ha=a.D,a.m&&(a.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return vh(a.i,t).then((function(){return t}))})).o((function(e){return"auth/network-request-failed"==e.code?t:gh(a.i)}))):null})).then((function(t){kh(a,t||null)}));return Ph(a,t)}(this)),this.h=Ph(this,function(a){return a.$.then((function(){return _h(a)})).o((function(){})).then((function(){if(!a.l)return a.ja()})).o((function(){})).then((function(){if(!a.l){a.ba=!0;var b=a.i;b.b.addListener(mh("local"),b.a,a.ja)}}))}(this)),this.ba=!1,this.ja=q(this.Zc,this),this.Ba=q(this.da,this),this.ya=q(this.mc,this),this.za=q(this.wc,this),this.Aa=q(this.xc,this),this.b=null,function(a){var b=Ch(a).options.authDomain,t=Ch(a).options.apiKey;b&&Gr()&&(a.Oa=a.$.then((function(){if(!a.l){if(a.b=el(b,t,Ch(a).name,a.P),zc(a.b,a),Nh(a)&&Kl(Nh(a)),a.m){Kl(a.m);var e=a.m;e.wa(a.la()),jl(e,a),Rl(e=a.m,a.J),Ml(e,a),vs((e=a.m).a,a.P),Ll(e,a),a.m=null}return a.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=q(this.delete,this),this.INTERNAL.logFramework=q(this.Gc,this),this.u=0,Nn.call(this),function(a){Object.defineProperty(a,"lc",{get:function(){return this.la()},set:function(b){this.wa(b)},enumerable:!1}),a.aa=null,Object.defineProperty(a,"ti",{get:function(){return this.T()},set:function(b){this.yb(b)},enumerable:!1}),a.S=null,Object.defineProperty(a,"emulatorConfig",{get:function(){if(this.P){var b=Qn(this.P.url);b=hi({protocol:b.c,host:b.a,port:b.g,options:hi({disableWarnings:this.P.ec})})}else b=null;return b},enumerable:!1})}(this),this.J=[],this.P=null}function Ih(a){sn.call(this,"languageCodeChanged"),this.h=a}function Eh(a){sn.call(this,"emulatorConfigChanged"),this.c=a}function Th(a){sn.call(this,"frameworkChanged"),this.f=a}function Sh(a){return a.Oa||Fe(new P("auth-domain-config-required"))}function _h(a){if(!Gr())return Fe(new P("operation-not-supported-in-this-environment"));var b=Sh(a).then((function(){return a.b.qa()})).then((function(t){return t?hi(t):null}));return Ph(a,b)}function Oh(a,b){var t={};return t.apiKey=Ch(a).options.apiKey,t.authDomain=Ch(a).options.authDomain,t.appName=Ch(a).name,a.P&&(t.emulatorConfig=a.P),a.$.then((function(){return function(a,b,t,e){var n=new Pl(a,b);return t&&(n.ha=t),e&&Rl(n,e),n.reload().then((function(){return n}))}(t,b,a.D,a.Ga())})).then((function(t){return Nh(a)&&t.uid==Nh(a).uid?(Jl(Nh(a),t),a.da(t)):(kh(a,t),Kl(t),a.da(t))})).then((function(){Dh(a)}))}function kh(a,b){Nh(a)&&(function(a,b){it(a.S,(function(t){return t==b}))}(Nh(a),a.Ba),In(Nh(a),"tokenChanged",a.ya),In(Nh(a),"userDeleted",a.za),In(Nh(a),"userInvalidated",a.Aa),Ul(Nh(a))),b&&(b.S.push(a.Ba),yn(b,"tokenChanged",a.ya),yn(b,"userDeleted",a.za),yn(b,"userInvalidated",a.Aa),0<a.u&&Vl(b)),ui(a,"currentUser",b),b&&(b.wa(a.la()),jl(b,a),Rl(b,a.J),Ml(b,a),vs(b.a,a.P),Ll(b,a))}function Ah(a,b){var t=null,e=null;return Ph(a,b.then((function(n){return t=$o(n),e=co(n),Oh(a,n)}),(function(t){var e=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(e=yl(t.w(),a,q(a.kc,a))),e||t})).then((function(){return hi({user:Nh(a),credential:t,additionalUserInfo:e,operationType:"signIn"})})))}function Ch(a){return a.app}function Nh(a){return a.currentUser}function xh(a){return Nh(a)&&Nh(a)._lat||null}function Dh(a){if(a.ba){for(var b=0;b<a.s.length;b++)a.s[b]&&a.s[b](xh(a));if(a.X!==a.getUid()&&a.O.length)for(a.X=a.getUid(),b=0;b<a.O.length;b++)a.O[b]&&a.O[b](xh(a))}}function Ph(a,b){return a.R.push(b),b.oa((function(){nt(a.R,b)})),b}function jh(){}function Lh(){this.a={},this.b=1e12}fh.prototype.xb=function(a){var b=null,t=this;return function(a){var b=new P("invalid-persistence-type"),t=new P("unsupported-persistence-type");t:{for(e in hc)if(hc[e]==a){var e=!0;break t}e=!1}if(!e||"string"!=typeof a)throw b;switch(jr()){case"ReactNative":if("session"===a)throw t;break;case"Node":if("none"!==a)throw t;break;case"Worker":if("session"===a||!Gu()&&"none"!==a)throw t;break;default:if(!Kr()&&"none"!==a)throw t}}(a),bh(this,(function(){return a!=t.c.F?t.b.get(t.c,t.a).then((function(e){return b=e,dh(t,a)})).then((function(){if(t.c=mh(a),b)return t.b.set(t.c,b,t.a)})):Me()}))},x(wh,Nn),x(Ih,sn),x(Eh,sn),x(Th,sn),(n=wh.prototype).xb=function(a){return Ph(this,a=this.i.xb(a))},n.wa=function(a){this.aa===a||this.l||(this.aa=a,ms(this.a,this.aa),this.dispatchEvent(new Ih(this.la())))},n.la=function(){return this.aa},n.fd=function(){var a=f.navigator;this.wa(a&&(a.languages&&a.languages[0]||a.language||a.userLanguage)||null)},n.gd=function(a,b){if(!this.P){if(!/^https?:\/\//.test(a))throw new P("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(a){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!a&&Nr().then((function(){var b=f.document.createElement("div");b.innerText="Running in emulator mode. Do not use with production credentials.",b.style.position="fixed",b.style.width="100%",b.style.backgroundColor="#ffffff",b.style.border=".1em solid #000000",b.style.color="#ff0000",b.style.bottom="0px",b.style.left="0px",b.style.margin="0px",b.style.zIndex=1e4,b.style.textAlign="center",b.classList.add("firebase-emulator-warning"),f.document.body.appendChild(b)}))})(b=!!b&&!!b.disableWarnings),this.P={url:a,ec:b},this.settings.ib=!0,vs(this.a,this.P),this.dispatchEvent(new Eh(this.P))}},n.Gc=function(a){this.J.push(a),ys(this.a,e.a.SDK_VERSION?Ur(e.a.SDK_VERSION,this.J):null),this.dispatchEvent(new Th(this.J))},n.Ga=function(){return at(this.J)},n.yb=function(a){this.S===a||this.l||(this.S=a,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:Ch(this).options.apiKey,authDomain:Ch(this).options.authDomain,appName:Ch(this).name,currentUser:Nh(this)&&Nh(this).w()}},n.Fb=function(a,b){switch(a){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==b&&!!this.f;default:return!1}},n.na=function(a,b,t,e){"signInViaPopup"==a&&this.g==e&&(t&&this.C?this.C(t):b&&!t&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==b&&this.f?q(this.ic,this):null},n.ic=function(a,b,t,e){var n=this,r={requestUri:a,postBody:e,sessionId:b,tenantId:t};return this.c&&(this.c.cancel(),this.c=null),n.$.then((function(){return Ah(n,Ds(n.a,r))}))},n.Xc=function(a){if(!Gr())return Fe(new P("operation-not-supported-in-this-environment"));var b=this,t=uo(a.providerId),n=Jr(),r=null;(!Wr()||Dr())&&Ch(this).options.authDomain&&a.isOAuthProvider&&(r=Nu(Ch(this).options.authDomain,Ch(this).options.apiKey,Ch(this).name,"signInViaPopup",a,null,n,e.a.SDK_VERSION||null,null,null,this.T(),this.P));var o=kr(r,t&&t.ua,t&&t.ta);return Ph(this,t=Sh(this).then((function(g){return Xc(g,o,"signInViaPopup",a,n,!!r,b.T())})).then((function(){return new Ne((function(g,t){b.na("signInViaPopup",null,new P("cancelled-popup-request"),b.g),b.f=g,b.C=t,b.g=n,b.c=$c(b.b,b,"signInViaPopup",o,n)}))})).then((function(g){return o&&Or(o),g?hi(g):null})).o((function(g){throw o&&Or(o),g})))},n.Yc=function(a){if(!Gr())return Fe(new P("operation-not-supported-in-this-environment"));var b=this;return Ph(this,Sh(this).then((function(){return function(a){return bh(a,(function(){return a.b.set(ph,a.c.F,a.a)}))}(b.i)})).then((function(){return Jc(b.b,"signInViaRedirect",a,void 0,b.T())})))},n.qa=function(){var a=this;return _h(this).then((function(b){return a.b&&il(a.b.b),b})).o((function(b){throw a.b&&il(a.b.b),b}))},n.dd=function(a){if(!a)return Fe(new P("null-user"));if(this.S!=a.tenantId)return Fe(new P("tenant-id-mismatch"));var b=this,t={};t.apiKey=Ch(this).options.apiKey,t.authDomain=Ch(this).options.authDomain,t.appName=Ch(this).name;var e=function(a,b,t,e){var n=a.b,r={};return r[ls]=n.b&&n.b.toString(),r.refreshToken=n.a,b=new Pl(b||{apiKey:a.l,authDomain:a.s,appName:a.m},r),t&&(b.ha=t),e&&Rl(b,e),Jl(b,a),b}(a,t,b.D,b.Ga());return Ph(this,this.h.then((function(){if(Ch(b).options.apiKey!=a.l)return e.reload()})).then((function(){return Nh(b)&&a.uid==Nh(b).uid?(Jl(Nh(b),a),b.da(a)):(kh(b,e),Kl(e),b.da(e))})).then((function(){Dh(b)})))},n.Ab=function(){var a=this;return Ph(this,this.h.then((function(){return a.b&&il(a.b.b),Nh(a)?(kh(a,null),gh(a.i).then((function(){Dh(a)}))):Me()})))},n.Zc=function(){var a=this;return yh(this.i,Ch(this).options.authDomain).then((function(b){if(!a.l){var t;if(t=Nh(a)&&b){t=Nh(a).uid;var e=b.uid;t=null!=t&&""!==t&&null!=e&&""!==e&&t==e}if(t)return Jl(Nh(a),b),Nh(a).I();(Nh(a)||b)&&(kh(a,b),b&&(Kl(b),b.ha=a.D),a.b&&zc(a.b,a),Dh(a))}}))},n.da=function(a){return vh(this.i,a)},n.mc=function(){Dh(this),this.da(Nh(this))},n.wc=function(){this.Ab()},n.xc=function(){this.Ab()},n.kc=function(a){var b=this;return this.h.then((function(){return Ah(b,Me(a))}))},n.zc=function(a){var b=this;this.addAuthTokenListener((function(){a.next(Nh(b))}))},n.Ac=function(a){var b=this;!function(a,b){a.O.push(b),Ph(a,a.h.then((function(){!a.l&&et(a.O,b)&&a.X!==a.getUid()&&(a.X=a.getUid(),b(xh(a)))})))}(this,(function(){a.next(Nh(b))}))},n.Ic=function(a,b,t){var e=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof a?a(Nh(e)):"function"==typeof a.next&&a.next(Nh(e))})),this.hb(a,b,t)},n.Hc=function(a,b,t){var e=this;return this.ba&&Promise.resolve().then((function(){e.X=e.getUid(),"function"==typeof a?a(Nh(e)):"function"==typeof a.next&&a.next(Nh(e))})),this.bc(a,b,t)},n.nc=function(a){var b=this;return Ph(this,this.h.then((function(){return Nh(b)?Nh(b).I(a).then((function(t){return{accessToken:t}})):null})))},n.Tc=function(a){var b=this;return this.h.then((function(){return Ah(b,mu(b.a,cu,{token:a}))})).then((function(t){var e=t.user;return Yl(e,"isAnonymous",!1),b.da(e),t}))},n.Uc=function(a,b){var t=this;return this.h.then((function(){return Ah(t,mu(t.a,lu,{email:a,password:b}))}))},n.dc=function(a,b){var t=this;return this.h.then((function(){return Ah(t,mu(t.a,Fs,{email:a,password:b}))}))},n.$a=function(a){var b=this;return this.h.then((function(){return Ah(b,a.ka(b.a))}))},n.Sc=function(a){return ai("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(a)},n.zb=function(){var a=this;return this.h.then((function(){var b=Nh(a);if(b&&b.isAnonymous){var t=hi({providerId:null,isNewUser:!1});return hi({user:b,credential:null,additionalUserInfo:t,operationType:"signIn"})}return Ah(a,a.a.zb()).then((function(t){var e=t.user;return Yl(e,"isAnonymous",!0),a.da(e),t}))}))},n.getUid=function(){return Nh(this)&&Nh(this).uid||null},n.cc=function(a){this.addAuthTokenListener(a),this.u++,0<this.u&&Nh(this)&&Vl(Nh(this))},n.Pc=function(a){var b=this;J(this.s,(function(t){t==a&&b.u--})),0>this.u&&(this.u=0),0==this.u&&Nh(this)&&Ul(Nh(this)),this.removeAuthTokenListener(a)},n.addAuthTokenListener=function(a){var b=this;this.s.push(a),Ph(this,this.h.then((function(){b.l||et(b.s,a)&&a(xh(b))})))},n.removeAuthTokenListener=function(a){it(this.s,(function(b){return b==a}))},n.delete=function(){this.l=!0;for(var a=0;a<this.R.length;a++)this.R[a].cancel("app-deleted");return this.R=[],this.i&&(a=this.i).b.removeListener(mh("local"),a.a,this.ja),this.b&&(Hc(this.b,this),il(this.b.b)),Promise.resolve()},n.hc=function(a){return Ph(this,function(a,b){return mu(a,Vs,{identifier:b,continueUri:zr()?Er():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,a))},n.Bc=function(a){return!!Ho(a)},n.wb=function(a,b){var t=this;return Ph(this,Me().then((function(){var t=new Ki(b);if(!t.c)throw new P("argument-error",Hi+" must be true when sending sign in link to email");return Zi(t)})).then((function(e){return t.a.wb(a,e)})).then((function(){})))},n.jd=function(a){return this.Ra(a).then((function(b){return b.data.email}))},n.nb=function(a,b){return Ph(this,this.a.nb(a,b).then((function(){})))},n.Ra=function(a){return Ph(this,this.a.Ra(a).then((function(b){return new wi(b)})))},n.jb=function(a){return Ph(this,this.a.jb(a).then((function(){})))},n.vb=function(a,b){var t=this;return Ph(this,Me().then((function(){return void 0===b||Tt(b)?{}:Zi(new Ki(b))})).then((function(e){return t.a.vb(a,e)})).then((function(){})))},n.Wc=function(a,b){return Ph(this,hl(this,a,b,q(this.$a,this)))},n.Vc=function(a,b){var t=this;return Ph(this,Me().then((function(){var e=b||Er(),n=zo(a,e);if(!(e=Ho(e)))throw new P("argument-error","Invalid email link!");if(e.tenantId!==t.T())throw new P("tenant-id-mismatch");return t.$a(n)})))},jh.prototype.render=function(){},jh.prototype.reset=function(){},jh.prototype.getResponse=function(){},jh.prototype.execute=function(){};var Rh=null;function Mh(a,b){return(b=Fh(b))&&a.a[b]||null}function Fh(a){return(a=void 0===a?1e12:a)?a.toString():null}function Vh(a,b){this.g=!1,this.c=b,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ye(a);var t=this;this.i=function(){t.execute()},this.h?this.execute():yn(this.f,"click",this.i)}function Uh(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!")}function qh(){}function Bh(){}Lh.prototype.render=function(a,b){return this.a[this.b.toString()]=new Vh(a,b),this.b++},Lh.prototype.reset=function(a){var b=Mh(this,a);a=Fh(a),b&&a&&(b.delete(),delete this.a[a])},Lh.prototype.getResponse=function(a){return(a=Mh(this,a))?a.getResponse():null},Lh.prototype.execute=function(a){(a=Mh(this,a))&&a.execute()},Vh.prototype.getResponse=function(){return Uh(this),this.b},Vh.prototype.execute=function(){Uh(this);var a=this;this.a||(this.a=setTimeout((function(){a.b=function(){for(var a=50,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}();var b=a.c.callback,t=a.c["expired-callback"];if(b)try{b(a.b)}catch(t){}a.a=setTimeout((function(){if(a.a=null,a.b=null,t)try{t()}catch(t){}a.h&&a.execute()}),6e4)}),500))},Vh.prototype.delete=function(){Uh(this),this.g=!0,clearTimeout(this.a),this.a=null,In(this.f,"click",this.i)},ui(qh,"FACTOR_ID","phone"),Bh.prototype.g=function(){return Rh||(Rh=new Lh),Me(Rh)},Bh.prototype.c=function(){};var Kh=null;function Gh(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var zh=new At(Dt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Hh=new ti(3e4,6e4);Gh.prototype.g=function(a){var b=this;return new Ne((function(t,e){var n=setTimeout((function(){e(new P("network-request-failed"))}),Hh.get());!f.grecaptcha||a!==b.f&&!b.b?(f[b.a]=function(){if(f.grecaptcha){b.f=a;var g=f.grecaptcha.render;f.grecaptcha.render=function(t,e){return t=g(t,e),b.b++,t},clearTimeout(n),t(f.grecaptcha)}else clearTimeout(n),e(new P("internal-error"));delete f[b.a]},Me(es(Rt(zh,{onload:b.a,hl:a||""}))).o((function(){clearTimeout(n),e(new P("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(n),t(f.grecaptcha))}))},Gh.prototype.c=function(){this.b--};var Wh=null;function Qh(a,b,t,e,n,r,g){if(ui(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=b,this.g=null,g?(Kh||(Kh=new Bh),g=Kh):(Wh||(Wh=new Gh),g=Wh),this.m=g,this.a=t||{theme:"light",type:"image"},this.h=[],this.a[Jh])throw new P("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[$h],!f.document)throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ye(b)||!this.i&&ye(b).hasChildNodes())throw new P("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new us(a,r||null,n||null),this.u=e||function(){return null};var o=this;this.l=[];var c=this.a[Xh];this.a[Xh]=function(t){if(Zh(o,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Br(c,f);"function"==typeof e&&e(t)}};var p=this.a[Yh];this.a[Yh]=function(){if(Zh(o,null),"function"==typeof p)p();else if("string"==typeof p){var t=Br(p,f);"function"==typeof t&&t()}}}var Xh="callback",Yh="expired-callback",Jh="sitekey",$h="size";function Zh(a,b){for(var t=0;t<a.l.length;t++)try{a.l[t](b)}catch(t){}}function tf(a,b){return a.h.push(b),b.oa((function(){nt(a.h,b)})),b}function ef(a){if(a.D)throw new P("internal-error","RecaptchaVerifier instance has been destroyed.")}function nf(a,b,t){var n=!1;try{this.b=t||e.a.app()}catch(t){throw new P("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new P("invalid-api-key");t=this.b.options.apiKey;var r=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{n=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=e.a.SDK_VERSION?Ur(e.a.SDK_VERSION,o):null,Qh.call(this,t,a,b,(function(){try{var g=r.b.auth().la()}catch(t){g=null}return g}),o,V(L),n)}function rf(a,b,t,e){t:{t=Array.prototype.slice.call(t);for(var n=0,r=!1,g=0;g<b.length;g++)if(b[g].optional)r=!0;else{if(r)throw new P("internal-error","Argument validator encountered a required argument after an optional argument.");n++}if(r=b.length,t.length<n||r<t.length)e="Expected "+(n==r?1==n?"1 argument":n+" arguments":n+"-"+r+" arguments")+" but got "+t.length+".";else{for(n=0;n<t.length;n++)if(r=b[n].optional&&void 0===t[n],!b[n].M(t[n])&&!r){if(b=b[n],0>n||n>=of.length)throw new P("internal-error","Argument validator received an unsupported number of arguments.");t=of[n],e=(e?"":t+" argument ")+(b.name?'"'+b.name+'" ':"")+"must be "+b.K+".";break t}e=null}}if(e)throw new P("argument-error",a+" failed: "+e)}(n=Qh.prototype).Ia=function(){var a=this;return this.f?this.f:this.f=tf(this,Me().then((function(){if(zr()&&!Pr())return Nr();throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return a.m.g(a.u())})).then((function(b){return a.g=b,mu(a.s,$s,{})})).then((function(b){a.a[Jh]=b.recaptchaSiteKey})).o((function(b){throw a.f=null,b})))},n.render=function(){ef(this);var a=this;return tf(this,this.Ia().then((function(){if(null===a.c){var b=a.v;if(!a.i){var t=ye(b);b=function(a,b,t){var e=arguments,n=document,r=String(e[0]),g=e[1];if(!ge&&g&&(g.name||g.type)){if(r=["<",r],g.name&&r.push(' name="',Zt(g.name),'"'),g.type){r.push(' type="',Zt(g.type),'"');var o={};Ot(o,g),delete o.type,g=o}r.push(">"),r=r.join("")}return r=Se(n,r),g&&("string"==typeof g?r.className=g:Array.isArray(g)?r.className=g.join(" "):be(r,g)),2<e.length&&Te(n,r,e),r}("DIV"),t.appendChild(b)}a.c=a.g.render(b,a.a)}return a.c})))},n.verify=function(){ef(this);var a=this;return tf(this,this.render().then((function(b){return new Ne((function(t){var e=a.g.getResponse(b);if(e)t(e);else{var n=function(e){e&&(function(a,b){it(a.l,(function(t){return t==b}))}(a,n),t(e))};a.l.push(n),a.i&&a.g.execute(a.c)}}))})))},n.reset=function(){ef(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){ef(this),this.D=!0,this.m.c();for(var a=0;a<this.h.length;a++)this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){a=ye(this.v);for(var b;b=a.firstChild;)a.removeChild(b)}},x(nf,Qh);var of="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function af(a,b){return{name:a||"",K:"a valid string",optional:!!b,M:function(t){return"string"==typeof t}}}function sf(a,b){return{name:a||"",K:"a boolean",optional:!!b,M:function(t){return"boolean"==typeof t}}}function uf(a,b){return{name:a||"",K:"a valid object",optional:!!b,M:T}}function cf(a,b){return{name:a||"",K:"a function",optional:!!b,M:function(t){return"function"==typeof t}}}function lf(a,b){return{name:a||"",K:"null",optional:!!b,M:function(t){return null===t}}}function hf(a){return{name:a?a+"Credential":"credential",K:a?"a valid "+a+" credential":"a valid credential",optional:!1,M:function(b){if(!b)return!1;var t=!a||b.providerId===a;return!(!b.ka||!t)}}}function ff(a,b){return T(a)&&"string"==typeof a.type&&a.type===b&&"function"==typeof a.Ha}function df(a){return T(a)&&"string"==typeof a.uid}function pf(a,b,t,e){return{name:t||"",K:a.K+" or "+b.K,optional:!!e,M:function(t){return a.M(t)||b.M(t)}}}function mf(a,b){for(var t in b){var e=b[t].name;a[e]=yf(e,a[t],b[t].j)}}function vf(a,b){for(var t in b){var e=b[t].name;e!==t&&Object.defineProperty(a,e,{get:C((function(t){return this[t]}),t),set:C((function(t,e,g,n){rf(t,[g],[n],!0),this[e]=n}),e,t,b[t].kb),enumerable:!0})}}function gf(a,b,t,e){a[b]=yf(b,t,e)}function yf(a,b,t){function e(){var g=Array.prototype.slice.call(arguments);return rf(r,t,g),b.apply(this,g)}if(!t)return b;var n,r=function(a){return(a=a.split("."))[a.length-1]}(a);for(n in b)e[n]=b[n];for(n in b.prototype)e.prototype[n]=b.prototype[n];return e}mf(wh.prototype,{jb:{name:"applyActionCode",j:[af("code")]},Ra:{name:"checkActionCode",j:[af("code")]},nb:{name:"confirmPasswordReset",j:[af("code"),af("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[af("email"),af("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[af("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[af("emailLink")]},Hc:{name:"onAuthStateChanged",j:[pf(uf(),cf(),"nextOrObserver"),cf("opt_error",!0),cf("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[pf(uf(),cf(),"nextOrObserver"),cf("opt_error",!0),cf("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[af("email"),pf(uf("opt_actionCodeSettings",!0),lf(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[af("email"),uf("actionCodeSettings")]},xb:{name:"setPersistence",j:[af("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[hf()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[hf()]},Tc:{name:"signInWithCustomToken",j:[af("token")]},Uc:{name:"signInWithEmailAndPassword",j:[af("email"),af("password")]},Vc:{name:"signInWithEmailLink",j:[af("email"),af("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[af("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[pf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(b){return!!(b&&b instanceof Pl)}},lf(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[af(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[af("url"),uf("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[af("code")]}}),vf(wh.prototype,{lc:{name:"languageCode",kb:pf(af(),lf(),"languageCode")},ti:{name:"tenantId",kb:pf(af(),lf(),"tenantId")}}),wh.Persistence=hc,wh.Persistence.LOCAL="local",wh.Persistence.SESSION="session",wh.Persistence.NONE="none",mf(Pl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[sf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[sf("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[hf()]},qb:{name:"linkWithCredential",j:[hf()]},Dc:{name:"linkWithPhoneNumber",j:[af("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[hf()]},tb:{name:"reauthenticateWithCredential",j:[hf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[af("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[pf(uf("opt_actionCodeSettings",!0),lf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[af(null,!0)]},cd:{name:"unlink",j:[af("provider")]},Bb:{name:"updateEmail",j:[af("email")]},Cb:{name:"updatePassword",j:[af("password")]},ed:{name:"updatePhoneNumber",j:[hf("phone")]},Db:{name:"updateProfile",j:[uf("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[af("email"),pf(uf("opt_actionCodeSettings",!0),lf(null,!0),"opt_actionCodeSettings",!0)]}}),mf(Lh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),mf(jh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),mf(Ne.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),vf(em.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:sf("appVerificationDisabledForTesting")}}),mf(ll.prototype,{confirm:{name:"confirm",j:[af("verificationCode")]}}),gf(To,"fromJSON",(function(a){a="string"==typeof a?JSON.parse(a):a;for(var b,t=[No,Ko,Qo,ko],e=0;e<t.length;e++)if(b=t[e](a))return b;return null}),[pf(af(),uf(),"json")]),gf(Go,"credential",(function(a,b){return new Bo(a,b)}),[af("email"),af("password")]),mf(Bo.prototype,{w:{name:"toJSON",j:[af(null,!0)]}}),mf(jo.prototype,{Ca:{name:"addScope",j:[af("scope")]},Ka:{name:"setCustomParameters",j:[uf("customOAuthParameters")]}}),gf(jo,"credential",Lo,[pf(af(),uf(),"token")]),gf(Go,"credentialWithLink",zo,[af("email"),af("emailLink")]),mf(Ro.prototype,{Ca:{name:"addScope",j:[af("scope")]},Ka:{name:"setCustomParameters",j:[uf("customOAuthParameters")]}}),gf(Ro,"credential",Mo,[pf(af(),uf(),"token")]),mf(Fo.prototype,{Ca:{name:"addScope",j:[af("scope")]},Ka:{name:"setCustomParameters",j:[uf("customOAuthParameters")]}}),gf(Fo,"credential",Vo,[pf(af(),pf(uf(),lf()),"idToken"),pf(af(),lf(),"accessToken",!0)]),mf(Uo.prototype,{Ka:{name:"setCustomParameters",j:[uf("customOAuthParameters")]}}),gf(Uo,"credential",qo,[pf(af(),uf(),"token"),af("secret",!0)]),mf(Po.prototype,{Ca:{name:"addScope",j:[af("scope")]},credential:{name:"credential",j:[pf(af(),pf(uf(),lf()),"optionsOrIdToken"),pf(af(),lf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[uf("customOAuthParameters")]}}),mf(Ao.prototype,{w:{name:"toJSON",j:[af(null,!0)]}}),mf(_o.prototype,{w:{name:"toJSON",j:[af(null,!0)]}}),gf(Yo,"credential",Jo,[af("verificationId"),af("verificationCode")]),mf(Yo.prototype,{fb:{name:"verifyPhoneNumber",j:[pf(af(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?ff(t.session,Io)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?ff(t.session,Eo)&&df(t.multiFactorHint):t.session&&t.multiFactorUid?ff(t.session,Eo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}]}}),mf(Wo.prototype,{w:{name:"toJSON",j:[af(null,!0)]}}),mf(P.prototype,{toJSON:{name:"toJSON",j:[af(null,!0)]}}),mf(oa.prototype,{toJSON:{name:"toJSON",j:[af(null,!0)]}}),mf(ia.prototype,{toJSON:{name:"toJSON",j:[af(null,!0)]}}),mf(gl.prototype,{toJSON:{name:"toJSON",j:[af(null,!0)]}}),mf(pl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(a){return!!a&&!!a.sb}}]}}),mf(Tl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(a){return!!a&&!!a.sb}},af("displayName",!0)]},bd:{name:"unenroll",j:[pf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:df},af(),"multiFactorInfoIdentifier")]}}),mf(nf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),gf(ji,"parseLink",Bi,[af("link")]),gf(qh,"assertion",(function(a){return new Il(a)}),[hf("phone")]),function(){if(void 0===e.a||!e.a.INTERNAL||!e.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ei,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Ii,VERIFY_AND_CHANGE_EMAIL:Ti,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:wh,AuthCredential:To,Error:P};gf(a,"EmailAuthProvider",Go,[]),gf(a,"FacebookAuthProvider",jo,[]),gf(a,"GithubAuthProvider",Ro,[]),gf(a,"GoogleAuthProvider",Fo,[]),gf(a,"TwitterAuthProvider",Uo,[]),gf(a,"OAuthProvider",Po,[af("providerId")]),gf(a,"SAMLAuthProvider",Do,[af("providerId")]),gf(a,"PhoneAuthProvider",Yo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(a){return!!(a&&a instanceof wh)}}]),gf(a,"RecaptchaVerifier",nf,[pf(af(),{name:"",K:"an HTML element",optional:!1,M:function(a){return!!(a&&a instanceof Element)}},"recaptchaContainer"),uf("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(a){return!!(a&&a instanceof e.a.app.App)}}]),gf(a,"ActionCodeURL",ji,[]),gf(a,"PhoneMultiFactorGenerator",qh,[]),e.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(b){return new wh(b=b.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:a,instantiationMode:"LAZY",type:"PUBLIC"}),e.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(b){return{getUid:q((b=b.getProvider("auth").getImmediate()).getUid,b),getToken:q(b.nc,b),addAuthTokenListener:q(b.cc,b),removeAuthTokenListener:q(b.Pc,b)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.a.registerVersion("@firebase/auth","0.16.4"),e.a.INTERNAL.extendNamespace({User:Pl})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n(29))},176:function(t,e,n){"use strict";var r,o=n(3),c=(n(16),n(4),n(13),n(10)),l=n(25),h={Firestore:c.f,GeoPoint:c.r,Timestamp:c.d,Blob:c.e,Transaction:c.n,WriteBatch:c.a,DocumentReference:c.b,DocumentSnapshot:c.j,Query:c.l,QueryDocumentSnapshot:c.q,QuerySnapshot:c.p,CollectionReference:c.m,FieldPath:c.o,FieldValue:c.k,setLogLevel:c.i,CACHE_SIZE_UNLIMITED:c.g};(function(t,e){t.INTERNAL.registerComponent(new l.a("firestore",(function(t){return function(t,s){return new c.f(t,new c.c(t,s),new c.h)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},h)))})(r=o.a),r.registerVersion("@firebase/firestore","2.2.1")},178:function(t,e,n){(function(t){t.installComponents=function(component,t){var n="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(n.components=component.exports.options.components),n.components=n.components||{},t)n.components[i]=n.components[i]||t[i];n.functional&&function(component,t){if(component.exports[e])return;component.exports[e]=!0;var n=component.exports.render;component.exports.render=function(e,r){return n(e,Object.assign({},r,{_c:function(e,a,b){return r._c(t[e]||e,a,b)}}))}}(component,n.components)};var e="_functionalComponents"}).call(this,n(29))},232:function(t,e,n){var content=n(233);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(32).default)("778b9149",content,!0,{sourceMap:!1})},233:function(t,e,n){var r=n(31)(!1);r.push([t.i,'.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row;padding:0}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;padding:0;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:.125em .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-no-transition{transition:none!important}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:5px;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center;padding:0 1.8em}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0;padding:0 1.6em}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-radius:100%;border-color:#2778c4 transparent;border-style:solid;border-width:.25em}.swal2-styled{margin:.3125em;padding:.625em 1.1em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{background:transparent none repeat 0 0/auto auto padding-box border-box scroll;background:initial;background-color:#2778c4}.swal2-styled.swal2-confirm,.swal2-styled.swal2-deny{border:0;border-radius:.25em;color:#fff;font-size:1.0625em}.swal2-styled.swal2-deny{background:transparent none repeat 0 0/auto auto padding-box border-box scroll;background:initial;background-color:#d14529}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:transparent none repeat 0 0/auto auto padding-box border-box scroll;background:initial;background-color:#757575;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;align-items:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0 1.6em;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto}.swal2-validation-message{align-items:center;justify-content:center;margin:0 -2.7em;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message:before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border-radius:50%;border:.25em solid #000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotate(2deg)}33%{transform:translateY(0) rotate(-2deg)}66%{transform:translateY(.3125em) rotate(2deg)}to{transform:translateY(0) rotate(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotate(2deg)}33%{transform:translateY(0) rotate(-2deg)}66%{transform:translateY(.3125em) rotate(2deg)}to{transform:translateY(0) rotate(0)}}@-webkit-keyframes swal2-toast-hide{to{transform:rotate(1deg);opacity:0}}@keyframes swal2-toast-hide{to{transform:rotate(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}to{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}to{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}to{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}to{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}to{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}to{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}to{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}to{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}to{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}to{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}to{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}to{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}to{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}to{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}to{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}to{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}to{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}to{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}to{transform:rotate(1turn)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - 1.25em);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}',""]),t.exports=r},234:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(235);e.load=r.load,e.getInstance=r.getInstance;var o=n(165);e.ReCaptchaInstance=o.ReCaptchaInstance},235:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(165);!function(t){t[t.NOT_LOADED=0]="NOT_LOADED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"}(r||(r={}));var c=function(){function t(){}return t.load=function(e,n){if(void 0===n&&(n={}),"undefined"==typeof document)return Promise.reject(new Error("This is a library for the browser!"));if(t.getLoadingState()===r.LOADED)return t.instance.getSiteKey()===e?Promise.resolve(t.instance):Promise.reject(new Error("reCAPTCHA already loaded with different site key!"));if(t.getLoadingState()===r.LOADING)return e!==t.instanceSiteKey?Promise.reject(new Error("reCAPTCHA already loaded with different site key!")):new Promise((function(e,n){t.successfulLoadingConsumers.push((function(t){return e(t)})),t.errorLoadingRunnable.push((function(t){return n(t)}))}));t.instanceSiteKey=e,t.setLoadingState(r.LOADING);var c=new t;return new Promise((function(l,h){c.loadScript(e,n.useRecaptchaNet||!1,n.renderParameters?n.renderParameters:{},n.customUrl).then((function(){t.setLoadingState(r.LOADED);var h=c.doExplicitRender(grecaptcha,e,n.explicitRenderParameters?n.explicitRenderParameters:{}),f=new o.ReCaptchaInstance(e,h,grecaptcha);t.successfulLoadingConsumers.forEach((function(t){return t(f)})),t.successfulLoadingConsumers=[],n.autoHideBadge&&f.hideBadge(),t.instance=f,l(f)})).catch((function(e){t.errorLoadingRunnable.forEach((function(t){return t(e)})),t.errorLoadingRunnable=[],h(e)}))}))},t.getInstance=function(){return t.instance},t.setLoadingState=function(e){t.loadingState=e},t.getLoadingState=function(){return null===t.loadingState?r.NOT_LOADED:t.loadingState},t.prototype.loadScript=function(e,n,o,c){var l=this;void 0===n&&(n=!1),void 0===o&&(o={}),void 0===c&&(c="");var h=document.createElement("script");h.setAttribute("recaptcha-v3-script","");var f="https://www.google.com/recaptcha/api.js";n&&(f="https://recaptcha.net/recaptcha/api.js"),c&&(f=c),o.render&&(o.render=void 0);var d=this.buildQueryString(o);return h.src=f+"?render=explicit"+d,new Promise((function(e,n){h.addEventListener("load",l.waitForScriptToLoad((function(){e(h)})),!1),h.onerror=function(e){t.setLoadingState(r.NOT_LOADED),n(e)},document.head.appendChild(h)}))},t.prototype.buildQueryString=function(t){return Object.keys(t).length<1?"":"&"+Object.keys(t).filter((function(e){return!!t[e]})).map((function(e){return e+"="+t[e]})).join("&")},t.prototype.waitForScriptToLoad=function(e){var n=this;return function(){void 0===window.grecaptcha?setTimeout((function(){n.waitForScriptToLoad(e)}),t.SCRIPT_LOAD_DELAY):window.grecaptcha.ready((function(){e()}))}},t.prototype.doExplicitRender=function(t,e,n){var r={sitekey:e,badge:n.badge,size:n.size,tabindex:n.tabindex};return n.container?t.render(n.container,r):t.render(r)},t.loadingState=null,t.instance=null,t.instanceSiteKey=null,t.successfulLoadingConsumers=[],t.errorLoadingRunnable=[],t.SCRIPT_LOAD_DELAY=25,t}();e.load=c.load,e.getInstance=c.getInstance},236:function(t,e,n){"use strict";var r=function(){return(r=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{f(r.next(t))}catch(t){c(t)}}function h(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,h)}f((r=r.apply(t,e||[])).next())}))}function c(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}Object.create;Object.create;var l=n(3),h=n(25);var f=function(){return(f=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function d(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{f(r.next(t))}catch(t){c(t)}}function h(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,h)}f((r=r.apply(t,e||[])).next())}))}function m(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}Object.create;function v(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}Object.create;var w,I=n(4),E=n(173),T="0.4.22",S=1e4,_="w:0.4.22",O="FIS_v2",k=36e5,A=((w={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',w["not-registered"]="Firebase Installation is not registered.",w["installation-not-found"]="Firebase Installation not found.",w["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',w["app-offline"]="Could not process request. Application offline.",w["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",w),C=new I.b("installations","Installations",A);function N(t){return t instanceof I.c&&t.code.includes("request-failed")}function x(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function D(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function P(t,e){return d(this,void 0,void 0,(function(){var n,r;return m(this,(function(o){switch(o.label){case 0:return[4,e.json()];case 1:return n=o.sent(),r=n.error,[2,C.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function j(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function L(t,e){var n=e.refreshToken,r=j(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function R(t){return d(this,void 0,void 0,(function(){var e;return m(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function M(t,e){var n=e.fid;return d(this,void 0,void 0,(function(){var e,r,body,o,c,l;return m(this,(function(h){switch(h.label){case 0:return e=x(t),r=j(t),body={fid:n,authVersion:O,appId:t.appId,sdkVersion:_},o={method:"POST",headers:r,body:JSON.stringify(body)},[4,R((function(){return fetch(e,o)}))];case 1:return(c=h.sent()).ok?[4,c.json()]:[3,3];case 2:return l=h.sent(),[2,{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:D(l.authToken)}];case 3:return[4,P("Create Installation",c)];case 4:throw h.sent()}}))}))}function F(t){return new Promise((function(e){setTimeout(e,t)}))}var V=/^[cdef][\w-]{21}$/;function U(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,function(t,e){for(var i=0,n=e.length,r=t.length;i<n;i++,r++)t[r]=e[i];return t}([],y(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return V.test(e)?e:""}catch(t){return""}}function B(t){return t.appName+"!"+t.appId}var K=new Map;function G(t,e){var n=B(t);z(n,e),function(t,e){var n=W();n&&n.postMessage({key:t,fid:e});Q()}(n,e)}function z(t,e){var n,r,o=K.get(t);if(o)try{for(var c=v(o),l=c.next();!l.done;l=c.next()){(0,l.value)(e)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}var H=null;function W(){return!H&&"BroadcastChannel"in self&&((H=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){z(t.data.key,t.data.fid)}),H}function Q(){0===K.size&&H&&(H.close(),H=null)}var X,Y="firebase-installations-store",J=null;function $(){return J||(J=Object(E.openDb)("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(Y)}}))),J}function Z(t,e){return d(this,void 0,void 0,(function(){var n,r,o,c,l;return m(this,(function(h){switch(h.label){case 0:return n=B(t),[4,$()];case 1:return r=h.sent(),o=r.transaction(Y,"readwrite"),[4,(c=o.objectStore(Y)).get(n)];case 2:return l=h.sent(),[4,c.put(e,n)];case 3:return h.sent(),[4,o.complete];case 4:return h.sent(),l&&l.fid===e.fid||G(t,e.fid),[2,e]}}))}))}function tt(t){return d(this,void 0,void 0,(function(){var e,n,r;return m(this,(function(o){switch(o.label){case 0:return e=B(t),[4,$()];case 1:return n=o.sent(),[4,(r=n.transaction(Y,"readwrite")).objectStore(Y).delete(e)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}}))}))}function et(t,e){return d(this,void 0,void 0,(function(){var n,r,o,c,l,h;return m(this,(function(f){switch(f.label){case 0:return n=B(t),[4,$()];case 1:return r=f.sent(),o=r.transaction(Y,"readwrite"),[4,(c=o.objectStore(Y)).get(n)];case 2:return l=f.sent(),void 0!==(h=e(l))?[3,4]:[4,c.delete(n)];case 3:return f.sent(),[3,6];case 4:return[4,c.put(h,n)];case 5:f.sent(),f.label=6;case 6:return[4,o.complete];case 7:return f.sent(),!h||l&&l.fid===h.fid||G(t,h.fid),[2,h]}}))}))}function nt(t){return d(this,void 0,void 0,(function(){var e,n,r;return m(this,(function(o){switch(o.label){case 0:return[4,et(t,(function(n){var r=function(t){return at(t||{fid:U(),registrationStatus:0})}(n),o=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(C.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return d(this,void 0,void 0,(function(){var n,r;return m(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,M(t,e)];case 1:return n=o.sent(),[2,Z(t,n)];case 2:return N(r=o.sent())&&409===r.customData.serverCode?[4,tt(t)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,Z(t,{fid:e.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:it(t)}:{installationEntry:e}}(t,r);return e=o.registrationPromise,o.installationEntry}))];case 1:return""!==(n=o.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function it(t){return d(this,void 0,void 0,(function(){var e,n,r,o;return m(this,(function(c){switch(c.label){case 0:return[4,ot(t)];case 1:e=c.sent(),c.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,F(100)];case 3:return c.sent(),[4,ot(t)];case 4:return e=c.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,nt(t)];case 6:return n=c.sent(),r=n.installationEntry,(o=n.registrationPromise)?[2,o]:[2,r];case 7:return[2,e]}}))}))}function ot(t){return et(t,(function(t){if(!t)throw C.create("installation-not-found");return at(t)}))}function at(t){return 1===(e=t).registrationStatus&&e.registrationTime+S<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function st(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return d(this,void 0,void 0,(function(){var t,o,c,body,l,h,f;return m(this,(function(d){switch(d.label){case 0:return t=function(t,e){var n=e.fid;return x(t)+"/"+n+"/authTokens:generate"}(n,e),o=L(n,e),(c=r.getImmediate({optional:!0}))&&o.append("x-firebase-client",c.getPlatformInfoString()),body={installation:{sdkVersion:_}},l={method:"POST",headers:o,body:JSON.stringify(body)},[4,R((function(){return fetch(t,l)}))];case 1:return(h=d.sent()).ok?[4,h.json()]:[3,3];case 2:return f=d.sent(),[2,D(f)];case 3:return[4,P("Generate Auth Token",h)];case 4:throw d.sent()}}))}))}function ut(t,e){return void 0===e&&(e=!1),d(this,void 0,void 0,(function(){var n,r,o;return m(this,(function(c){switch(c.label){case 0:return[4,et(t.appConfig,(function(r){if(!lt(r))throw C.create("not-registered");var o=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+k}(t)}(o))return r;if(1===o.requestStatus)return n=function(t,e){return d(this,void 0,void 0,(function(){var n,r;return m(this,(function(o){switch(o.label){case 0:return[4,ct(t.appConfig)];case 1:n=o.sent(),o.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,F(100)];case 3:return o.sent(),[4,ct(t.appConfig)];case 4:return n=o.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,ut(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw C.create("app-offline");var c=function(t){var e={requestStatus:1,requestTime:Date.now()};return f(f({},t),{authToken:e})}(r);return n=function(t,e){return d(this,void 0,void 0,(function(){var n,r,o;return m(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,8]),[4,st(t,e)];case 1:return n=c.sent(),o=f(f({},e),{authToken:n}),[4,Z(t.appConfig,o)];case 2:return c.sent(),[2,n];case 3:return!N(r=c.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,tt(t.appConfig)];case 4:return c.sent(),[3,7];case 5:return o=f(f({},e),{authToken:{requestStatus:0}}),[4,Z(t.appConfig,o)];case 6:c.sent(),c.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,c),c}))];case 1:return r=c.sent(),n?[4,n]:[3,3];case 2:return o=c.sent(),[3,4];case 3:o=r.authToken,c.label=4;case 4:return[2,o]}}))}))}function ct(t){return et(t,(function(t){if(!lt(t))throw C.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+S<Date.now()?f(f({},t),{authToken:{requestStatus:0}}):t}))}function lt(t){return void 0!==t&&2===t.registrationStatus}function ht(t){return d(this,void 0,void 0,(function(){var e;return m(this,(function(n){switch(n.label){case 0:return[4,nt(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function ft(t,e){return d(this,void 0,void 0,(function(){var n,r,o,c;return m(this,(function(l){switch(l.label){case 0:return n=function(t,e){var n=e.fid;return x(t)+"/"+n}(t,e),r=L(t,e),o={method:"DELETE",headers:r},[4,R((function(){return fetch(n,o)}))];case 1:return(c=l.sent()).ok?[3,3]:[4,P("Delete Installation",c)];case 2:throw l.sent();case 3:return[2]}}))}))}function pt(t,e){var n=t.appConfig;return function(t,e){W();var n=B(t),r=K.get(n);r||(r=new Set,K.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=B(t),r=K.get(n);r&&(r.delete(e),0===r.size&&K.delete(n),Q())}(n,e)}}function mt(t){return C.create("missing-app-config-values",{valueName:t})}(X=l.a).INTERNAL.registerComponent(new h.a("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw mt("App Configuration");if(!t.name)throw mt("App Name");try{for(var r=v(["projectId","apiKey","appId"]),o=r.next();!o.done;o=r.next()){var c=o.value;if(!t.options[c])throw mt(c)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return d(this,void 0,void 0,(function(){var e,n,r;return m(this,(function(o){switch(o.label){case 0:return[4,nt(t.appConfig)];case 1:return e=o.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):ut(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),d(this,void 0,void 0,(function(){return m(this,(function(n){switch(n.label){case 0:return[4,ht(t.appConfig)];case 1:return n.sent(),[4,ut(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return d(this,void 0,void 0,(function(){var e,n;return m(this,(function(r){switch(r.label){case 0:return[4,et(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw C.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw C.create("app-offline");case 3:return[4,ft(e,n)];case 4:return r.sent(),[4,tt(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return pt(n,t)}}}),"PUBLIC")),X.registerVersion("@firebase/installations",T);var vt,gt,yt=n(16),bt="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(vt||(vt={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(gt||(gt={}));var wt,It=new yt.b("@firebase/analytics");function Et(t,e,n,r,l,h){return o(this,void 0,void 0,(function(){var o,f,d,m;return c(this,(function(c){switch(c.label){case 0:o=r[l],c.label=1;case 1:return c.trys.push([1,7,,8]),o?[4,e[o]]:[3,3];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return f=c.sent(),(d=f.find((function(t){return t.measurementId===l})))?[4,e[d.appId]]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return m=c.sent(),It.error(m),[3,8];case 8:return t(vt.CONFIG,l,h),[2]}}))}))}function Tt(t,e,n,r,l){return o(this,void 0,void 0,(function(){var o,h,f,d,m,v,y,w;return c(this,(function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),o=[],l&&l.send_to?(h=l.send_to,Array.isArray(h)||(h=[h]),[4,Promise.all(n)]):[3,2];case 1:for(f=c.sent(),d=function(t){var n=f.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},m=0,v=h;m<v.length&&(y=v[m],"break"!==d(y));m++);c.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return c.sent(),t(vt.EVENT,r,l||{}),[3,5];case 4:return w=c.sent(),It.error(w),[3,5];case 5:return[2]}}))}))}function St(t,e,n,r,l){var h=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[l]&&"function"==typeof window[l]&&(h=window[l]),window[l]=function(t,e,n,r){return function(l,h,f){return o(this,void 0,void 0,(function(){var o;return c(this,(function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),l!==vt.EVENT?[3,2]:[4,Tt(t,e,n,h,f)];case 1:return c.sent(),[3,5];case 2:return l!==vt.CONFIG?[3,4]:[4,Et(t,e,n,r,h,f)];case 3:return c.sent(),[3,5];case 4:t(vt.SET,h),c.label=5;case 5:return[3,7];case 6:return o=c.sent(),It.error(o),[3,7];case 7:return[2]}}))}))}}(h,t,e,n),{gtagCore:h,wrappedGtag:window[l]}}var _t=((wt={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",wt["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",wt["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",wt["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",wt["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",wt["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",wt["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",wt["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',wt["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',wt),Ot=new I.b("analytics","Analytics",_t),kt=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function At(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Ct(t){var e;return o(this,void 0,void 0,(function(){var n,r,o,l,h,f,d;return c(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,o={method:"GET",headers:At(r)},l="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(l,o)];case 1:if(200===(h=c.sent()).status||304===h.status)return[3,6];f="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,h.json()];case 3:return d=c.sent(),(null===(e=d.error)||void 0===e?void 0:e.message)&&(f=d.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw Ot.create("config-fetch-failed",{httpStatus:h.status,responseMessage:f});case 6:return[2,h.json()]}}))}))}function Nt(t,e,n,r){var l=e.throttleEndTimeMillis,h=e.backoffCount;return void 0===r&&(r=kt),o(this,void 0,void 0,(function(){var e,o,f,d,m,v,y;return c(this,(function(c){switch(c.label){case 0:e=t.appId,o=t.measurementId,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,xt(n,l)];case 2:return c.sent(),[3,4];case 3:if(f=c.sent(),o)return It.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+o+' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]"),[2,{appId:e,measurementId:o}];throw f;case 4:return c.trys.push([4,6,,7]),[4,Ct(t)];case 5:return d=c.sent(),r.deleteThrottleMetadata(e),[2,d];case 6:if(!function(t){if(!(t instanceof I.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(m=c.sent())){if(r.deleteThrottleMetadata(e),o)return It.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+o+' provided in the "measurementId" field in the local Firebase config. ['+m.message+"]"),[2,{appId:e,measurementId:o}];throw m}return v=503===Number(m.customData.httpStatus)?Object(I.e)(h,r.intervalMillis,30):Object(I.e)(h,r.intervalMillis),y={throttleEndTimeMillis:Date.now()+v,backoffCount:h+1},r.setThrottleMetadata(e,y),It.debug("Calling attemptFetch again in "+v+" millis"),[2,Nt(t,y,n,r)];case 7:return[2]}}))}))}function xt(t,e){return new Promise((function(n,r){var o=Math.max(e-Date.now(),0),c=setTimeout(n,o);t.addEventListener((function(){clearTimeout(c),r(Ot.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var Dt=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();function Pt(t,e,n,r,l,h){return o(this,void 0,void 0,(function(){var f,d,m,v,y,w,E;return c(this,(function(T){switch(T.label){case 0:return(f=function(t,e,n){return void 0===e&&(e=kt),o(this,void 0,void 0,(function(){var r,l,h,f,d,m,v=this;return c(this,(function(y){if(r=t.options,l=r.appId,h=r.apiKey,f=r.measurementId,!l)throw Ot.create("no-app-id");if(!h){if(f)return[2,{measurementId:f,appId:l}];throw Ot.create("no-api-key")}return d=e.getThrottleMetadata(l)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new Dt,setTimeout((function(){return o(v,void 0,void 0,(function(){return c(this,(function(t){return m.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,Nt({appId:l,apiKey:h,measurementId:f},d,m,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&It.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return It.error(t)})),e.push(f),d=function(){return o(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return Object(I.o)()?[3,1]:(It.warn(Ot.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(I.t)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),It.warn(Ot.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([f,d])];case 1:return m=T.sent(),v=m[0],y=m[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(bt))return r}return null}()||function(t,e){var script=document.createElement("script");script.src=bt+"?l="+t+"&id="+e,script.async=!0,document.head.appendChild(script)}(h,v.measurementId),l("js",new Date),(E={}).origin="firebase",E.update=!0,w=E,null!=y&&(w.firebase_id=y),l(vt.CONFIG,v.measurementId,w),[2,v.measurementId]}}))}))}var jt,Lt,Rt={},Mt=[],Ft={},Vt="dataLayer",Ut="gtag",qt=!1;function Bt(t){if(qt)throw Ot.create("already-initialized");t.dataLayerName&&(Vt=t.dataLayerName),t.gtagName&&(Ut=t.gtagName)}function Kt(t,e){!function(){var t=[];if(Object(I.l)()&&t.push("This is a browser extension environment."),Object(I.d)()||t.push("Cookies are not available."),t.length>0){var details=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),e=Ot.create("invalid-analytics-context",{errorInfo:details});It.warn(e.message)}}();var n,l,h=t.options.appId;if(!h)throw Ot.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Ot.create("no-api-key");It.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Rt[h])throw Ot.create("already-exists",{id:h});if(!qt){n=Vt,l=[],Array.isArray(window[n])?l=window[n]:window[n]=l;var f=St(Rt,Mt,Ft,Vt,Ut),d=f.wrappedGtag,m=f.gtagCore;Lt=d,jt=m,qt=!0}return Rt[h]=Pt(t,Mt,Ft,e,jt,Vt),{app:t,logEvent:function(t,e,n){(function(t,e,n,l,h){return o(this,void 0,void 0,(function(){var o,f;return c(this,(function(c){switch(c.label){case 0:return h&&h.global?(t(vt.EVENT,n,l),[2]):[3,1];case 1:return[4,e];case 2:o=c.sent(),f=r(r({},l),{send_to:o}),t(vt.EVENT,n,f),c.label=3;case 3:return[2]}}))}))})(Lt,Rt[h],t,e,n).catch((function(t){return It.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return o(this,void 0,void 0,(function(){var o;return c(this,(function(c){switch(c.label){case 0:return r&&r.global?(t(vt.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=c.sent(),t(vt.CONFIG,o,{update:!0,screen_name:n}),c.label=3;case 3:return[2]}}))}))})(Lt,Rt[h],t,e).catch((function(t){return It.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return o(this,void 0,void 0,(function(){var o;return c(this,(function(c){switch(c.label){case 0:return r&&r.global?(t(vt.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:o=c.sent(),t(vt.CONFIG,o,{update:!0,user_id:n}),c.label=3;case 3:return[2]}}))}))})(Lt,Rt[h],t,e).catch((function(t){return It.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return o(this,void 0,void 0,(function(){var o,l,h,f,d;return c(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(o={},l=0,h=Object.keys(n);l<h.length;l++)f=h[l],o["user_properties."+f]=n[f];return t(vt.SET,o),[2,Promise.resolve()];case 1:return[4,e];case 2:d=c.sent(),t(vt.CONFIG,d,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(Lt,Rt[h],t,e).catch((function(t){return It.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return o(this,void 0,void 0,(function(){var n;return c(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(Rt[h],t).catch((function(t){return It.error(t)}))},INTERNAL:{delete:function(){return delete Rt[h],Promise.resolve()}}}}var Gt="analytics";function zt(){return o(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:if(Object(I.l)())return[2,!1];if(!Object(I.d)())return[2,!1];if(!Object(I.o)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(I.t)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new h.a(Gt,(function(t){return Kt(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Bt,EventName:gt,isSupported:zt})),t.INTERNAL.registerComponent(new h.a("analytics-internal",(function(t){try{return{logEvent:t.getProvider(Gt).getImmediate().logEvent}}catch(t){throw Ot.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.6")}(l.a)},25:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return w}));var r=function(){return(r=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{f(r.next(t))}catch(t){c(t)}}function h(t){try{f(r.throw(t))}catch(t){c(t)}}function f(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,h)}f((r=r.apply(t,e||[])).next())}))}function c(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}Object.create;function l(t){var s="function"==typeof Symbol&&Symbol.iterator,e=s&&t[s],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function f(t,e){for(var i=0,n=e.length,r=t.length;i<n;i++,r++)t[r]=e[i];return t}Object.create;var d=n(4),m=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),v="[DEFAULT]",y=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=v);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new d.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r({identifier:v,optional:!1},t),n=e.identifier,o=e.optional,c=this.normalizeInstanceIdentifier(n);try{var l=this.getOrInitializeService({instanceIdentifier:c});if(!l){if(o)return null;throw Error("Service "+this.name+" is not available")}return l}catch(t){if(o)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(component){var t,e;if(component.name!==this.name)throw Error("Mismatching Component "+component.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=component,function(component){return"EAGER"===component.instantiationMode}(component))try{this.getOrInitializeService({instanceIdentifier:v})}catch(t){}try{for(var n=l(this.instancesDeferred.entries()),r=n.next();!r.done;r=n.next()){var o=h(r.value,2),c=o[0],f=o[1],d=this.normalizeInstanceIdentifier(c);try{var m=this.getOrInitializeService({instanceIdentifier:d});f.resolve(m)}catch(t){}}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=v),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return o(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(f(f([],h(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),h(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=v),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=void 0===e?v:e,r=t.options,o=void 0===r?{}:r,c=this.normalizeInstanceIdentifier(n);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:c,options:o})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,o=void 0===r?{}:r,c=this.instances.get(n);return!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===v?void 0:e),options:o}),this.instances.set(n,c)),c||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:v:t},t}();var w=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(component){var t=this.getProvider(component.name);if(t.isComponentSet())throw new Error("Component "+component.name+" has already been registered with "+this.name);t.setComponent(component)},t.prototype.addOrOverwriteComponent=function(component){this.getProvider(component.name).isComponentSet()&&this.providers.delete(component.name),this.addComponent(component)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new y(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},3:function(t,e,n){"use strict";n.d(e,"b",(function(){return C}));var r=function(){return(r=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.create;Object.create;var o,c,l=n(4),h=n(25),f=n(16),d=((o={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",o["bad-app-name"]="Illegal App name: '{$appName}",o["duplicate-app"]="Firebase App named '{$appName}' already exists",o["app-deleted"]="Firebase App named '{$appName}' already deleted",o["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",o["invalid-log-argument"]="First argument to `onLog` must be null or a function.",o),m=new l.b("app","Firebase",d),v="@firebase/app",y="[DEFAULT]",w=((c={})[v]="fire-core",c["@firebase/analytics"]="fire-analytics",c["@firebase/auth"]="fire-auth",c["@firebase/database"]="fire-rtdb",c["@firebase/functions"]="fire-fn",c["@firebase/installations"]="fire-iid",c["@firebase/messaging"]="fire-fcm",c["@firebase/performance"]="fire-perf",c["@firebase/remote-config"]="fire-rc",c["@firebase/storage"]="fire-gcs",c["@firebase/firestore"]="fire-fst",c["fire-js"]="fire-js",c["firebase-wrapper"]="fire-js-all",c),I=new f.b("@firebase/app"),E=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(l.h)(t),this.container=new h.b(e.name),this._addComponent(new h.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(component){return r._addComponent(component)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=y),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=y),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(component){try{this.container.addComponent(component)}catch(t){I.debug("Component "+component.name+" failed to register with FirebaseApp "+this.name,t)}},t.prototype._addOrOverwriteComponent=function(component){this.container.addOrOverwriteComponent(component)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw m.create("app-deleted",{appName:this.name_})},t}();E.prototype.name&&E.prototype.options||E.prototype.delete||console.log("dc");var T=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={}),"object"==typeof o&&null!==o||(o={name:o});var c=o;void 0===c.name&&(c.name=y);var h=c.name;if("string"!=typeof h||!h)throw m.create("bad-app-name",{appName:String(h)});if(Object(l.f)(e,h))throw m.create("duplicate-app",{appName:h});var f=new t(n,c,r);return e[h]=f,f},app:o,registerVersion:function(t,e,n){var r,o=null!==(r=w[t])&&void 0!==r?r:t;n&&(o+="-"+n);var l=o.match(/\s|\//),f=e.match(/\s|\//);if(l||f){var d=['Unable to register library "'+o+'" with version "'+e+'":'];return l&&d.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),l&&f&&d.push("and"),f&&d.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void I.warn(d.join(" "))}c(new h.a(o+"-version",(function(){return{library:o,version:e}}),"VERSION"))},setLogLevel:f.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw m.create("invalid-log-argument");Object(f.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function o(t){if(t=t||y,!Object(l.f)(e,t))throw m.create("no-app",{appName:t});return e[t]}function c(component){var c=component.name;if(n.has(c))return I.debug("There were multiple attempts to register component "+c+"."),"PUBLIC"===component.type?r[c]:null;if(n.set(c,component),"PUBLIC"===component.type){var h=function(t){if(void 0===t&&(t=o()),"function"!=typeof t[c])throw m.create("invalid-app-argument",{appName:c});return t[c]()};void 0!==component.serviceProps&&Object(l.i)(h,component.serviceProps),r[c]=h,t.prototype[c]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,c).apply(this,component.multipleInstances?t:[])}}for(var f=0,d=Object.keys(e);f<d.length;f++){var v=d[f];e[v]._addComponent(component)}return"PUBLIC"===component.type?r[c]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),o.App=t,r}(E);return e.INTERNAL=r(r({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(l.i)(e,t)},createSubscribe:l.g,ErrorFactory:l.b,deepExtend:l.i}),e}(),S=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var component=t.getComponent();return"VERSION"===(null==component?void 0:component.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(l.k)()&&void 0!==self.firebase){I.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _=self.firebase.SDK_VERSION;_&&_.indexOf("LITE")>=0&&I.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var O=T.initializeApp;T.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(l.q)()&&I.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),O.apply(void 0,t)};var k,A,C=T;(k=C).INTERNAL.registerComponent(new h.a("platform-logger",(function(t){return new S(t)}),"PRIVATE")),k.registerVersion(v,"0.6.17",A),k.registerVersion("fire-js","");e.a=C},31:function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var content=function(t,e){var content=t[1]||"",n=t[3];if(!n)return content;if(e&&"function"==typeof btoa){var r=(c=n,l=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(data," */")),o=n.sources.map((function(source){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(source," */")}));return[content].concat(o).concat([r]).join("\n")}var c,l,data;return[content].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(content,"}"):content})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(o[c]=!0)}for(var l=0;l<t.length;l++){var h=[].concat(t[l]);r&&o[h[0]]||(n&&(h[2]?h[2]="".concat(n," and ").concat(h[2]):h[2]=n),e.push(h))}},e}},32:function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],c=o[0],l={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[c]?r[c].parts.push(l):n.push(r[c]={id:c,parts:[l]})}return n}n.r(e),n.d(e,"default",(function(){return w}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c={},head=o&&(document.head||document.getElementsByTagName("head")[0]),l=null,h=0,f=!1,d=function(){},m=null,v="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function w(t,e,n,o){f=n,m=o||{};var l=r(t,e);return I(l),function(e){for(var n=[],i=0;i<l.length;i++){var o=l[i];(h=c[o.id]).refs--,n.push(h)}e?I(l=r(t,e)):l=[];for(i=0;i<n.length;i++){var h;if(0===(h=n[i]).refs){for(var f=0;f<h.parts.length;f++)h.parts[f]();delete c[h.id]}}}}function I(t){for(var i=0;i<t.length;i++){var e=t[i],n=c[e.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](e.parts[r]);for(;r<e.parts.length;r++)n.parts.push(T(e.parts[r]));n.parts.length>e.parts.length&&(n.parts.length=e.parts.length)}else{var o=[];for(r=0;r<e.parts.length;r++)o.push(T(e.parts[r]));c[e.id]={id:e.id,refs:1,parts:o}}}}function E(){var t=document.createElement("style");return t.type="text/css",head.appendChild(t),t}function T(t){var e,n,r=document.querySelector("style["+v+'~="'+t.id+'"]');if(r){if(f)return d;r.parentNode.removeChild(r)}if(y){var o=h++;r=l||(l=E()),e=O.bind(null,r,o,!1),n=O.bind(null,r,o,!0)}else r=E(),e=k.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var S,_=(S=[],function(t,e){return S[t]=e,S.filter(Boolean).join("\n")});function O(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,o);else{var c=document.createTextNode(o),l=t.childNodes;l[e]&&t.removeChild(l[e]),l.length?t.insertBefore(c,l[e]):t.appendChild(c)}}function k(t,e){var n=e.css,r=e.media,o=e.sourceMap;if(r&&t.setAttribute("media",r),m.ssrId&&t.setAttribute(v,e.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},4:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return A})),n.d(e,"c",(function(){return k})),n.d(e,"d",(function(){return O})),n.d(e,"e",(function(){return L})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return D})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return f})),n.d(e,"k",(function(){return v})),n.d(e,"l",(function(){return y})),n.d(e,"m",(function(){return I})),n.d(e,"n",(function(){return E})),n.d(e,"o",(function(){return S})),n.d(e,"p",(function(){return d})),n.d(e,"q",(function(){return m})),n.d(e,"r",(function(){return w})),n.d(e,"s",(function(){return T})),n.d(e,"t",(function(){return _}));var r=n(172),o=function(t){for(var e=[],p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?e[p++]=n:n<2048?(e[p++]=n>>6|192,e[p++]=63&n|128):55296==(64512&n)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),e[p++]=n>>18|240,e[p++]=n>>12&63|128,e[p++]=n>>6&63|128,e[p++]=63&n|128):(e[p++]=n>>12|224,e[p++]=n>>6&63|128,e[p++]=63&n|128)}return e};function c(t){return l(void 0,t)}function l(t,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return source}for(var e in source)source.hasOwnProperty(e)&&"__proto__"!==e&&(t[e]=l(t[e],source[e]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function m(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}function v(){return"object"==typeof self&&self.self===self}function y(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function w(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function I(){return f().indexOf("Electron/")>=0}function E(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T(){return f().indexOf("MSAppHost/")>=0}function S(){return"indexedDB"in self&&null!=indexedDB}function _(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=window.indexedDB.open(r);o.onsuccess=function(){o.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=function(){n=!1},o.onerror=function(){var t;e((null===(t=o.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function O(){return!(!navigator||!navigator.cookieEnabled)}var k=function(t){function e(code,n,r){var o=t.call(this,n)||this;return o.code=code,o.customData=r,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,A.prototype.create),o}return Object(r.a)(e,t),e}(Error),A=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(code){for(var data=[],t=1;t<arguments.length;t++)data[t-1]=arguments[t];var e=data[0]||{},n=this.service+"/"+code,template=this.errors[code],r=template?C(template,e):"Error",o=this.serviceName+": "+r+" ("+n+").",c=new k(n,o,e);return c},t}();function C(template,data){return template.replace(N,(function(t,e){var n=data[e];return null!=n?String(n):"<"+e+"?>"}))}var N=/\{\$([^}]+)}/g;function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,c,a=this.chain_[0],b=this.chain_[1],l=this.chain_[2],h=this.chain_[3],f=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=h^b&(l^h),c=1518500249):(o=b^l^h,c=1859775393):i<60?(o=b&l|h&(b|l),c=2400959708):(o=b^l^h,c=3395469782);r=(a<<5|a>>>27)+o+f+c+n[i]&4294967295;f=h,h=l,l=4294967295&(b<<30|b>>>2),b=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+b&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,o=this.buf_,c=this.inbuf_;r<e;){if(0===c)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(o[c]=t.charCodeAt(r),++r,++c===this.blockSize){this.compress_(o),c=0;break}}else for(;r<e;)if(o[c]=t[r],++r,++c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var r=24;r>=0;r-=8)t[n]=this.chain_[i]>>r&255,++n;return t}}();function D(t,e){var n=new P(t,e);return n.subscribe.bind(n)}var P=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,o=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o in t&&"function"==typeof t[o])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=j),void 0===r.error&&(r.error=j),void 0===r.complete&&(r.complete=j);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}})),this.observers.push(r),c},t.prototype.unsubscribeOne=function(i){void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var i=0;i<this.observers.length;i++)this.sendOne(i,t)},t.prototype.sendOne=function(i,t){var e=this;this.task.then((function(){if(void 0!==e.observers&&void 0!==e.observers[i])try{t(e.observers[i])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function j(){}function L(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),o=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+o)}}).call(this,n(29))},53:function(t,e,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,c=r(),l=c.default;void 0===l&&(l=[]);var h=c.placeholder;return n._isMounted?l:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?t(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||h):l.length>0?l.map((function(){return t(!1)})):t(!1))}};t.exports=r}}]);